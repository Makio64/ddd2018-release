webpackJsonp([1],Array(53).concat([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),n=a.n(o),i=a(79),r=a(103),s=a(151);t["default"]=function e(){n()(this,e),i.a.initPostprocess(),r.a.to(new s.a)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0;var o=a(93),n=(function(e){return e&&e.__esModule?e:{default:e}})(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===("undefined"==typeof t?"undefined":(0,n.default)(t))||"function"==typeof t)?t:e}},function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(142),i=o(n),r=a(146),s=o(r),l=a(93),d=o(l);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,d.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,a){"use strict";t.__esModule=!0;var o=a(125),n=(function(e){return e&&e.__esModule?e:{default:e}})(o);t.default=(function(){function e(e,t){for(var a=0,o;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}})()},function(e,t,a){"use strict";var o=Math.round,n=a(17),r=a.n(n),i=a(0),s=a.n(i),l=a(77),d=a.n(l),u=a(82),p=a(296),c=a(114),m=a(116),v=a(81),f=a(117),g=a(294),h=(function(){function e(){var t=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"node";s()(this,e),this.render=function(){if(t.isDirty){t.inputsEl.innerHTML="",t.outputsEl.innerHTML="";for(var e=t.inputs,a=Array.isArray(e),o=0,e=a?e:r()(e);;){var n;if(a){if(o>=e.length)break;n=e[o++]}else{if(o=e.next(),o.done)break;n=o.value}var i=n;t.inputsEl.appendChild(i.dom)}for(var s=t.outputs,l=Array.isArray(s),d=0,s=l?s:r()(s);;){var u;if(l){if(d>=s.length)break;u=s[d++]}else{if(d=s.next(),d.done)break;u=d.value}var p=u;t.outputsEl.appendChild(p.dom)}t.pluginsEl=t.dom.querySelectorAll(".input, .output");for(var c=t.pluginsEl,m=Array.isArray(c),f=0,c=m?c:r()(c);;){var g;if(m){if(f>=c.length)break;g=c[f++]}else{if(f=c.next(),f.done)break;g=f.value}var h=g;v.a.has(h,"down",t.onPlugDown)||v.a.on(h,"down",t.onPlugDown)}t.isDirty=!1}},this.onPlugChange=function(){t.isPlugDirty=!0},this.onDragStart=function(){t.dragndrop.containerEl=t.dom.parentNode,t.nodePanel.selectNode(t)},this.onDragEnd=function(){t._x=t.dragndrop.targetX,t._y=t.dragndrop.targetY},this.onDragMove=function(){t.nodePanel.redraw()},this.onPlugDown=function(a){t.nodePanel.onInputDown(a.origin,t)},this.dispose=function(){for(var e=t.inputs,a=Array.isArray(e),n=0,e=a?e:r()(e);;){var s;if(a){if(n>=e.length)break;s=e[n++]}else{if(n=e.next(),n.done)break;s=n.value}var l=s;l.dispose()}for(var i=t.outputs,d=Array.isArray(i),u=0,i=d?i:r()(i);;){var p;if(d){if(u>=i.length)break;p=i[u++]}else{if(u=i.next(),u.done)break;p=u.value}var c=p;c.dispose()}t.inputs=null,t.outputs=null,t.inputsEl=null,t.outputsEl=null,t.contentEl=null,t.dom.innerHTML="",t.dom=null,t.parent=null,t.nodePanel=null,t.dragndrop.dispose()},this.dom=Object(u.b)(a(297).default),this.inputsEl=this.dom.querySelector(".inputs"),this.outputsEl=this.dom.querySelector(".outputs"),this.contentEl=this.dom.querySelector(".content"),this.inputs=[],this.outputs=[],this.value=null,this.name=o,this.isDirty=!0,this.isPlugDirty=!0,this.nodePanel=null,this.forceValue=void 0,this.id=Object(f.b)(16),this._x=0,this._y=0,this.render(),this.dragndrop=new m.a(this.dom,null,null,0),this.dragndrop.onMove.add(this.onDragMove),this.dragndrop.onStart.add(this.onDragStart),this.dragndrop.onEnd.add(this.onDragEnd)}return e.prototype.updateDom=function(){this.dom.style.transform="translate("+this._x+"px,"+this._y+"px)"},e.prototype.update=function(){this.isAllInputConnected()&&(this.value=this.inputs[0].value,this.contentEl.innerHTML=this.name+": "+this.value)},e.prototype.contains=function(e,t){for(var a=t?this.inputs:this.outputs,o=a,n=Array.isArray(o),i=0,o=n?o:r()(o);;){var s;if(n){if(i>=o.length)break;s=o[i++]}else{if(i=o.next(),i.done)break;s=i.value}var l=s;if(e==l.dom)return l}return null},e.prototype.isAllInputConnected=function(){if(0==this.inputs.length+this.outputs.length)return!1;for(var e=this.inputs,t=Array.isArray(e),a=0,e=t?e:r()(e);;){var o;if(t){if(a>=e.length)break;o=e[a++]}else{if(a=e.next(),a.done)break;o=a.value}var n=o;if(!n.link)return!1}return!0},e.prototype.getParentNodes=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(-1==e.indexOf(this)){e.push(this);for(var t=this.inputs,a=Array.isArray(t),o=0,t=a?t:r()(t);;){var n;if(a){if(o>=t.length)break;n=t[o++]}else{if(o=t.next(),o.done)break;n=o.value}var i=n;i.link&&i.link.out&&i.link.out.node.getParentNodes(e)}return e}},e.prototype.getLinks=function(){for(var e=[],t=this.inputs,a=Array.isArray(t),o=0,t=a?t:r()(t);;){var n;if(a){if(o>=t.length)break;n=t[o++]}else{if(o=t.next(),o.done)break;n=o.value}var i=n;i.link&&e.push(i.link)}return e},e.prototype.createInput=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"any";this.isDirty=!0;var a=new p.a(e,this,!0,t);a.slot=this.inputs.length,a.onChange.add(this.onPlugChange),this.inputs.push(a),this.render()},e.prototype.createOutput=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"any";this.isDirty=!0;var a=new p.a(e,this,!1,t);a.slot=this.outputs.length,a.onChange.add(this.onPlugChange),this.outputs.push(a),this.render()},e.prototype.serialize=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"basic",t={name:this.name,value:this.value,type:e,x:o(this.x),y:o(this.y),id:this.id};return t},e.deserialize=function(t){var a=new e(t.name);return a.baseDeserialize(t),a},e.prototype.baseDeserialize=function(e){this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.id=e.id,this.value=parseFloat(e.value),this.updateDom()},d()(e,[{key:"name",set:function(e){this._name=e,this.contentEl.innerHTML=e},get:function(){return this._name}},{key:"x",set:function(e){this._x=o(e),this.dragndrop.targetX=e,this.updateDom()},get:function(){return this._x}},{key:"y",set:function(e){this._y=o(e),this.dragndrop.targetY=e,this.updateDom()},get:function(){return this._y}},{key:"color",set:function(e){this.dom.style.backgroundColor=e}}]),e})();t.a=h},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(1),l=a(5),d=a(128),u=(function(){function t(){var a=this;n()(this,t),this.initPostprocess=function(){a.composer=new d.a(a.renderer,{}),a.composer.setSize(a.renderer.domElement.width,a.renderer.domElement.height),a.postprocess=!0},this.add=function(e){a.group.add(e)},this.remove=function(e){a.group.remove(e)},this.getObjectByName=function(e){return a.scene.getObjectByName(e)},this.addPass=function(e){a.passes.push(e)},this.clearPass=function(){a.passes=[]},this.activate=function(){a.renderer.domElement.style.display=""},this.deactivate=function(){a.renderer.domElement.style.display="none"},this.render=function(e){if(a.enabled){if(a.control&&a.control.update(e),a.onBeforeRenderer.dispatch(),a.postprocess){a.composer.render(a.scene,a.camera);for(var t=0,o=a.passes.length-1;t<o;t++)a.composer.pass(a.passes[t]);a.composer.toScreen(0<a.passes.length?a.passes[a.passes.length-1]:null)}else a.renderer.render(a.scene,a.camera);a.onAfterRenderer.dispatch()}},this.resize=function(){a.camera.aspect=l.a.width/l.a.height,a.camera.updateProjectionMatrix(),a.renderer.setSize(l.a.width,l.a.height),a.renderer.setPixelRatio(l.a.pixelRatio),a.resolution=new e.Vector2(1,l.a.height/l.a.width),a.render(0),a.composer&&a.composer.setSize(a.renderer.domElement.width,a.renderer.domElement.height)},this.models={},this.textures={},this.camera=null,this.scene=null,this.clearAuto=!0,this.renderer=null,this.postprocess=!1,this.passes=[],this.clearAlpha=1,this.enabled=!0,this.onBeforeRenderer=new s.a,this.onAfterRenderer=new s.a;var o=l.a.width,i=l.a.height;this.camera=new e.PerspectiveCamera(50,o/i,.1,2500),this.scene=new e.Scene;this.resolution=new e.Vector2(1,i/o),this.renderer=new e.WebGLRenderer({alpha:!1,antialias:!1,preserveDrawingBuffer:!1}),this.renderer.setPixelRatio(l.a.pixelRatio),this.renderer.domElement.className="three",this.renderer.setSize(o,i),this.renderer.setClearColor(16711680,0),this.floatSupported=!!this.renderer.extensions.get("OES_texture_float"),this.halfFloatSupported=!!this.renderer.extensions.get("OES_texture_half_float");var r=new e.MeshBasicMaterial({side:e.DoubleSide,color:255,transparent:!0,opacity:this.clearAlpha});this.buffer={scene:new e.Scene,camera:new e.OrthographicCamera(-.5,.5,.5,-.5,0,1),material:r,mesh:new e.Mesh(new e.PlaneBufferGeometry(1,1),r)},this.buffer.scene.add(this.buffer.mesh),this.group=new e.Group,this.scene.add(this.group),l.a.onUpdate.add(this.render),l.a.onResize.add(this.resize),document.body.appendChild(this.renderer.domElement),this.render(0)}return r()(t,[{key:"backgroundColor",set:function(e){this.renderer.setClearColor(e,this.clearAlpha),this.buffer.mesh.material.color.setHex(e)}}]),t})(),p=new u;t.a=p}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(149),n=a.n(o),i=a(0),r=a.n(i);t.a=function t(a,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};r()(this,t),this.name=a,this.enabled=!0,this.canCompute=!0,this.fragmentShader=o,this.vertexShader="\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\t\n\t\t",this.uniforms=n()({resolution:{type:"v2",value:new e.Vector2(1,1)},time:{type:"f",value:Date.now()},tInput:{type:"t",value:null}},i),this.material=new e.ShaderMaterial({vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,uniforms:this.uniforms,flatShading:!0,depthWrite:!1,depthTest:!1,transparent:!1})}}).call(t,a(28))},function(e,t,a){"use strict";function o(e){var t="";return C?window.navigator.msPointerEnabled?"down"===e?t="MSPointerDown":"move"===e?t="MSPointerMove":"up"===e?t="MSPointerUp":"click"===e?t="MSPointerUp":void 0:"down"===e?t="touchstart":"move"===e?t="touchmove":"up"===e?t="touchend":"click"===e?t="touchstart":void 0:"down"===e?t="mousedown":"move"===e?t="mousemove":"up"===e?t="mouseup":"click"===e?t="click":"over"===e?t="safari"==h.name?"mouseover":"mouseenter":"out"===e?t="safari"==h.name?"mouseout":"mouseleave":void 0,t}function r(e){return"down"===e?y:"move"===e?b:"up"===e?w:"click"===e?_:"over"===e?S:"out"===e?M:void 0}function n(e,t){for(var a=null,o=0,r=t.length;o<r;o++)if(a=t[o],a.cb==e)return{data:a,idx:o};return null}function i(t){var e=A.x,a=A.y;return A.x=t.x,A.y=t.y,T.x=A.x-e,T.y=A.y-a,A.moveX=T.x,A.moveY=T.y,A.normalizedX=A.x/f.a.width,A.normalizedY=A.y/f.a.height,A.unitX=2*(A.normalizedX-.5),A.unitY=2*(A.normalizedY-.5),A}function s(){z.x=A.x,z.y=A.y}function l(){N.dispatch(),P.mouseIsDown=!1}var d=a(17),u=a.n(d),p=a(104),c=a.n(p),m=a(35),v=a.n(m),f=a(5),g=a(1),h=a(108).detect(),y=new c.a,b=new c.a,w=new c.a,_=new c.a,S=new c.a,M=new c.a,D=[y,b,w,_],C=v.a.any,k=function(e,t,a){function n(t){if(t={x:0,y:0,origin:t},!C)t.x=t.origin.clientX,t.y=t.origin.clientY;else if(window.navigator.msPointerEnabled)t.x=t.origin.clientX,t.y=t.origin.clientY;else{var o=t.origin.touches[0];o&&(t.x=o.clientX,t.y=o.clientY)}a.call(this,t)}var i=o(t);if(""!=i){var s=r(t);s.get(e)||s.set(e,[]),s.get(e).push({cb:a,proxy:n}),e.addEventListener(i,n,!1)}},I={preventDefaultTouch:!0},P={isMouseDown:!1},A={x:.5*f.a.width,y:.5*f.a.height,normalizedX:.5,normalizedY:.5,unitX:0,unitY:0,moveX:0,moveY:0,e:null},z={x:.5*f.a.width,y:.5*f.a.height},T={x:.5*f.a.width,y:.5*f.a.height},U=new g.a,O=new g.a,E=new g.a,L=new g.a,N=new g.a;k(window,"down",(function(t){document.body.classList.add("grabbing"),P.isMouseDown=!0,U.dispatch(i(t))})),k(window,"move",(function(t){s(),I.preventDefaultTouch&&t.origin.preventDefault(),E.dispatch(i(t))})),k(window,"up",(function(t){document.body.classList.remove("grabbing"),P.isMouseDown=!1,O.dispatch(i(t))})),k(window,"click",(function(t){L.dispatch(i(t))})),window.addEventListener("blur",(function(){l()})),window.addEventListener("mouseleave",(function(){l()}));t.a={config:I,infos:P,on:k,off:function(e,t,a){var s=o(t);if(""!=s){var l=r(t),d=l.get(e);if(d)if(a){var u=n(a,d);if(!u)return;e.removeEventListener(s,u.data.proxy,!1),d.splice(u.idx,1)}else{for(var p=null,c=0,i=d.length;c<i;c++)p=d[c],e.removeEventListener(s,p.proxy,!1);l.delete(e)}}},has:function(e,t,n){var i=o(t);if(""!=i){var s=r(t),l=s.get(e);if(!l)return!1;for(var d=l,p=Array.isArray(d),c=0,d=p?d:u()(d);;){var m;if(p){if(c>=d.length)break;m=d[c++]}else{if(c=d.next(),c.done)break;m=c.value}var v=m;if(v.cb==n)return!0}return!1}},unbind:function(e){for(var t=0,a=D.length;t<a;t++)D[t][e]=null,delete D[t][e]},mouse:A,prevMouse:z,move:T,onDown:U,onUp:O,onMove:E,onClick:L,onLeave:N}},function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var o=a(17),n=a.n(o),i=(function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var a in t)if(e.style[t[a]+"Transform"]!==void 0)return t[a]+"Transform"}return"transform"})(),r=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:e.parentNode,a=e.getBoundingClientRect(),o={left:a.left,top:a.top};if(t){var n=t.getBoundingClientRect();o.left-=n.left,o.top-=n.top}return o},s=document.createElement("div"),l=function(e){return s.innerHTML=e,s.firstChild},d=/^data\-(.+)$/},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(109),r=a(29),s=a(174),l=a(190);new s.a;var d=(function(){function e(){var t=this,a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];n()(this,e),this.onMouseDown=function(t){t.stopPropagation()},this.onUpdateListenerTicker=function(){t.folderRoot.updater.update()},this.toogleVisibility=function(){t.dom.style.display="block"==t.dom.style.display?"none":"block"},this.dom=document.createElement("div"),this.dom.classList.add("mnf-gui"),a&&(this.dom.classList.add("mnf-gui--main"),document.body.appendChild(this.dom)),this.folderRoot=new l.a("root",this.dom),this.dom.appendChild(this.folderRoot.dom),this.dom.style.display="none",this.dom.addEventListener("mousedown",this.onMouseDown,!1),this.listenerTicker=new i.a(24,this.onUpdateListenerTicker)}return e.prototype.add=function(){var e;return r.a.showGUI&&(this.dom.style.display="block"),(e=this.folderRoot).add.apply(e,arguments)},e.prototype.addColor=function(){var e;return r.a.showGUI&&(this.dom.style.display="block"),(e=this.folderRoot).addColor.apply(e,arguments)},e.prototype.addFolder=function(e){return r.a.showGUI&&(this.dom.style.display="block"),this.folderRoot.addFolder(e)},e})();t.a=new d(!0)},function(e){function t(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var i=a(n),r=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[o].concat(r).concat([i]).join("\n")}return[o].join("\n")}function a(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return"/*# "+("sourceMappingURL=data:application/json;charset=utf-8;base64,"+t)+" */"}e.exports=function(e){var a=[];return a.toString=function(){return this.map((function(a){var o=t(a,e);return a[2]?"@media "+a[2]+"{"+o+"}":o})).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},n=0,i;n<this.length;n++)i=this[n][0],"number"==typeof i&&(o[i]=!0);for(n=0;n<e.length;n++){var r=e[n];"number"==typeof r[0]&&o[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),a.push(r))}},a}},function(e,t,a){function o(e,t){for(var a=0;a<e.length;a++){var o=e[a],n=v[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(u(o.parts[i],t))}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(u(o.parts[i],t));v[o.id]={id:o.id,refs:1,parts:r}}}}function n(e,t){for(var a=[],o={},n=0;n<e.length;n++){var i=e[n],r=t.base?i[0]+t.base:i[0],s=i[1],l=i[2],d=i[3],u={css:s,media:l,sourceMap:d};o[r]?o[r].parts.push(u):a.push(o[r]={id:r,parts:[u]})}return a}function i(e,t){var a=h(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=w[w.length-1];if("top"===e.insertAt)o?o.nextSibling?a.insertBefore(t,o.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),w.push(t);else if("bottom"===e.insertAt)a.appendChild(t);else if("object"==typeof e.insertAt&&e.insertAt.before){var n=h(e.insertInto+" "+e.insertAt.before);a.insertBefore(t,n)}else throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")}function r(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=w.indexOf(e);0<=t&&w.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",d(t,e.attrs),i(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",d(t,e.attrs),i(e,t),t}function d(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function u(e,t){var a,o,n,i;if(t.transform&&e.css)if(i=t.transform(e.css),i)e.css=i;else return function(){};if(t.singleton){var d=b++;a=y||(y=s(t)),o=p.bind(null,a,d,!1),n=p.bind(null,a,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=l(t),o=m.bind(null,a,t),n=function(){r(a),a.href&&URL.revokeObjectURL(a.href)}):(a=s(t),o=c.bind(null,a),n=function(){r(a)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}function p(e,t,a,o){var n=a?"":o.css;if(e.styleSheet)e.styleSheet.cssText=S(t,n);else{var i=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function c(e,t){var a=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function m(e,t,a){var o=a.css,n=a.sourceMap,i=t.convertToAbsoluteUrls===void 0&&n;(t.convertToAbsoluteUrls||i)&&(o=_(o)),n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var v={},f=(function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}})((function(){return window&&document&&document.all&&!window.atob})),g=function(e){return document.querySelector(e)},h=(function(){var e={};return function(t){if("function"==typeof t)return t();if("undefined"==typeof e[t]){var a=g.call(this,t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}})(),y=null,b=0,w=[],_=a(177);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=n(e,t);return o(a,t),function(e){for(var r=[],s=0;s<a.length;s++){var i=a[s],l=v[i.id];l.refs--,r.push(l)}if(e){var d=n(e,t);o(d,t)}for(var s=0,l;s<r.length;s++)if(l=r[s],0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete v[l.id]}}};var S=(function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}})()},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(118),p=(function(e){function t(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"SliderNode",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"number";n()(this,t);var i=r()(this,e.call(this,a));return i.min=0,i.max=1,i.value=.5,i.createOutput("value",o),i.type="number",i.contentEl.innerHTML="",i.progressBar=new u.a(100,13,!0),i.progressBar.percent=i.value,i.progressBar.dom.style.position="absolute",i.progressBar.dom.style.top="0px",i.progressBar.dom.style.left="0px",i.progressBar.dom.style.zIndex="10",i.contentEl.appendChild(i.progressBar.dom),i.progressBar.dom.style.display="inline-block",i.contentEl.style.top="8px",i.contentEl.style.left="15px",i.contentEl.style.transform="initial",i.label=document.createElement("div"),i.label.innerHTML=a,i.label.className="label",i.contentEl.appendChild(i.label),i}return l()(t,e),t.prototype.update=function(){this.value=void 0==this.forceValue?this.progressBar.percent:this.forceValue},t.prototype.serialize=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"slider";return e.prototype.serialize.call(this,t)},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){e.exports={default:a(129),__esModule:!0}},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(82),l=a(1),d=(function(){function e(t,a,o){n()(this,e),this.dom=Object(s.b)(t),this.target=a,this.param=o,this.cbOnChange=null,this.isAutoUpdating=!0,this.onUpdateStatusChange=new l.a}return e.prototype.onChange=function(e){return this.cbOnChange=e,this},e.prototype.listen=function(){return this.autoUpdate(!0),this},e.prototype.autoUpdate=function(e){if(this.isAutoUpdating!=e)return this.isAutoUpdating=e,this.onUpdateStatusChange.dispatch(this),this},e.prototype.update=function(){},e.prototype.name=function(e){return this.label=e,this},e.prototype.dipose=function(){this.target=null,this.cbOnChange=null},r()(e,[{key:"label",set:function(e){this.domLabel&&(this.domLabel.innerHTML=e),this._label=e},get:function(){return this.domLabel?this.domLabel.innerHTML:this._label}}]),e})();t.a=d},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,a){var o=a(33),n=a(157),i=a(158),r=a(7),s=a(43),l=a(50),d={},u={},t=e.exports=function(e,t,a,p,c){var m=c?function(){return e}:l(e),v=o(a,p,t?2:1),f=0,g,h,y,b;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(g=s(e.length);g>f;f++)if(b=t?v(r(h=e[f])[0],h[1]):v(e[f]),b===d||b===u)return b;}else for(y=m.call(e);!(h=y.next()).done;)if(b=n(y,v,h.value,t),b===d||b===u)return b};t.BREAK=d,t.RETURN=u},function(e,t,a){e.exports={default:a(282),__esModule:!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(133),i=o(n),r=a(135),s=o(r),l="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(i.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t,a){t.f=a(2)},function(e,t,a){var o=a(21)("meta"),n=a(12),i=a(8),r=a(11).f,s=0,l=Object.isExtensible||function(){return!0},d=!a(19)((function(){return l(Object.preventExtensions({}))})),u=function(e){r(e,o,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[o].w},onFreeze:function(e){return d&&p.NEED&&l(e)&&!i(e,o)&&u(e),e}}},function(e,t,a){var o=a(3),n=a(10),i=a(41),r=a(94),s=a(11).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:r.f(e)})}},function(e,t,a){"use strict";var o=a(1),n={metaKey:!1,shiftKey:!1,altKey:!1,ctrlKey:!1},i=new o.a,r=new o.a;window.addEventListener("keydown",(function(t){n.metaKey=t.metaKey,n.shiftKey=t.shiftKey,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,i.dispatch(t.which,t)})),window.addEventListener("keyup",(function(t){n.metaKey=t.metaKey,n.shiftKey=t.shiftKey,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,r.dispatch(t.which,t)}));t.a={special:n,up:r,down:i,onUp:r,onDown:i,touches:{enter:13,space:32,q:81,w:87,e:69,r:82,t:84,y:89,u:85,i:73,o:79,p:80,a:65,s:83,d:68,f:70,g:71,h:72,j:74,k:75,l:76,z:90,x:88,c:67,v:86,b:66,n:78,m:77,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"[":219,"]":221,"\\":220,";":186,"'":222,",":188,".":190,"/":191,down:40,up:38,left:37,right:39,esc:27}}},function(e){e.exports="varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},function(e,t,a){var o=a(23);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,a){var o=a(49),n=a(26).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,n)}},function(e,t,a){var o=a(89),n=a(20),i=a(13),r=a(42),s=a(8),l=a(47),d=Object.getOwnPropertyDescriptor;t.f=a(6)?d:function(e,t){if(e=i(e),t=r(t,!0),l)try{return d(e,t)}catch(t){}return s(e,t)?n(!o.f.call(e,t),e[t]):void 0}},function(){},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(5),r=a(29),s=new function e(){var t=this;n()(this,e),this.to=function(e){t.nextScene=e,t.currentScene?t.currentScene.transitionOut():t.onTransitionOutComplete()},this.update=function(e){t.currentScene&&t.currentScene.update(e)},this.onTransitionOutComplete=function(){t.currentScene=t.nextScene,t.debug&&console.log("travel to :",t.currentScene.name),t.currentScene.transitionIn&&t.currentScene.transitionIn()},this.resize=function(){t.currentScene&&t.currentScene.resize&&t.currentScene.resize(),t.nextScene&&t.nextScene.resize&&t.nextScene.resize()},this.debug=!r.a.isProduction,this.currentScene=null,this.nextScene=null,i.a.onUpdate.add(this.update),i.a.onResize.add(this.resize)};t.a=s},function(e,t,a){e.exports={default:a(154),__esModule:!0}},function(e,t,a){var o=a(4);e.exports=function(e,t,a){for(var n in t)a&&e[n]?e[n]=t[n]:o(e,n,t[n]);return e}},function(e){e.exports=function(e,t,a,o){if(!(e instanceof t)||o!==void 0&&o in e)throw TypeError(a+": incorrect invocation!");return e}},function(e,t,a){var o=a(12);e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,a){(function(t){function o(e){var t=s(),a=t.filter((function(t){return t.rule&&t.rule.test(e)}))[0];return a?a.name:null}function n(){var e="undefined"==typeof navigator&&"undefined"!=typeof t;return e?{name:"node",version:t.version.slice(1),os:a(172).type().toLowerCase()}:null}function i(e){var t=r();if(!e)return null;var a=t.map((function(t){var a=t.rule.exec(e),o=a&&a[1].split(/[._]/).slice(0,3);return o&&3>o.length&&(o=o.concat(1==o.length?[0,0]:[0])),a&&{name:t.name,version:o.join(".")}})).filter(Boolean)[0]||null;return a&&(a.os=o(e)),a}function r(){return l([["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]])}function s(){return l([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function l(e){return e.map((function(e){return{name:e[0],rule:e[1]}}))}e.exports={detect:function(){var e=n();if(e)return e;return"undefined"==typeof navigator?null:i(navigator.userAgent)},detectOS:o,getNodeVersion:n,parseUserAgent:i}}).call(t,a(171))},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(5);t.a=function e(t,a){var o=this;n()(this,e),this.onUpdate=function(e){o.time-=e,0>o.time&&(o.callback(),o.time+=o.duration)},this.dispose=function(){a=null,i.a.onUpdate.remove(o.onUpdate)},this.duration=t,this.time=t,this.callback=a,i.a.onUpdate.add(this.onUpdate)}},function(e,t,a){"use strict";function o(e,t,a){return(255*e<<16)+(255*t<<8)+255*a}function n(e,t,a){return"#"+(16777216+(e<<16)+(t<<8)+a).toString(16).slice(1)}function i(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.hue,a=t===void 0?255*Math.random():t,o=e.sat,n=o===void 0?255*Math.random():o,i=e.lum,r=i===void 0?255*Math.random():i;return{h:a,s:n,l:r,string:"hsl( "+a+", "+n+"%, "+r+"% )"}}function r(e,a,o){return 0>o&&(o+=1),1<o&&(o-=1),o<1/6?e+6*(a-e)*o:o<1/2?a:o<2/3?e+6*((a-e)*(2/3-o)):e}var s=Math.round;a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i}))},function(e,t,a){"use strict";var o=Math.sin,n=Math.cos,r=Math.PI;(function(e){var i=a(87),s=a.n(i),l=a(0),d=a.n(l),u=a(77),p=a.n(u),c=a(75),m=a.n(c),v=a(76),f=a.n(v),g=a(5),h=a(79),y=a(232),b=a(233),w=a(234),_=a(235),S=(function(t){function i(o,n,r,l){d()(this,i),r=r||w,l=l||_;var u=Object(b.a)(o*n),p=u.width,c=u.height,v=p*c,f=new Float32Array(4*v),g=new e.DataTexture(f,p,c,e.RGBAFormat,e.FloatType,e.UVMapping,e.RepeatWrapping,e.RepeatWrapping,e.NearestFilter,e.NearestFilter,0);g.needsUpdate=!0,g.generateMipmaps=!1;var S=new y.a(o,n,p,c),M=new e.RawShaderMaterial({vertexShader:r,fragmentShader:l,uniforms:{positions:{type:"t",value:g},lineWidth:{type:"f",value:.1},alphaTest:{type:"f",value:.01},resolution:{type:"v2",value:h.a.resolution},opacity:{type:"f",value:1},growSide:{type:"v2",value:new e.Vector2(0,1)}},depthTest:!0,depthWrite:!0,transparent:!0}),D=new e.ShaderMaterial({vertexShader:a(236),fragmentShader:a(237),uniforms:s()({},M.uniforms)}),C=m()(this,t.call(this,S,M));return C.linesCount=o,C.lineDivision=n,C.texture=g,C.widthTexture=p,C.heightTexture=c,C.sizeTexture=v,C.castShadow=!1,C.frustumCulled=!1,C.customDepthMaterial=D,C}return f()(i,t),i.prototype.toCircle=function(){for(var e=0,t=this.lineDivision-1,a=0;a<this.linesCount;a+=1)for(var i=0,s;i<this.lineDivision;i++)s=i/t*(2*r),this.texture.image.data[e]=10*n(s),this.texture.image.data[e+1]=20*(a/this.linesCount)-10,this.texture.image.data[e+2]=10*o(s),this.texture.image.data[e+3]=1,e+=4;this.texture.needsUpdate=!0},i.prototype.toCircle2=function(){for(var e=0,t=this.linesCount*this.lineDivision,a=[],s=0,l=0,i;10>l;l+=1){i=Math.floor(10*Math.random()+4),s+=i,a.push(i);for(var d=0,u;d<i;d++)u=d/(i-1)*(2*r),this.texture.image.data[e]=10*n(u),this.texture.image.data[e+1]=50*(l/10)-25,this.texture.image.data[e+2]=10*o(u),this.texture.image.data[e+3]=1,e+=4}this.geometry.updateSizes(a,s),this.texture.needsUpdate=!0},i.prototype.toLine=function(){for(var e=0,t=this.lineDivision-1,a=0;a<this.linesCount;a++)for(var o=0;o<this.lineDivision;o++)this.texture.image.data[e]=-5+10*(o/this.lineDivision),this.texture.image.data[e+1]=.3*(a/this.linesCount*this.linesCount-this.linesCount/2),this.texture.image.data[e+2]=0,this.texture.image.data[e+3]=1,e+=4;this.texture.needsUpdate=!0},p()(i,[{key:"lineWidth",get:function(){return this.material.uniforms.lineWidth.value},set:function(e){this.material.uniforms.lineWidth.value=e}}]),i})(e.Mesh);t.a=S}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(5),l=a(79),d=(function(){function t(){var a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];n()(this,t),this.ray=new e.Raycaster,this.mouse=new e.Vector2,this.dummy=a?null:new e.Vector3(-99999,-99999,-99999)}return t.prototype.setMouse=function(e,t){this.mouse.x=2*(e/s.a.width)-1,this.mouse.y=2*-(t/s.a.height)+1},t.prototype.getIntersectForObject=function(e){this.ray.setFromCamera(this.mouse,l.a.camera);var t=this.ray.intersectObject(e);return t.length?t[0].point:this.dummy},r()(t,[{key:"x",set:function(){this.mouse.x=x}},{key:"y",set:function(){this.mouse.x=x}}]),t})();t.a=d}).call(t,a(28))},function(e){e.exports="varying vec2 vUv;\nuniform sampler2D t_pos;\n\nvoid main() {\n\tgl_FragColor = texture2D( t_pos, vUv );\n}\n"},function(e,t,a){"use strict";var o=a(87),n=a.n(o),i=a(91),r=a.n(i),s=a(17),l=a.n(s),d=a(0),u=a.n(d),p=a(82),c=a(81),m=a(5),v=a(115),f=a(283),g=a(116),h=a(284),y=a(289),b=a(290),w=(function(){function e(t){var o=this;u()(this,e),this.resize=function(){o.bb=o.dom.getBoundingClientRect(),o.canvas.width=o.bb.width,o.canvas.height=o.bb.height,o.isDirty=!0},this.onInputDown=function(t){t.stopPropagation(),o.currentPlug=t.target.parentNode,o.currentPlugIsIn=o.currentPlug.classList.contains("input"),o.currentPlugPosition=Object(p.a)(o.currentPlug,o.dom);var e=o.findPlugOfEl(o.currentPlug);e.disconnect(),o.selectNode(e.node),o.currentMouse={x:o.currentPlugPosition.left,y:o.currentPlugPosition.top},o.inputsEl=o.dom.querySelectorAll(".input,.output");for(var a=o.inputsEl,n=Array.isArray(a),i=0,a=n?a:l()(a);;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;null==e.node.contains(s,!o.currentPlugIsIn)&&o.currentPlugIsIn!=s.classList.contains("input")&&("any"==o.currentPlug.dataset.type||"any"==s.dataset.type||s.dataset.type==o.currentPlug.dataset.type)&&(s.addEventListener("mouseover",o.onInputOver),s.addEventListener("mouseout",o.onInputOut),s.classList.add("highlight"))}c.a.onMove.add(o.onMove),c.a.onUp.add(o.onUp)},this.onMove=function(t){o.currentMouse.x+=t.moveX,o.currentMouse.y+=t.moveY,o.isDirty=!0},this.onUp=function(){var e=o.findPlugOfEl(o.currentPlug);c.a.onMove.remove(o.onMove),c.a.onUp.remove(o.onUp);for(var t=o.inputsEl,a=Array.isArray(t),n=0,t=a?t:l()(t);;){var i;if(a){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var r=i;null==e.node.contains(r,!o.currentPlugIsIn)&&(o.currentPlugIsIn!=r.classList.contains("input")&&r.classList.remove("highlight"),r.removeEventListener("mouseover",o.onInputOver),r.removeEventListener("mouseout",o.onInputOut))}if(o.currentTarget){var s=o.findPlugOfEl(o.currentTarget),d=o.findPlugOfEl(o.currentPlug);if(s.link){var u=s.link[s.isPlugin?"out":"in"],m=d.node[s.isPlugin?"inputs":"outputs"];0<m.length&&null==m[0].link&&new v.a(m[0],u)}new v.a(d,s)}o.currentPlug=null,o.currentPlugPosition=null,o.currentTarget=null,o.currentTargetPosition=null,o.currentMouse=null,o.isDirty=!0},this.onInputOver=function(t){t.target.parentNode.classList.contains("input")==o.currentPlugIsIn||(o.currentTarget=t.target.parentNode,o.currentTargetPosition=Object(p.a)(t.target.parentNode,o.dom))},this.onInputOut=function(){o.currentTarget=null,o.currentTargetPosition=null},this.update=function(e){for(var t=o.nodes,a=Array.isArray(t),n=0,t=a?t:l()(t);;){var i;if(a){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var r=i;r.update(e)}o.selectedNode&&(o.infoName.innerHTML=o.selectedNode.name,o.infoValue.innerHTML=o.selectedNode.value),o.isDirty&&(o.isDirty=!1,o.redraw())},this.onCreateNode=function(t){var e=o.factory.nodes.get(t.origin.target.dataset.node);if(e){var a=e();o.add(a)}else console.warn("the node factory doesnt have function for:",t.origin.target.dataset.node)},this.deleteCurrent=function(){if(o.selectedNode){var e=o.selectedNode;o.unselectNode(),o.remove(e),o.isDirty=!0}},this.clearCB=function(){o.clear(),o.afterClear()},this.clear=function(){for(;0<o.nodes.length;){var e=o.nodes.pop();o.dom.removeChild(e.dom),e.dispose()}o.unselectNode(),o.isDirty=!0},this.addNodeButton=function(e,t){var a=Object(p.b)("<div class='btn' data-node='"+t+"'>"+e+"</div>");o.dom.querySelector(".buttons").appendChild(a),c.a.on(a,"down",o.onCreateNode)},this.addButton=function(e,t){var a=Object(p.b)("<div class='btn'>"+e+"</div>");o.dom.querySelector(".buttons").appendChild(a),c.a.on(a,"down",t)},this.save=function(){o._saver.save(o.inputSave.value,o.serialize())},this.load=function(){o._saver.load(o.inputSave.value,(function(e){null!=e&&o.deserialize(e)}))},this.clipboard=function(){Object(y.a)(r()(o.serialize()))},this.redraw=function(){if(o.context.clearRect(0,0,o.canvas.width,o.canvas.height),o.context.fillStyle="#212121",o.context.strokeStyle="#fff",o.context.fillRect(0,0,o.canvas.width,o.canvas.height),o.currentPlug){o.context.beginPath();var e=o.currentPlugPosition.left+5,t=o.currentPlugPosition.top+5;if(o.context.moveTo(e,t),o.currentTargetPosition){var a=o.currentTargetPosition.left+5,n=o.currentTargetPosition.top+5;o.context.bezierCurveTo(e,(t+n)/2,a,(t+n)/2,a,n)}else{var i=o.currentMouse.x,r=o.currentMouse.y;o.context.bezierCurveTo(e,(t+r)/2,i,(t+r)/2,i,r)}o.context.stroke()}for(var s=0,d=o.nodes,u=Array.isArray(d),c=0,d=u?d:l()(d);;){var m;if(u){if(c>=d.length)break;m=d[c++]}else{if(c=d.next(),c.done)break;m=c.value}for(var v=m,f=v.outputs,g=Array.isArray(f),h=0,f=g?f:l()(f);;){var y;if(g){if(h>=f.length)break;y=f[h++]}else{if(h=f.next(),h.done)break;y=h.value}var b=y;if(b.link){s++;var w=Object(p.a)(b.dom,o.dom),_=Object(p.a)(b.link.in.dom,o.dom),S=w.left+5,M=w.top+5,D=_.left+5,C=_.top+5;o.context.beginPath(),o.context.moveTo(S,M),o.context.bezierCurveTo(S,(M+C)/2,D,(M+C)/2,D,C),o.context.stroke()}}}},this.show=function(){o.dom.classList.contains("hide")&&o.dom.classList.remove("hide"),o.resize()},this.hide=function(){o.dom.classList.contains("hide")||o.dom.classList.add("hide")},this.toogleVisibility=function(){o.dom.classList.contains("hide")?(o.dom.classList.remove("hide"),o.resize()):o.dom.classList.add("hide")},this.minimizeToogle=function(){var e=!o.dom.classList.contains("minimize");e?o.dom.classList.add("minimize"):o.dom.classList.remove("minimize"),localStorage.setItem("postfx-minimized",e+"")},t=n()({defaultUpdate:!0,autoLoad:!0,json:null},t),this.nodes=[],this.currentTarget=null,this.currentPlug=null,this.currentPlugIsIn=!1,this.dom=Object(p.b)(a(292).default),this.infosEl=this.dom.querySelector(".infos"),this.infoName=this.infosEl.querySelector(".name"),this.infoValue=this.infosEl.querySelector(".value"),this.infosEl.querySelector(".delete").addEventListener("click",this.deleteCurrent),this.dom.querySelector(".minimize").addEventListener("click",this.minimizeToogle),this.inputSave=this.dom.querySelector(".save-input"),this.dom.querySelector(".load").addEventListener("click",this.load),this.dom.querySelector(".save").addEventListener("click",this.save),this.dom.querySelector(".clipboard").addEventListener("click",this.clipboard),this.dom.querySelector(".clear").addEventListener("click",this.clearCB),document.body.appendChild(this.dom),this.canvas=this.dom.querySelector("canvas"),this.resize(),this.context=this.canvas.getContext("2d"),this.factory=new f.a,this.isDirty=!0,"true"==localStorage.getItem("postfx-minimized")&&this.dom.classList.add("minimize"),this._saver=new h.a(!0,!0),t.json?this.deserialize(t.json):t.autoLoad&&this.load(),t.defaultUpdate&&m.a.onUpdate.add(this.update),m.a.onResize.add(this.resize)}return e.prototype.add=function(e){e.parent=this,e.nodePanel=this,0==e.x&&0==e.y&&(e.x=300*Math.random(),e.y=Math.max(10,Math.random()*this.canvas.height-120)),this.dom.appendChild(e.dom),this.nodes.push(e)},e.prototype.remove=function(e){var t=this.nodes.indexOf(e);-1!=t&&(this.dom.removeChild(e.dom),e.dispose(),this.nodes.splice(t,1),this.unselectNode())},e.prototype.selectNode=function(e){this.unselectNode(),this.selectedNode=e,e.dom.classList.add("selected"),this.infosEl.classList.contains("hide")&&this.infosEl.classList.remove("hide")},e.prototype.unselectNode=function(){this.selectedNode&&(this.selectedNode.dom&&this.selectedNode.dom.classList.remove("selected"),this.selectedNode=null,this.infosEl.classList.add("hide"))},e.prototype.afterClear=function(){},e.prototype.buttonJump=function(){this.dom.querySelector(".buttons").appendChild(Object(p.b)("<br/>"))},e.prototype.findPlugOfEl=function(e){for(var t=e.classList.contains("input"),a=null,o=this.nodes,n=Array.isArray(o),i=0,o=n?o:l()(o);;){var r;if(n){if(i>=o.length)break;r=o[i++]}else{if(i=o.next(),i.done)break;r=i.value}var s=r;if(a=s.contains(e,t))break}return a},e.prototype.getNodeById=function(e){for(var t=this.nodes,a=Array.isArray(t),o=0,t=a?t:l()(t);;){var n;if(a){if(o>=t.length)break;n=t[o++]}else{if(o=t.next(),o.done)break;n=o.value}var i=n;if(i.id==e)return i}return null},e.prototype.getNodeByType=function(e){for(var t=this.nodes,a=Array.isArray(t),o=0,t=a?t:l()(t);;){var n;if(a){if(o>=t.length)break;n=t[o++]}else{if(o=t.next(),o.done)break;n=o.value}var i=n;if(i instanceof e)return i}return null},e})();t.a=w},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;n()(this,e),this.in=null,this.out=null,t&&t.attachLink(this),a&&a.attachLink(this)}return e.prototype.disconnect=function(){this.in&&this.in.detach(this),this.out&&this.out.detach(this)},e.prototype.serialize=function(){return{inID:this.in.node.id,inSlot:this.in.slot,outID:this.out.node.id,outSlot:this.out.slot}},r()(e,[{key:"value",get:function(){return this.out.value}}]),e})();t.a=s},function(e,t,a){"use strict";var o=Math.abs,n=Math.min,i=Math.max,r=Math.round,s=a(91),l=a.n(s),d=a(0),u=a.n(d),p=a(1),c=a(81),m=a(82),v=a(5);t.a=function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,f=this,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,h=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];if(u()(this,e),this._onDown=function(t){t.origin.stopPropagation(),f.onStart.dispatch();var e=f.el.getBoundingClientRect();f.containerBB=f.containerEl.getBoundingClientRect(),f.bounding=Object(m.a)(f.el),f.bounding.w=e.width,f.bounding.h=e.height,f.x=f.bounding.left,f.y=f.bounding.top,f.targetX=f.x,f.targetY=f.y,f.el.style.top=0,f.el.style.left=0,f.el.style.transform="translate3d("+f.x+"px,"+f.y+"px,0)",f.autosave(),f.changeCursor&&(f.el.style.cursor="-webkit-grabbing"),c.a.onUp.add(f._onUp),c.a.onMove.add(f._onMove),f.isActive=!0,f.signalUpdate||v.a.onUpdate.add(f.update)},this._onUp=function(t){f.targetX+=t.moveX,f.targetY+=t.moveY,f.changeCursor&&(f.el.style.cursor="-webkit-grab"),0!=f.magnet&&(f.targetX=r(f.targetX/f.magnet)*f.magnet,f.targetY=r(f.targetY/f.magnet)*f.magnet),f.targetX=r(f.targetX),f.targetY=r(f.targetY),f.targetX=i(0,f.targetX),f.targetX=n(f.containerBB.width-f.bounding.w,f.targetX),f.targetY=i(0,f.targetY),f.targetY=n(f.containerBB.height-f.bounding.h,f.targetY),f.autosave(),c.a.onUp.remove(f._onUp),c.a.onMove.remove(f._onMove),f.onEnd.dispatch(),f.isActive=!1},this._onMove=function(t){f.targetX+=t.moveX,f.targetY+=t.moveY,f.autosave()},this.update=function(){f.x+=.33*(f.targetX-f.x),f.y+=.33*(f.targetY-f.y),!f.isActive&&.1>o(f.x-f.targetX)+o(f.y-f.targetY)&&(f.x=f.targetX,f.y=f.targetY,v.a.onUpdate.remove(f.update),f.signalUpdate=!1),f.el.style.transform="translate3d("+f.x+"px,"+f.y+"px,0)",f.onMove.dispatch(f.x,f.y)},this.autosave=function(){f._autosaveID&&localStorage.setItem(f._autosaveID,l()({x:f.targetX,y:f.targetY}))},this.dispose=function(){f.onMove.dispose(),f.onEnd.dispose(),f.onStart.dispose(),c.a.off(f.el,"down",f._onDown),f.el=null},this.onMove=new p.a,this.onEnd=new p.a,this.onStart=new p.a,this.changeCursor=h,this._autosaveID=d,this.magnet=g,this.el=t,this.containerEl=a||t.parentNode,this.targetX=0,this.targetY=0,this.isActive=!1,this.signalUpdate=!1,this.changeCursor&&(this.el.style.cursor="-webkit-grab"),this._autosaveID){var y=localStorage.getItem(d);if(y){var b=JSON.parse(y);this.x=b.x,this.y=b.y,this.el.style.top=0,this.el.style.left=0,this.el.style.transform="translate3d("+this.x+"px,"+this.y+"px,0)"}}c.a.on(t,"down",this._onDown)}},function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=o.length,i=function(){for(var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:14,t="",a=0;a<e;a++)t+=o[Math.random()*n>>0];return t};t.a={capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},generate:i,getFileNameFromURL:function(e){console.log(e);var t=e.substr(e.lastIndexOf("/")+1);return t=t.substr(0,t.lastIndexOf(".")),t}}},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(5),l=a(81),d=a(1),u=a(82),p=a(32),c=(function(){function e(t,a){var o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#16a085",u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"#2ecc71";n()(this,e),this.update=function(){i.isDirty&&(i.isDirty=!1,i.draw())},this.onDown=function(t){t.origin.stopPropagation(),i.x=t.origin.offsetX,i.percent=i.x/i.dom.width,l.a.onMove.add(i.onMove),l.a.onUp.add(i.onUp)},this.onMove=function(t){i.x+=t.moveX,i.percent=i.x/i.dom.width},this.onUp=function(){l.a.onMove.remove(i.onMove),l.a.onUp.remove(i.onUp)},this.dom=document.createElement("canvas"),this.dom.width=t,this.dom.height=a,this.dom.style.width=t+"px",this.dom.style.height=a+"px",this.dom.style.cursor="pointer",this.ctx=this.dom.getContext("2d"),this.isHorizontal=o,this.colorBG=r,this.colorScroll=u,this.onChange=new d.a,this.isDirty=!0,this._percent=0,l.a.on(this.dom,"down",this.onDown),s.a.onUpdate.add(this.update)}return e.prototype.draw=function(){this.ctx.clearRect(0,0,this.dom.width,this.dom.height),this.ctx.fillStyle=this.colorBG,this.ctx.fillRect(0,0,this.dom.width,this.dom.height),this.ctx.fillStyle=this.colorScroll,this.isHorizontal?this.ctx.fillRect(0,0,this.dom.width*this._percent,this.dom.height):this.ctx.fillRect(0,0,this.dom.width,this.dom.height*this._percent)},e.prototype.dispose=function(){this.dom=null,this.ctx=null,this.onChange.dispose(),this.onChange=null,l.a.off(this.dom,"down",this.onDown),l.a.onMove.remove(this.onMove),l.a.onUp.remove(this.onUp)},r()(e,[{key:"percent",set:function(e){e==this._percent||(e=Object(p.a)(e),this._percent=e,this.isDirty=!0,this.onChange.dispatch(e))},get:function(){return this._percent}}]),e})();t.a=c},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(317),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"GammaNode","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?(this.value=this.inputs[1].value,this.pass.gamma=this.value):(e.prototype.update.call(this,t),this.pass.gamma=this.value),this.progressBar.percent=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"gamma");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(325),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"ContrastNode","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?(this.value=this.inputs[1].value,this.pass.contrast=this.value):(e.prototype.update.call(this,t),this.pass.contrast=this.value),this.progressBar.percent=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"contrast");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(327),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Noise","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?this.value=this.inputs[1].value:e.prototype.update.call(this,t),this.progressBar.percent=this.value,this.pass.amount=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"noise");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){e.exports={default:a(334),__esModule:!0}},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(344),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Vignette","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.createInput("falloff","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=.38,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?this.value=this.inputs[1].value:e.prototype.update.call(this,t),this.pass.falloff=this.inputs[2].link?parseFloat(this.inputs[2].value):.38,this.progressBar.percent=this.value,this.pass.amount=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"vignette");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e){e.exports="precision highp float;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},function(e,t,a){e.exports={default:a(126),__esModule:!0}},function(e,t,a){a(127);var o=a(10).Object;e.exports=function(e,t,a){return o.defineProperty(e,t,a)}},function(e,t,a){var o=a(30);o(o.S+o.F*!a(6),"Object",{defineProperty:a(11).f})},function(e,t,a){"use strict";(function(e){var o=a(87),n=a.n(o),i=a(0),r=a.n(i),s=a(132),l=(function(){function t(a){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r()(this,t);var i={minFilter:e.NearestFilter,magFilter:e.NearestFilter,wrapS:e.ClampToEdgeWrapping,wrapT:e.ClampToEdgeWrapping,format:e.RGBFormat,type:e.UnsignedByteType,stencilBuffer:!1};n()(i,o),this.renderer=a,this.rt0=new e.WebGLRenderTarget(1,1,i),this.rt1=this.rt0.clone(),this.rt2=this.rt1.clone(),this.reset(),this.scene=new e.Scene,this.camera=new e.OrthographicCamera(1,1,1,1,-1,1),this.quad=new e.Mesh(new e.PlaneBufferGeometry(1,1)),this.scene.add(this.quad),this.copyPass=new s.a,this.firstPass=!0,this.depthTexture=new e.DepthTexture,this.depthTexture.type=e.UnsignedIntType}return t.prototype.render=function(e,t,a){var o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];a=a?a:this.rt0,a.depthBuffer=o,a.depthTexture=this.depthTexture,this.renderer.render(e,t,a,!0),this.swapBuffers()},t.prototype.pass=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];e.enabled&&(this.quad.material=e.material,this.quad.material.uniforms.tInput.value=(this.firstPass?this.rt0:this.in).texture,this.firstPass&&(this.firstPass=!1),this.quad.material.uniforms.tDepth&&(this.quad.material.uniforms.tDepth.value=this.depthTexture),this.quad.material.uniforms.resolution.value.set(this.width,this.height),a?(this.renderer.render(this.scene,this.camera),this.reset()):t?this.renderer.render(this.scene,this.camera,t,!1):(this.renderer.render(this.scene,this.camera,this.out,!1),this.swapBuffers()))},t.prototype.toScreen=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.pass(null==e?this.copyPass:e,t,!0)},t.prototype.swapBuffers=function(){var e=this.in;this.in=this.out,this.out=e},t.prototype.setSize=function(e,t){this.width=e,this.height=t,this.camera.projectionMatrix.makeOrthographic(e/-2,e/2,t/2,t/-2,this.camera.near,this.camera.far),this.quad.scale.set(e,t,1),this.rt1.setSize(e,t),this.rt2.setSize(e,t),this.rt0.setSize(e,t)},t.prototype.reset=function(){this.firstPass=!0,this.out=this.rt1,this.in=this.rt2},t})();t.a=l}).call(t,a(28))},function(e,t,a){a(130),e.exports=a(10).Object.assign},function(e,t,a){var o=a(30);o(o.S+o.F,"Object",{assign:a(131)})},function(e,t,a){"use strict";var o=a(34),n=a(92),i=a(89),r=a(37),s=a(40),l=Object.assign;e.exports=!l||a(19)((function(){var e={},t={},a=Symbol(),o="abcdefghijklmnopqrst";return e[a]=7,o.split("").forEach((function(e){t[e]=e})),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=o}))?function(e){for(var t=r(e),a=arguments.length,l=1,d=n.f,u=i.f;a>l;)for(var p=s(arguments[l++]),c=d?o(p).concat(d(p)):o(p),m=c.length,v=0,f;m>v;)u.call(p,f=c[v++])&&(t[f]=p[f]);return t}:l},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(80),u=(function(e){function t(){return n()(this,t),r()(this,e.call(this,"CopyPass",a(150)))}return l()(t,e),t})(d.a);t.a=u},function(e,t,a){e.exports={default:a(134),__esModule:!0}},function(e,t,a){a(44),a(39),e.exports=a(94).f("iterator")},function(e,t,a){e.exports={default:a(136),__esModule:!0}},function(e,t,a){a(137),a(102),a(140),a(141),e.exports=a(10).Symbol},function(e,t,a){"use strict";var o=a(3),n=a(8),i=a(6),r=a(30),s=a(48),l=a(95).KEY,d=a(19),u=a(25),p=a(22),c=a(21),m=a(2),v=a(94),f=a(96),g=a(138),h=a(99),y=a(7),b=a(12),w=a(13),_=a(42),S=a(20),M=a(36),D=a(139),C=a(101),I=a(11),P=a(34),A=C.f,z=I.f,T=D.f,U=o.Symbol,O=o.JSON,E=O&&O.stringify,L="prototype",N=m("_hidden"),F=m("toPrimitive"),B={}.propertyIsEnumerable,R=u("symbol-registry"),V=u("symbols"),H=u("op-symbols"),W=Object[L],Y="function"==typeof U,q=o.QObject,G=!q||!q[L]||!q[L].findChild,X=i&&d((function(){return 7!=M(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,a){var o=A(W,t);o&&delete W[t],z(e,t,a),o&&e!==W&&z(W,t,o)}:z,Z=function(e){var t=V[e]=M(U[L]);return t._k=e,t},$=Y&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},K=function(e,t,a){return e===W&&K(H,t,a),y(e),t=_(t,!0),y(a),n(V,t)?(a.enumerable?(n(e,N)&&e[N][t]&&(e[N][t]=!1),a=M(a,{enumerable:S(0,!1)})):(!n(e,N)&&z(e,N,S(1,{})),e[N][t]=!0),X(e,t,a)):z(e,t,a)},J=function(e,t){y(e);for(var a=g(t=w(t)),o=0,n=a.length,i;n>o;)K(e,i=a[o++],t[i]);return e},Q=function(e){var t=B.call(this,e=_(e,!0));return(this!==W||!n(V,e)||n(H,e))&&(!(t||!n(this,e)||!n(V,e)||n(this,N)&&this[N][e])||t)},ee=function(e,t){if(e=w(e),t=_(t,!0),e!==W||!n(V,t)||n(H,t)){var a=A(e,t);return a&&n(V,t)&&!(n(e,N)&&e[N][t])&&(a.enumerable=!0),a}},te=function(e){for(var t=T(w(e)),a=[],o=0,i;t.length>o;)n(V,i=t[o++])||i==N||i==l||a.push(i);return a},ae=function(e){for(var t=e===W,a=T(t?H:w(e)),o=[],r=0,i;a.length>r;)n(V,i=a[r++])&&(!t||n(W,i))&&o.push(V[i]);return o};Y||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var e=c(0<arguments.length?arguments[0]:void 0),t=function(a){this===W&&t.call(H,a),n(this,N)&&n(this[N],e)&&(this[N][e]=!1),X(this,e,S(1,a))};return i&&G&&X(W,e,{configurable:!0,set:t}),Z(e)},s(U[L],"toString",(function(){return this._k})),C.f=ee,I.f=K,a(100).f=D.f=te,a(89).f=Q,a(92).f=ae,i&&!a(41)&&s(W,"propertyIsEnumerable",Q,!0),v.f=function(e){return Z(m(e))}),r(r.G+r.W+r.F*!Y,{Symbol:U});for(var oe=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],ne=0;oe.length>ne;)m(oe[ne++]);for(var j=P(m.store),ie=0;j.length>ie;)f(j[ie++]);r(r.S+r.F*!Y,"Symbol",{for:function(e){return n(R,e+="")?R[e]:R[e]=U(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),r(r.S+r.F*!Y,"Object",{create:function(e,t){return t===void 0?M(e):J(M(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ae}),O&&r(r.S+r.F*(!Y||d((function(){var e=U();return"[null]"!=E([e])||"{}"!=E({a:e})||"{}"!=E(Object(e))}))),"JSON",{stringify:function(e){for(var t=[e],a=1,o,n;arguments.length>a;)t.push(arguments[a++]);if(n=o=t[1],(b(o)||void 0!==e)&&!$(e))return h(o)||(o=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),t[1]=o,E.apply(O,t)}}),U[L][F]||a(4)(U[L],F,U[L].valueOf),p(U,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(e,t,a){var o=a(34),n=a(92),r=a(89);e.exports=function(e){var t=o(e),a=n.f;if(a)for(var s=a(e),l=r.f,d=0,i;s.length>d;)l.call(e,i=s[d++])&&t.push(i);return t}},function(e,t,a){var o=a(13),n=a(100).f,i={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(t){return r.slice()}};e.exports.f=function(e){return r&&"[object Window]"==i.call(e)?s(e):n(o(e))}},function(e,t,a){a(96)("asyncIterator")},function(e,t,a){a(96)("observable")},function(e,t,a){e.exports={default:a(143),__esModule:!0}},function(e,t,a){a(144),e.exports=a(10).Object.setPrototypeOf},function(e,t,a){var o=a(30);o(o.S,"Object",{setPrototypeOf:a(145).set})},function(e,t,a){var o=a(12),n=a(7),i=function(e,t){if(n(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(e,t,o){try{o=a(33)(Function.call,a(101).f(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,a){return i(e,a),t?e.__proto__=a:o(e,a),e}})({},!1):void 0),check:i}},function(e,t,a){e.exports={default:a(147),__esModule:!0}},function(e,t,a){a(148);var o=a(10).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,a){var o=a(30);o(o.S,"Object",{create:a(36)})},function(e,t,a){"use strict";t.__esModule=!0;var o=a(87),n=(function(e){return e&&e.__esModule?e:{default:e}})(o);t.default=n.default||function(e){for(var t=1,a;t<arguments.length;t++)for(var o in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e}},function(e){e.exports="varying vec2 vUv;\nuniform sampler2D tInput;\n\nvoid main() {\n\tgl_FragColor = texture2D(tInput, vUv);\n\n\t// gl_FragColor = vec4(vec3(vUv.y), 1.);\n}"},function(e,t,a){"use strict";var n=Math.PI;(function(e){var o=a(17),i=a.n(o),r=a(0),s=a.n(r),l=a(75),d=a.n(l),u=a(76),p=a.n(u),c=a(29),m=a(152),v=a(5),f=a(79),g=a(153),h=a(83),y=a(97),b=a(32),w=a(226),_=a(229),S=a(231),M=a(240),D=a(243),C=a(246),k=a(249),I=a(252),P=a(270),A=a(281),z=a(346),T=a(348),U=a(350),O=a(35),E=a.n(O),L=a(119),N=a(120),F=a(121),B=a(123),R=a(18),V=a(351),H=a(52),j=a.n(H),W=(function(t){function r(){s()(this,r);var l=d()(this,t.call(this));l.update=function(e){for(var t=l.objects,a=Array.isArray(t),r=0,t=a?t:i()(t);;){var s;if(a){if(r>=t.length)break;s=t[r++]}else{if(r=t.next(),r.done)break;s=r.value}var d=s;d.update(e,l.isDarkness)}!l.transitioning&&(f.a.control.thetaDiff<-n||f.a.control.thetaDiff>n)&&l.toogleDarkness(),0<=l.isDarkness?(c.a.gammaNode.forceValue+=.25*(l.gamma-1.3*R.a.volume-c.a.gammaNode.forceValue),c.a.contrastNode.forceValue+=.25*(l.contrast+1.3*R.a.volume-c.a.contrastNode.forceValue),c.a.vignetteNode.forceValue+=.25*(l.vignette-1.5*R.a.volume-c.a.vignetteNode.forceValue),c.a.noiseNode&&(c.a.noiseNode.forceValue+=.25*(l.noise-R.a.volume-c.a.noiseNode.forceValue))):(c.a.gammaNode.forceValue+=.25*(l.gamma-1.3*R.a.volume-c.a.gammaNode.forceValue),c.a.contrastNode.forceValue+=.25*(l.contrast+1.3*R.a.volume-c.a.contrastNode.forceValue),c.a.vignetteNode.forceValue=.31,c.a.noiseNode&&(c.a.noiseNode.forceValue=0)),V.a.isInactive?l.thetaSpeed+=.05*(3e-5-l.thetaSpeed):l.thetaSpeed-=.05*l.thetaSpeed,f.a.control._vx+=l.thetaSpeed},l.onBeforeRender=function(){var e=l.skyDark.radius+f.a.control.radius+1;e!=f.a.camera.far&&(f.a.camera.far=e,f.a.camera.updateProjectionMatrix())},l.toogleDarkness=function(){l.transitioning||(l.isDarkness=0<=l.isDarkness?-1:1,TweenLite.killTweensOf(f.a.control,!1),TweenLite.killTweensOf(l.sky,!1),TweenLite.killTweensOf(l.city,!1),l.transitioning=!0,1==l.isDarkness?(TweenLite.to(l,2,{delay:1.3,ease:Cubic.easeInOut,gamma:1,contrast:.95,vignette:.3,noise:.15}),TweenLite.to(f.a.control,1,{minPhi:.25*n,maxPhi:.49*n,ease:Cubic.easeInOut}),TweenLite.to(f.a.group.rotation,1.6,{delay:.25,y:f.a.group.rotation.y+2*n*(0<f.a.control._vx?1:-2),ease:Cubic.easeInOut}),TweenLite.to(f.a.control.targetOffset,1.2,{delay:.25,y:100*c.a.darkScale,ease:Quad.easeInOut}),TweenLite.to(f.a.control,1.5,{delay:.4,radius:900*c.a.darkScale,ease:Quart.easeInOut}),TweenLite.to(l.ground,1,{delay:1.2,transition:1,ease:Quad.easeOut}),TweenLite.to(l.city,2.1,{delay:1.1,transition:5,ease:Cubic.easeOut,onComplete:l.onTransitionComplete}),TweenLite.to(l.sky,1,{opacity:0,ease:Power2.easeIn})):(TweenLite.to(l,2,{delay:1.4,ease:Cubic.easeInOut,gamma:1,contrast:1,vignette:.1,noise:0}),TweenLite.to(f.a.control,1,{delay:1.7,minPhi:.85,maxPhi:.54*n,ease:Quad.easeInOut,onComplete:l.onTransitionComplete}),TweenLite.to(f.a.group.rotation,2,{delay:.25,y:f.a.group.rotation.y+2*n*(0<f.a.control._vx?1:-2),ease:Quart.easeInOut}),TweenLite.to(f.a.control.targetOffset,1.2,{y:100,ease:Quad.easeInOut}),TweenLite.to(f.a.control,1.5,{delay:.4,radius:1250,ease:Quart.easeInOut}),TweenLite.to(l.city,2,{delay:.5,transition:0,ease:Cubic.easeOut}),TweenLite.to(l.sky,1,{delay:1,opacity:1,ease:Power2.easeIn}),TweenLite.to(l.ground,.6,{delay:.3,transition:0,ease:Quad.easeOut})),c.a.onDarknessChange.dispatch(l.isDarkness))},l.onStart=function(){TweenLite.to(f.a.group.rotation,3,{y:f.a.group.rotation.y+4*n,ease:Cubic.easeOut})},l.onTransitionComplete=function(){l.transitioning=!1,f.a.control.thetaDiff=0},l.onKeyDown=function(t){t===y.a.touches.space?l.toogleDarkness():t===y.a.touches.p?c.a.postFX.toogleVisibility():t===y.a.touches.g?h.a.toogleVisibility():void 0};var u=null;u=E.a.any?a(352):1<window.devicePixelRatio?a(353):a(354),c.a.postFX=new A.a({json:u}),c.a.gammaNode=c.a.postFX.getNodeByType(L.a),c.a.contrastNode=c.a.postFX.getNodeByType(N.a),c.a.noiseNode=c.a.postFX.getNodeByType(F.a),c.a.vignetteNode=c.a.postFX.getNodeByType(B.a),c.a.gammaNode.forceValue=l.gamma=1,c.a.contrastNode.forceValue=l.contrast=1,c.a.vignetteNode.forceValue=l.vignette=.1,c.a.noiseNode&&(c.a.noiseNode.forceValue=0),l.noise=0,c.a.isProduction?(c.a.postFX.hide(),c.a.showGui=!1):c.a.showGui=!0,l.isDarkness=c.a.isDarkness,h.a.add(l,"isDarkness",-1,1),c.a.darkFog=new e.Color(591151),c.a.darkgui=h.a.addFolder("dark"),c.a.darkgui.addColor(c.a,"darkFog").onChange((function(e){f.a.scene.fog.color.setHex(e)})),f.a.control=new g.a(f.a.camera,1250),f.a.control.target.y=200,f.a.control.offset.y=0,f.a.control.blockZoom=!0,f.a.scene.fog=new e.Fog(c.a.darkFog.getHex(),900*c.a.darkScale,1300*c.a.darkScale),l.thetaSpeed=0;var p=new e.AmbientLight(16777215,1);f.a.add(p);for(var m=0,v;2>m;m++)v=new e.DirectionalLight(16777215,.3),v.position.set(2*(Math.random()-.5),Math.random(),2*(Math.random()-.5)),f.a.add(v);l.skyDark=new C.a,l.sky=new D.a,l.ground=new k.a,l.monolithLight=new w.a,l.monolithDark=new _.a,l.city=new P.a(l.ground),l.godray=new T.a,l.godray.position.y=200,l.godray.position.x=150,l.godray2=new T.a(.15),l.godray2.position.y=200,l.godray2.position.x=-150,l.godray.lookAt(new e.Vector3),l.godray2.lookAt(new e.Vector3),l.myst=new z.a(620,160,5e3,.6),l.myst2=new z.a(620,160,1500,1),l.objects=[l.skyDark,l.sky,l.ground,l.monolithLight,l.monolithDark,new S.a,new M.a,new I.a,l.city,l.godray,l.godray2,l.myst,l.myst2];for(var b=l.objects,U=Array.isArray(b),O=0,b=U?b:i()(b);;){var H;if(U){if(O>=b.length)break;H=b[O++]}else{if(O=b.next(),O.done)break;H=O.value}var j=H;f.a.add(j)}return l.transitioning=!1,y.a.onDown.add(l.onKeyDown),f.a.onBeforeRenderer.add(l.onBeforeRender),c.a.onStart.addOnce(l.onStart),l}return p()(r,t),r})(m.a);t.a=W}).call(t,a(28))},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(103),r=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default";n()(this,e),this.onTransitionInComplete=function(){},this.onTransitionOutComplete=function(){i.a.onTransitionOutComplete()},this.name=t}return e.prototype.update=function(){},e.prototype.resize=function(){},e.prototype.transitionIn=function(){this.onTransitionInComplete()},e.prototype.transitionOut=function(){this.onTransitionOutComplete()},e.prototype.dispose=function(){},e})();t.a=r},function(e,t,a){"use strict";var o=Math.sin,n=Math.cos,i=Math.PI,r=Math.min,s=Math.max;(function(e){var l=a(0),d=a.n(l),u=a(77),p=a.n(u),c=a(5),m=a(81),v=a(173),f=(function(){function t(a,l){var u=this,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;d()(this,t),this._onDown=function(){u._isDown=!0,m.a.onUp.add(u._onUp)},this._onUp=function(){u._isDown=!1,m.a.onUp.remove(u._onUp)},this._onMove=function(t){u.extraThetaTarget=u.extraThetaMouse?t.normalizedX:0,u.extraPhiMouse&&(u.extraPhiTarget=t.normalizedY),u._isDown&&(!u.blockThetaMouse&&(u._vx+=t.moveX*u.frictionVx),!u.blockPhiMouse&&(u._vy-=t.moveY*u.frictionVy))},this.onWheel=function(t){u.blockZoom||(0>t.delta?u.zoomOut():u.zoomIn())},this.zoomIn=function(){u.radius*=.98,u.radius<u.minRadius&&(u.radius=u.minRadius)},this.zoomOut=function(){u.radius*=1.05,u.radius>u.maxRadius&&(u.radius=u.maxRadius)},this.update=function(){u.extraTheta+=.06*(u.extraThetaTarget-u.extraTheta),u.extraPhi+=.06*(u.extraPhiTarget-u.extraPhi),u._vx=s(-u.speedMax,r(u._vx,u.speedMax)),u._vy=s(-u.speedMax,r(u._vy,u.speedMax)),u._radius+=1*(u.radius-u._radius),u._vx*=u.friction,u._vy*=u.friction,u._phi+=u._vy,u._theta+=u._vx,u.thetaDiff+=u._vx,u.isThetaRestricted&&(u._theta=s(u.minTheta,r(u.maxTheta,u._theta))),u.isPhiRestricted&&(u._phi=s(u.minPhi,r(u.maxPhi,u._phi)));var e=u._phi-(u.extraPhi*(u.extraPhiMax-u.extraPhiMin)+u.extraPhiMin),t=u._theta+(u.extraTheta*(u.extraThetaMax-u.extraThetaMin)+u.extraThetaMin);u.isThetaRestricted&&(t=s(u.minTheta,r(u.maxTheta,t))),u.isPhiRestricted&&(e=s(u.minPhi,r(u.maxPhi,e))),u.camera.position.x=u.offset.x+u.target.x+u._radius*o(e)*n(t),u.camera.position.y=u.offset.y+u.target.y+u._radius*n(e),u.camera.position.z=u.offset.z+u.target.z+u._radius*o(e)*o(t),u.targetLookAt.x=u.target.x+u.targetOffset.x,u.targetLookAt.y=u.target.y+u.targetOffset.y,u.targetLookAt.z=u.target.z+u.targetOffset.z,u.camera.lookAt(u.targetLookAt)},this.dispose=function(){u.deactivate(),u.camera=null,u.target=null,u.offset=null},this.camera=a,this.target=p||new e.Vector3,this.targetOffset=new e.Vector3,this.offset=new e.Vector3,this._radius=this.radius=l||this.camera.position.distanceTo(this.target)||1,this._isDown=!1,this._isActive=!0,this.speedMouse=1,this.speedMax=1,this.friction=.968,this.frictionVx=8e-4,this.frictionVy=6e-4,this.thetaDiff=0,this.bouncing=!1,this._vx=0,this._vy=0,this._phi=.5*i,this._theta=.5*i,this.blockThetaMouse=!1,this.blockPhiMouse=!1,this.blockZoom=!1,this.isPhiRestricted=!0,this.isThetaRestricted=!1,this.minPhi=.8,this.maxPhi=.53*i,this.minTheta=-1.7,this.maxTheta=1.7,this.extraTheta=0,this.extraPhi=0,this.extraThetaTarget=0,this.extraPhiTarget=0,this.extraThetaMouse=!0,this.extraPhiMouse=!0,this.extraPhiMin=-.15,this.extraPhiMax=.15,this.extraThetaMin=-.15,this.extraThetaMax=.15,this.minRadius=0,this.maxRadius=Number.MAX_VALUE,this.targetLookAt=new e.Vector3,this.activate(),this.update(),this.camera.updateMatrixWorld()}return t.prototype.activate=function(){m.a.onDown.add(this._onDown),m.a.onMove.add(this._onMove),v.a.add(this.onWheel),c.a.onUpdate.add(this.update)},t.prototype.deactivate=function(){m.a.onDown.remove(this._onDown),m.a.onMove.remove(this._onMove),v.a.remove(this.onWheel),c.a.onUpdate.remove(this.update)},p()(t,[{key:"isActive",get:function(){return this._isActive},set:function(e){this._isActive=e,e?this.activate():this.deactivate()}}]),t})();t.a=f}).call(t,a(28))},function(e,t,a){a(102),a(44),a(39),a(155),a(164),a(167),a(169),e.exports=a(10).Map},function(e,t,a){"use strict";var o=a(156),n=a(107),i="Map";e.exports=a(160)(i,(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(e){var t=o.getEntry(n(this,i),e);return t&&t.v},set:function(e,t){return o.def(n(this,i),0===e?0:e,t)}},o,!0)},function(e,t,a){"use strict";var o=a(11).f,n=a(36),i=a(105),r=a(33),s=a(106),l=a(90),d=a(24),u=a(45),p=a(159),c=a(6),m=a(95).fastKey,v=a(107),f=c?"_s":"size",g=function(e,t){var a=m(t),o;if("F"!==a)return e._i[a];for(o=e._f;o;o=o.n)if(o.k==t)return o};e.exports={getConstructor:function(e,t,a,d){var u=e((function(e,o){s(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=o&&l(o,a,e[d],e)}));return i(u.prototype,{clear:function(){for(var e=v(this,t),a=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete a[o.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=v(this,t),o=g(a,e);if(o){var n=o.n,i=o.p;delete a._i[o.i],o.r=!0,i&&(i.n=n),n&&(n.p=i),a._f==o&&(a._f=n),a._l==o&&(a._l=i),a[f]--}return!!o},forEach:function(e){v(this,t);for(var a=r(e,1<arguments.length?arguments[1]:void 0,3),o;o=o?o.n:this._f;)for(a(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!g(v(this,t),e)}}),c&&o(u.prototype,"size",{get:function(){return v(this,t)[f]}}),u},def:function(e,t,a){var o=g(e,t),n,i;return o?o.v=a:(e._l=o={i:i=m(t,!0),k:t,v:a,p:n=e._l,n:void 0,r:!1},!e._f&&(e._f=o),n&&(n.n=o),e[f]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,a){d(e,t,(function(e,a){this._t=v(e,t),this._k=a,this._l=void 0}),(function(){for(var e=this,t=e._k,a=e._l;a&&a.r;)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?"keys"==t?u(0,a.k):"values"==t?u(0,a.v):u(0,[a.k,a.v]):(e._t=void 0,u(1))}),a?"entries":"values",!a,!0),p(t)}}},function(e,t,a){var o=a(7);e.exports=function(t,e,a,n){try{return n?e(o(a)[0],a[1]):e(a)}catch(a){var i=t["return"];throw void 0!==i&&o(i.call(t)),a}}},function(e,t,a){var o=a(9),n=a(2)("iterator"),i=Array.prototype;e.exports=function(e){return e!==void 0&&(o.Array===e||i[n]===e)}},function(e,t,a){"use strict";var o=a(3),n=a(10),i=a(11),r=a(6),s=a(2)("species");e.exports=function(e){var t="function"==typeof n[e]?n[e]:o[e];r&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,a){"use strict";var o=a(3),n=a(30),i=a(95),r=a(19),s=a(4),l=a(105),d=a(90),u=a(106),p=a(12),c=a(22),m=a(11).f,v=a(161)(0),f=a(6);e.exports=function(e,t,a,g,h,y){var b=o[e],w=b,_=h?"set":"add",S=w&&w.prototype,M={};return f&&"function"==typeof w&&(y||S.forEach&&!r((function(){new w().entries().next()})))?(w=t((function(t,a){u(t,w,e,"_c"),t._c=new b,void 0!=a&&d(a,h,t[_],t)})),v(["add","clear","delete","forEach","get","has","set","keys","values","entries","toJSON"],(function(e){var t="add"==e||"set"==e;e in S&&!(y&&"clear"==e)&&s(w.prototype,e,(function(o,a){if(u(this,w,e),t||!y||p(o)){var n=this._c[e](0===o?0:o,a);return t?this:n}}))})),y||m(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(t,e,h,_),l(w.prototype,a),i.NEED=!0),c(w,e),M[e]=w,n(n.G+n.W+n.F,M),y||g.setStrong(w,e,h),w}},function(e,t,a){var o=a(33),n=a(40),i=a(37),r=a(43),s=a(162);e.exports=function(e,t){var a=1==e,l=4==e,d=6==e,u=t||s;return function(t,s,p){for(var c=i(t),m=n(c),v=o(s,p,3),f=r(m.length),g=0,h=a?u(t,f):2==e?u(t,0):void 0,y,b;f>g;g++)if((5==e||d||g in m)&&(y=m[g],b=v(y,g,c),e))if(a)h[g]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return g;case 2:h.push(y);}else if(l)return!1;return d?-1:3==e||l?l:h}}},function(e,t,a){var o=a(163);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,a){var o=a(12),n=a(99),i=a(2)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"==typeof t&&(t===Array||n(t.prototype))&&(t=void 0),o(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,a){var o=a(30);o(o.P+o.R,"Map",{toJSON:a(165)("Map")})},function(e,t,a){var o=a(51),n=a(166);e.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},function(e,t,a){var o=a(90);e.exports=function(e,t){var a=[];return o(e,!1,a.push,a,t),a}},function(e,t,a){a(168)("Map")},function(e,t,a){"use strict";var o=a(30);e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,a){a(170)("Map")},function(e,t,a){"use strict";var o=a(30),i=a(46),r=a(33),s=a(90);e.exports=function(e){o(o.S,e,{from:function(e){var t=arguments[1],a,o,l,n;return(i(this),a=void 0!==t,a&&i(t),void 0==e)?new this:(o=[],a?(l=0,n=r(t,arguments[2],2),s(e,!1,(function(e){o.push(n(e,l++))}))):s(e,!1,o.push,o),new this(o))}})}},function(e){function t(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function n(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function i(){m&&f&&(m=!1,f.length?c=f.concat(c):v=-1,c.length&&r())}function r(){if(!m){var e=o(i);m=!0;for(var t=c.length;t;){for(f=c,c=[];++v<t;)f&&f[v].run();v=-1,t=c.length}f=null,m=!1,n(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var d=e.exports={},u,p;(function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(a){u=t}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(t){p=a}})();var c=[],m=!1,v=-1,f;d.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];c.push(new s(e,t)),1!==c.length||m||o(r)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){var a=Number.MAX_VALUE;t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"==typeof location?"":location.hostname},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return a},t.totalmem=function(){return a},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"==typeof navigator?"":navigator.appVersion},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(1),u=a(5),p=a(108).detect(),c={noDefaultWheel:!0,single:!1},m="onwheel"in document.createElement("div")?"wheel":document.onmousewheel===void 0?"DOMMouseScroll":"mousewheel",v=(function(e){function t(a){var o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];n()(this,t);var s=r()(this,e.call(this));return s.getDelta=function(t){var a={direction:t.deltaY&&0>t.deltaY||0>t.detail||0<t.wheelDelta?-1:1,delta:t.detail||t.wheelDelta||t.deltaY,original:t};return 0==a.delta&&0==t.deltaY&&(a.direction=0),a},s.onWheel=function(t){t.preventDefault(),s.noDefaultWheel&&t.preventDefault(),s.stopPropagation&&t.stopPropagation(),s.event=t,s.currentSpeed=0},s.onUpdate=function(){if(null!=s.event||0!=s.currentSpeed){var e=Date.now(),t;if(t=s.event?s.getDelta(s.event):s.getDelta(s.lastEvent),"firefox"==p.name&&(t.delta*=-22),"safari"==p.name&&(t.delta*=.9),c.single&&100>e-s.lastTime){if(s.lastTime=e,3>=Math.abs(t.delta)&&0!=s.currentDirection)return void(s.currentDirection=0);if(0==s.currentDirection)s.currentDirection=t.direction;else if(t.direction!=s.currentDirection)s.currentDirection=t.direction;else return}s.lastTime=e,s.dispatch(t),s.event=null}},s.dispose=function(){console.log("woops"),e.prototype.dispose.call(s)},s.domElement=a,s.currentDirection=0,s.lastTime=0,s.stopPropagation=!0,s.preventDefault=o,s.event=null,s.lastEvent=null,s.currentSpeed=0,s.domElement.addEventListener(m,s.onWheel),u.a.onUpdate.add(s.onUpdate),s}return l()(t,e),t})(d.a),f=new v(window);t.a=f},function(e,t,a){"use strict";var o=a(0),n=a.n(o);t.a=function e(){n()(this,e),a(175),a(178),a(180),a(182),a(184),a(186),a(188)}},function(e,t,a){var o=a(176);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui{font-family:Andale Mono,Tahoma,Arial;color:#fff;background-color:rgba(14,15,17,.9);border:1px solid #656d6f}.mnf-gui .component{position:relative;display:flex;align-items:center;width:100%;height:20px;margin-bottom:2px}.mnf-gui--main{position:absolute;top:2px;right:2px;width:210px;z-index:100001;display:none}",""])},function(e){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,o=a+t.pathname.replace(/\/[^\/]*$/,"/"),n=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n))return e;var i;return i=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:o+n.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"}));return n}},function(e,t,a){var o=a(179);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .folder{position:relative;display:block;cursor:pointer}.mnf-gui .folder.root{width:calc(100% - 4px);top:2px;left:2px;padding-bottom:2px;background-color:transparent}.mnf-gui .folder.root .folder-content{width:100%;left:0;background-color:transparent}.mnf-gui .folder.part .folder-content{width:calc(100% - 3px);left:3px}.mnf-gui .folder.part .folder-content:before{content:\"\";position:absolute;left:-3px;height:100%;width:2px}.mnf-gui.color-0 .folder-title-bar{border-left:2px solid #80a8c7}.mnf-gui.color-0 .folder-content:before{background-color:#80a8c7;opacity:.15}.mnf-gui.color-1 .folder-title-bar{border-left:2px solid #fefdaa}.mnf-gui.color-1 .folder-content:before{background-color:#fefdaa;opacity:.15}.mnf-gui .folder-progressbar{transform-origin:top left;position:absolute;top:0;right:1px;width:2px;height:100%;background:#df360b}.mnf-gui .folder-title-bar{display:flex;margin-bottom:1px;font-size:9px;font-weight:700;padding:6px;letter-spacing:2px;user-select:none;border-left:2px solid #80a8c7;padding-left:10px;text-transform:uppercase}.mnf-gui .folder-title-bar:before{margin-right:6px;font-size:4px}.mnf-gui .folder-title-text{flex-grow:4}.mnf-gui .folder-title-buttons{flex-grow:1;display:flex;justify-content:flex-end}.mnf-gui .folder-button{padding:2px}.mnf-gui .folder-content{position:relative;display:block}.mnf-gui .folder-content.hide{display:none}",""])},function(e,t,a){var o=a(181);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .number{position:relative;display:flex;align-items:center}.mnf-gui .number input{position:relative;width:100%;height:100%;border:0;padding:0;box-sizing:border-box;padding:5px;text-align:right;background-color:transparent;color:#fff;font-family:Andale Mono,Tahoma,Arial;font-size:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.mnf-gui .number input:focus{outline:1px solid #a0cac6}.mnf-gui .number input[type=number]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.mnf-gui .number input::-webkit-inner-spin-button,.mnf-gui .number input::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.mnf-gui .number:hover .number-bar{background-color:#3d4b53}.mnf-gui .number-content{position:relative;width:99%;height:100%;display:flex}.mnf-gui .number-bar-content{position:relative;top:0;left:0;width:75%;height:100%;display:flex;background-color:#212324}.mnf-gui .number-bar{position:relative;width:100%;height:100%;background-color:#303b41;transform-origin:0 0}.mnf-gui .number-controls{position:absolute;top:0;left:0;width:100%;height:100%;cursor:-moz-grab;cursor:-webkit-grab;cursor:grab}.mnf-gui .number-controls.down{cursor:-moz-grabbing;cursor:-webkit-grabbing;cursor:grabbing}.mnf-gui .number-input{position:relative;display:flex;width:25%}.mnf-gui .number-label{position:absolute;top:0;left:6px;height:100%;font-size:8px;line-height:20px;color:#7d9c9f;pointer-events:none}.mnf-gui .number-icon{position:relative;width:1%;height:100%;background-color:#0f3039;display:none}",""])},function(e,t,a){var o=a(183);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .button{position:relative;background-color:#2a434a;user-select:none;cursor:pointer;display:flex;align-items:center}.mnf-gui .button:active:hover{background-color:#436b76}.mnf-gui .button:hover{background-color:#35555e}.mnf-gui .button.activated{background-color:#446d79}.mnf-gui .button.activated .button-onoff-content{display:block}.mnf-gui .button.activated:hover{background-color:#51818f}.mnf-gui .button.activated:active:hover{background-color:#5d95a5!important}.mnf-gui .button .button-onoff{position:absolute;top:50%;right:10px;width:6px;height:6px;border:1px solid #fff;border-radius:2px;display:none;align-items:center;justify-content:center;transform:translate3d(0,-50%,0)}.mnf-gui .button .button-onoff-content{width:80%;height:80%;background-color:#fff;display:none}.mnf-gui .button.onoff .button-onoff{display:flex}.mnf-gui .button.onoff:active:hover{background-color:#2a434a}.mnf-gui .button-label{position:relative;top:1px;padding:5px;padding-left:6px;font-size:8px;letter-spacing:1px;pointer-events:none}",""])},function(e,t,a){var o=a(185);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .select select{width:100%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:transparent;border:1px solid #303b41;color:#a0cac6;font-size:8px;font-family:Andale Mono;padding-left:6px}.mnf-gui .select select:focus{outline:0;border:1px solid #a0cac6}.mnf-gui .select-arrow{position:absolute;top:0;right:10px;font-family:Andale Mono;font-size:8px;line-height:20px;color:#a0cac6;display:block}",""])},function(e,t,a){var o=a(187);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .text{position:relative}.mnf-gui .text input{position:relative;width:75%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:transparent;border:1px solid #303b41;color:#a0cac6;font-size:8px;font-family:Andale Mono;padding:0;padding-left:6px}.mnf-gui .text input:focus{outline:0;border:1px solid #a0cac6}.mnf-gui .text-icon{position:relative;width:1%;height:100%;background-color:#444f79;display:none}.mnf-gui .text-label{position:relative;top:1px;width:25%;font-size:8px;padding-left:6px;line-height:100%;color:#7d9c9f}",""])},function(e,t,a){var o=a(189);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".mnf-gui .color{font-family:Andale Mono,Tahoma,Arial;font-size:8px;line-height:20px}.mnf-gui .color-content{position:relative;width:100%;height:100%;border:0;padding:0;background-color:transparent;display:flex}.mnf-gui .color-bar{position:absolute;top:0;left:0;width:100%;height:100%}.mnf-gui .color-label{position:relative;left:6px;text-shadow:-1px 0 1px #444,0 1px 1px #444,1px 0 1px #444,0 -1px 1px #444}.mnf-gui .color-picker-cnt{position:absolute;width:100%;height:100%;top:20px;left:0}.mnf-gui .Scp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;z-index:9999}.mnf-gui .Scp-saturation{position:relative;height:100%;background:-webkit-linear-gradient(left,#fff,red);background:linear-gradient(90deg,#fff,red);float:left;margin-right:5px}.mnf-gui .Scp-brightness{width:100%;height:100%;background:-webkit-linear-gradient(hsla(0,0%,100%,0),#000);background:linear-gradient(hsla(0,0%,100%,0),#000)}.mnf-gui .Scp-sbSelector{border:2px solid #fff;position:absolute;width:14px;height:14px;background:#fff;border-radius:10px;top:-7px;left:-7px;box-sizing:border-box;z-index:10}.mnf-gui .Scp-hue{width:20px;height:100%;position:relative;float:left;background:-webkit-linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red);background:linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red)}.mnf-gui .Scp-hSelector{position:absolute;background:#fff;border-bottom:1px solid #000;right:-3px;width:10px;height:2px}",""])},function(e,t,a){"use strict";var o=a(17),n=a.n(o),i=a(0),r=a.n(i),s=a(191),l=a(222),d=a(225),u=(function(){function e(t){r()(this,e),this.main=new l.a(t),this.dom=this.main.dom,this.components=[],this.folders=[],this.updater=new d.a(this.components,this.folders)}return e.prototype.addClassic=function(){var e=s.a.create.apply(s.a,arguments);if(e instanceof Array){for(var t=[],a=e,o=Array.isArray(a),i=0,a=o?a:n()(a);;){var r;if(o){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var l=r;t.push(this.addComponent(l))}return t}return this.addComponent(e)},e.prototype.addComponent=function(e){return this.main.add(e),this.components.push(e),e},e.prototype.add=function(){return this.addClassic.apply(this,arguments)},e.prototype.addColor=function(){var e=s.a.createColor.apply(s.a,arguments);return this.addComponent(e)},e.prototype.addFolder=function(t){var a=new e(t);return this.main.add(a),this.folders.push(a),a},e})();t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(192),r=a(193),s=a(202),l=a(204),d=a(206),u=a(208),p=(function(){function e(){n()(this,e)}return e.prototype.create=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var o=t[0],n=t[1],p=o[n],c=Object(i.a)(p);switch(c){case i.b.NUMBER:return new(Function.prototype.bind.apply(r.a,[null].concat([o],t.splice(1))));case i.b.FUNCTION:return new(Function.prototype.bind.apply(s.a,[null].concat([o,!1],t.splice(1))));case i.b.BOOLEAN:return new(Function.prototype.bind.apply(s.a,[null].concat([o,!0],t.splice(1))));case i.b.VECTOR3:return[new r.a(p,"x"),new r.a(p,"y"),new r.a(p,"z")];case i.b.COLOR:return new(Function.prototype.bind.apply(u.a,[null].concat([o],t.splice(1))));case i.b.OBJECT:return new(Function.prototype.bind.apply(l.a,[null].concat([o],t.splice(1))));case i.b.STRING:var m=t[2];if(!m)return new(Function.prototype.bind.apply(d.a,[null].concat([o],t.splice(1))));var v=Object(i.a)(m);return v==i.b.OBJECT?new l.a(o,n,m):null;}return null},e.prototype.createColor=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var o=t[0];return new(Function.prototype.bind.apply(u.a,[null].concat([o],t.splice(1))))},e})();t.a=new p},function(e,t,a){"use strict";function o(e){var t="undefined"==typeof e?"undefined":i()(e);switch(t){case r.BOOLEAN:return r.BOOLEAN;case r.FUNCTION:return r.FUNCTION;case r.NUMBER:return r.NUMBER;case r.STRING:return r.STRING;case r.CANVAS:return r.CANVAS;case r.UNDEFINED:return r.UNDEFINED;default:case r.OBJECT:return void 0!=e.x&&void 0!=e.y?void 0==e.z?r.VECTOR2:void 0==e.w?r.VECTOR3:r.VECTOR4:void 0!=e.r&&void 0!=e.g&&void 0!=e.b?r.COLOR:r.OBJECT;}}a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r}));var n=a(93),i=a.n(n),r={BOOLEAN:"boolean",FUNCTION:"function",NUMBER:"number",STRING:"string",CANVAS:"canvas",OBJECT:"object",UNDEFINED:"undefined",VECTOR2:"vector2",VECTOR3:"vector3",VECTOR4:"vector4",COLOR:"color"}},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(81),c=a(88),m=a(82),v=a(194),f=a(97),g=a(32),h=a(201),y=(function(e){function t(a){n()(this,t);var o=l()(this,e.call(this,h.a,a,1>=arguments.length?void 0:arguments[1]));o.onControlsDown=function(t){0==o.wControls&&(o.wControls=o.domControls.offsetWidth),o.xLast=t.x,o.xTarget=t.origin.offsetX,o.domControls.classList.add("down"),o.onControlsMove(t),p.a.on(window,"move",o.onControlsMove),p.a.on(window,"up",o.onControlsUp)},o.onControlsMove=function(t){t.origin.stopPropagation();var e=t.x-o.xLast;o.xTarget+=e;var a=Object(g.a)(o.xTarget,0,o.wControls),n=a/o.wControls;o.updateTargetValue(n*(o._max-o._min)+o._min),o.xLast=t.x},o.onControlsUp=function(){o.domControls.classList.remove("down"),p.a.off(window,"move",o.onControlsMove),p.a.off(window,"up",o.onControlsUp)},o.onInputChange=function(){o.updateTargetValue(o.domInput.value)},o.onFocusLost=function(){o.stopListeningFocusEnd()},o.onKeyDown=function(e){(e==f.a.touches.enter||e==f.a.touches.esc)&&o.domInput.blur()},o._value=o.target[o.param];var i=Object(v.a)(o.value);return o._min=1<(1>=arguments.length?0:arguments.length-1)?2>=arguments.length?void 0:arguments[2]:i[0],o._max=2<(1>=arguments.length?0:arguments.length-1)?3>=arguments.length?void 0:arguments[3]:i[1],o.domBar=o.dom.querySelector(".number-bar"),o.domLabel=o.dom.querySelector(".number-label"),o.domInput=o.dom.querySelector("input"),o.domControls=o.dom.querySelector(".number-controls"),o.domInput.addEventListener("change",o.onInputChange,!1),o.wControls=o.domControls.offsetWidth,p.a.on(o.domControls,"down",o.onControlsDown),o.dirty=!0,o.isFirstRefresh=!0,o.label=o.param,o}var a=t.prototype;return u()(t,e),a.update=function(){var e=this.target[this.param];this.value!=e&&(this.value=e),this.dirty&&this.refresh()},a.refresh=function(){this._value=this.formatValue(this._value),this.domInput.value=this._value.toFixed(5),this.percent=Object(g.a)((this._value-this._min)/(this._max-this._min)),this.domBar.style[m.c]="scale( "+this.percent+", 1 )",this.cbOnChange&&!this.isFirstRefresh&&this.cbOnChange(this._value),this.isFirstRefresh=!1,this.dirty=!1},a.updateTargetValue=function(e){this.target[this.param]=this.formatValue(e)},a.formatValue=function(e){return e=parseFloat(e),isNaN(e)&&(e=this._min+(this._max-this._min)/2),this.isInt&&(e>>=0),e},a.minMax=function(e,t){return this.min=e,this.max=t,this},a.setInt=function(e){return this.isInt=e,this},a.listenFocusEnd=function(){this.domInput.addEventListener("blur",this.onFocusLost,!1),f.a.onDown.add(this.onKeyDown)},a.stopListeningFocusEnd=function(){this.domInput.removeEventListener("blur",this.onFocusLost,!1),f.a.onDown.remove(this.onKeyDown)},r()(t,[{key:"value",set:function(e){e!=this._value&&(this._value=e,this.dirty=!0)},get:function(){return this._value}},{key:"min",set:function(e){this._min=parseFloat(e),this.dirty=!0},get:function(){return this._min}},{key:"max",set:function(e){this._max=parseFloat(e),this.dirty=!0},get:function(){return this._max}}]),t})(c.a);t.a=y},function(e,t,a){"use strict";var o=Math.min,n=Math.max,i=a(195),r=a.n(i),s=a(198),l=a.n(s);t.a=function(e){if(null==e||void 0==e)return new Float32Array([-10,10]);var t=0<e?5*-e:0==e?-10:5*e,a=0<e?5*e:0==e?10:-5*e;if(a=n(o(a,l.a),r.a+1),t=n(o(t,l.a-1),r.a),t>a){t=a,a=t}else t==a&&(t-=1);return 1<Math.abs(t)&&(t=parseFloat(t).toFixed(2),a=parseFloat(a).toFixed(2)),new Float32Array([t,a])}},function(e,t,a){e.exports={default:a(196),__esModule:!0}},function(e,t,a){a(197),e.exports=-9007199254740991},function(e,t,a){var o=a(30);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,a){e.exports={default:a(199),__esModule:!0}},function(e,t,a){a(200),e.exports=9007199254740991},function(e,t,a){var o=a(30);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t){"use strict";t.a="<div class=\"number component\">\n\t<div class=\"number-icon\"></div>\n\t<div class=\"number-content\">\n\t\t<div class=\"number-bar-content\">\n\t\t\t<div class=\"number-bar\"></div>\n\t\t\t<div class=\"number-controls\"></div>\n\t\t</div>\n\t\t<div class=\"number-input\">\n\t\t\t<input type=\"number\" />\n\t\t</div>\n\t</div>\n\t<div class=\"number-label\">coucou</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(1),u=a(81),p=a(88),c=a(203),m=(function(e){function t(a,o){n()(this,t);var i=r()(this,e.call(this,c.a,a,2>=arguments.length?void 0:arguments[2]));return i.onUp=function(){i.isOnOff?(i.target[i.param]=!i.value,i.cbOnChange&&i.cbOnChange(i.value)):i.target[i.param]()},i.isOnOff=o,i.listen=o,i.value=!!i.isOnOff&&i.target[i.param],i.isOnOff&&i.dom.classList.add("onoff"),i.domLabel=i.dom.querySelector(".button-label"),i.label=i.param,i.refresh(),u.a.on(i.dom,"up",i.onUp),i}return l()(t,e),t.prototype.update=function(){if(this.isOnOff){var e=this.target[this.param];this.value!=e&&(this.value=e,this.refresh())}},t.prototype.refresh=function(){this.value?this.dom.classList.add("activated"):this.dom.classList.remove("activated")},t.prototype.dispose=function(){e.prototype.dispose.call(this),u.a.off(this.dom,"up",this.onUp)},t})(p.a);t.a=m},function(e,t){"use strict";t.a="<div class=\"button component\">\n\t<div class=\"button-label\">Label</div>\n\t<div class=\"button-onoff\">\n\t\t<div class=\"button-onoff-content\"></div>\n\t</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(88),u=a(205),p=(function(e){function t(a){n()(this,t);var o=r()(this,e.call(this,u.a,a,1>=arguments.length?void 0:arguments[1]));return o.onSelectChange=function(){o.target[o.label]=o.domSelect.value,o.cbOnChange&&o.cbOnChange(o.domSelect.value)},o.options=2>=arguments.length?void 0:arguments[2],o.label=o.param,o.init(),o}return l()(t,e),t.prototype.init=function(){this.domSelect=this.dom.querySelector("select");for(var e=document.createDocumentFragment(),t=0,a=this.options.length;t<a;t++){var o=this.options[t],n=document.createElement("option");n.setAttribute("value",o),n.innerHTML=o,e.appendChild(n)}this.domSelect.appendChild(e),this.domSelect.value=this.target[this.param],this.domSelect.addEventListener("change",this.onSelectChange,!1)},t.prototype.update=function(){},t.prototype.dispose=function(){this.domSelect.removeEventListener("change",this.onSelectChange,!1),this.cbOnChange=null,this.target=null},t})(d.a);t.a=p},function(e,t){"use strict";t.a="<div class=\"select component\">\n\t<select></select>\n\t<div class=\"select-arrow\">v</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(97),u=a(88),p=a(207),c=(function(e){function t(a){n()(this,t);var o=r()(this,e.call(this,p.a,a,1>=arguments.length?void 0:arguments[1]));return o.onKeyUp=function(){o.cbOnChange&&o.cbOnChange()},o.init(),o}return l()(t,e),t.prototype.init=function(){this.domLabel=this.dom.querySelector(".text-label"),this.label=this.param,this.domInput=this.dom.querySelector("input"),this.domInput.value=this.target[this.param],d.a.onUp.add(this.onKeyUp)},t.prototype.update=function(){var e=this.target[this.param];this.value!=e&&(this.label=e)},t})(u.a);t.a=c},function(e,t){"use strict";t.a="<div class=\"text component\">\n\t<div class=\"text-icon\"></div>\n\t<div class=\"text-label\">LABEL</div>\n\t<input type=\"text\">\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(5),c=a(1),m=a(81),v=a(88),f=a(209),g=a.n(f),h=a(110),y=a(221),b=(function(e){function t(a){n()(this,t);for(var o=arguments.length,i=Array(1<o?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];var s=l()(this,e.call(this,y.a,a,i[0]));s.onColorChange=function(){s.domBar.style.backgroundColor=s.picker.getHexString();var e=s.picker.getRGB(),t=s.picker.getColor();"rgb"==s.vType?(s.target[s.param].r=e.r/255,s.target[s.param].g=e.g/255,s.target[s.param].b=e.b/255):s.target[s.param]=t,s.cbOnChange&&s.cbOnChange(t,e),s.label=s.param+" "+Object(h.b)(e.r,e.g,e.b)},s.onOver=function(){m.a.on(s.dom,"out",s.onOut),p.a.onUpdate.add(s.update),s.width=s.dom.offsetWidth-10,s.height=s.width,s.picker.setSize(s.width,.8571428571*s.width),s.picker.$el.style.display="block"},s.onOut=function(){m.a.off(s.dom,"out",s.onOut),s.picker.$el.style.display="none"},s.domLabel=s.dom.querySelector(".color-label"),s.domBar=s.dom.querySelector(".color-bar"),s.domPickerCnt=s.dom.querySelector(".color-picker-cnt");var d=a[i[0]],u=0;return"number"==typeof d?(s.vType="number",u=d):void 0!=d.r&&void 0!=d.g&&void 0!=d.b?(s.vType="rgb",u=Object(h.a)(d.r,d.g,d.b)):console.warn("value type not supported in addColor:",d),s.label=s.param,s.picker=new g.a({color:u,background:"#454545",el:s.domPickerCnt}),s.picker.onChange(s.onColorChange),s.domBar.style.backgroundColor=s.picker.getHexString(),m.a.on(s.dom,"over",s.onOver),s}return u()(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},r()(t,[{key:"label",set:function(e){this.domLabel.innerHTML=e},get:function(){return this.domLabel.innerHTML}}]),t})(v.a);t.a=b},function(e,t,a){"use strict";(function(){function t(e){return e=e||{},this.color=null,this.width=0,this.widthUnits="px",this.height=0,this.heightUnits="px",this.hue=0,this.position={x:0,y:0},this.huePosition=0,this.saturationWidth=0,this.hueHeight=0,this.maxHue=0,this.inputIsNumber=!1,this._onSaturationMouseDown=this._onSaturationMouseDown.bind(this),this._onSaturationMouseMove=this._onSaturationMouseMove.bind(this),this._onSaturationMouseUp=this._onSaturationMouseUp.bind(this),this._onHueMouseDown=this._onHueMouseDown.bind(this),this._onHueMouseMove=this._onHueMouseMove.bind(this),this._onHueMouseUp=this._onHueMouseUp.bind(this),this.$el=document.createElement("div"),this.$el.className="Scp",this.$el.innerHTML="<div class=\"Scp-saturation\"><div class=\"Scp-brightness\"></div><div class=\"Scp-sbSelector\"></div></div><div class=\"Scp-hue\"><div class=\"Scp-hSelector\"></div></div>",this.$saturation=this.$el.querySelector(".Scp-saturation"),this.$hue=this.$el.querySelector(".Scp-hue"),this.$sbSelector=this.$el.querySelector(".Scp-sbSelector"),this.$hSelector=this.$el.querySelector(".Scp-hSelector"),this.$saturation.addEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.addEventListener("touchstart",this._onSaturationMouseDown),this.$hue.addEventListener("mousedown",this._onHueMouseDown),this.$hue.addEventListener("touchstart",this._onHueMouseDown),e.el&&this.appendTo(e.el),e.background&&this.setBackgroundColor(e.background),e.widthUnits&&(this.widthUnits=e.widthUnits),e.heightUnits&&(this.heightUnits=e.heightUnits),this.setSize(e.width||175,e.height||150),this.setColor(e.color),this}function o(e,t,a){return Math.min(Math.max(e,t),a)}function n(t){return t=0===t.type.indexOf("touch")?t.touches[0]:t,{x:t.clientX,y:t.clientY}}function i(e){return e="#"+("00000"+(0|e).toString(16)).substr(-6)}var r=a(210),s=a(211),l=a(214),d=a(215);r(t.prototype),t.prototype.appendTo=function(e){return e.appendChild(this.$el),this},t.prototype.remove=function(){this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.removeEventListener("touchstart",this._onSaturationMouseDown),this.$hue.removeEventListener("mousedown",this._onHueMouseDown),this.$hue.removeEventListener("touchstart",this._onHueMouseDown),this.off(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},t.prototype.setColor=function(e){s(e)?(this.inputIsNumber=!0,e=i(e)):this.inputIsNumber=!1,this.color=l(e);var t=this.color.toHsv();return isNaN(t.h)||(this.hue=t.h),this._moveSelectorTo(this.saturationWidth*t.s,(1-t.v)*this.hueHeight),this._moveHueTo((1-this.hue/360)*this.hueHeight),this._updateHue(),this},t.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.$el.style.width=this.width+this.widthUnits,this.$el.style.height=this.height+this.heightUnits,this.saturationWidth=this.width-25,this.$saturation.style.width=this.saturationWidth+"px",this.hueHeight=this.height,this.maxHue=this.hueHeight-2,this},t.prototype.setBackgroundColor=function(e){return s(e)&&(e=i(e)),this.$el.style.padding="5px",this.$el.style.background=l(e).toHexString(),this},t.prototype.setNoBackground=function(){this.$el.style.padding="0px",this.$el.style.background="none"},t.prototype.onChange=function(e){return this.on("update",e),this.emit("update",this.getHexString()),this},t.prototype.getColor=function(){return this.inputIsNumber?this.getHexNumber():this.color.toString()},t.prototype.getHexString=function(){return this.color.toHexString().toUpperCase()},t.prototype.getHexNumber=function(){return parseInt(this.color.toHex(),16)},t.prototype.getRGB=function(){return this.color.toRgb()},t.prototype.getHSV=function(){return this.color.toHsv()},t.prototype.isDark=function(){return this.color.isDark()},t.prototype.isLight=function(){return this.color.isLight()},t.prototype._moveSelectorTo=function(e,t){this.position.x=o(e,0,this.saturationWidth),this.position.y=o(t,0,this.hueHeight),d(this.$sbSelector,{x:this.position.x,y:this.position.y})},t.prototype._updateColorFromPosition=function(){this.color=l({h:this.hue,s:this.position.x/this.saturationWidth,v:1-this.position.y/this.hueHeight}),this._updateColor()},t.prototype._moveHueTo=function(e){this.huePosition=o(e,0,this.maxHue),d(this.$hSelector,{y:this.huePosition})},t.prototype._updateHueFromPosition=function(){var e=this.color.toHsv();this.hue=360*(1-this.huePosition/this.maxHue),this.color=l({h:this.hue,s:e.s,v:e.v}),this._updateHue()},t.prototype._updateHue=function(){var e=l({h:this.hue,s:1,v:1});this.$saturation.style.background="linear-gradient(to right, #fff, "+e.toHexString()+")",this._updateColor()},t.prototype._updateColor=function(){this.$sbSelector.style.background=this.color.toHexString(),this.$sbSelector.style.borderColor=this.color.isDark()?"#fff":"#000",this.emit("update",this.color.toHexString())},t.prototype._onSaturationMouseDown=function(t){var e=this.$saturation.getBoundingClientRect(),a=n(t).x,o=n(t).y;this._moveSelectorTo(a-e.left,o-e.top),this._updateColorFromPosition(),window.addEventListener("mouseup",this._onSaturationMouseUp),window.addEventListener("touchend",this._onSaturationMouseUp),window.addEventListener("mousemove",this._onSaturationMouseMove),window.addEventListener("touchmove",this._onSaturationMouseMove),t.preventDefault()},t.prototype._onSaturationMouseMove=function(t){var e=this.$saturation.getBoundingClientRect(),a=n(t).x,o=n(t).y;this._moveSelectorTo(a-e.left,o-e.top),this._updateColorFromPosition()},t.prototype._onSaturationMouseUp=function(){window.removeEventListener("mouseup",this._onSaturationMouseUp),window.removeEventListener("touchend",this._onSaturationMouseUp),window.removeEventListener("mousemove",this._onSaturationMouseMove),window.removeEventListener("touchmove",this._onSaturationMouseMove)},t.prototype._onHueMouseDown=function(t){var e=this.$hue.getBoundingClientRect(),a=n(t).y;this._moveHueTo(a-e.top),this._updateHueFromPosition(),window.addEventListener("mouseup",this._onHueMouseUp),window.addEventListener("touchend",this._onHueMouseUp),window.addEventListener("mousemove",this._onHueMouseMove),window.addEventListener("touchmove",this._onHueMouseMove),t.preventDefault()},t.prototype._onHueMouseMove=function(t){var e=this.$hue.getBoundingClientRect(),a=n(t).y;this._moveHueTo(a-e.top),this._updateHueFromPosition()},t.prototype._onHueMouseUp=function(){window.removeEventListener("mouseup",this._onHueMouseUp),window.removeEventListener("touchend",this._onHueMouseUp),window.removeEventListener("mousemove",this._onHueMouseMove),window.removeEventListener("touchmove",this._onHueMouseMove)},"undefined"!=typeof e&&e.exports&&(e.exports=t)})()},function(e){function t(e){if(e)return a(e)}function a(e){for(var a in t.prototype)e[a]=t.prototype[a];return e}e.exports=t;t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function a(){this.off(e,a),t.apply(this,arguments)}return a.fn=t,this.on(e,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0,n;o<a.length;o++)if(n=a[o],n===t||n.fn===t){a.splice(o,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),a=this._callbacks["$"+e];if(a){a=a.slice(0);for(var o=0,n=a.length;o<n;++o)a[o].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,a){"use strict";var o=a(212);e.exports=function(e){var t=o(e);if("number"!==t&&"string"!==t)return!1;var a=+e;return 0<=a-a+1&&""!==e}},function(e,t,a){var o=a(213),n=Object.prototype.toString;e.exports=function(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=n.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":o(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}e.exports=function(e){return null!=e&&(t(e)||a(e)||!!e._isBuffer)}},function(e,t,a){var o=Math.min,n=Math.max,i=Math.round,r;(function(l){function d(e,t){if(e=e?e:"",t=t||{},e instanceof d)return e;if(!(this instanceof d))return new d(e,t);var a=s(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=X(100*this._a)/100,this._format=t.format||a.format,this._gradientType=t.gradientType,1>this._r&&(this._r=X(this._r)),1>this._g&&(this._g=X(this._g)),1>this._b&&(this._b=X(this._b)),this._ok=a.ok,this._tc_id=G++}function s(e){var t={r:0,g:0,b:0},o=1,n=null,i=null,r=null,s=!1,l=!1;return"string"==typeof e&&(e=j(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=u(e.r,e.g,e.b),s=!0,l="%"===(e.r+"").substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(n=B(e.s),i=B(e.v),t=f(e.h,n,i),s=!0,l="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(n=B(e.s),r=B(e.l),t=c(e.h,n,r),s=!0,l="hsl"),e.hasOwnProperty("a")&&(o=e.a)),o=T(o),{ok:s,format:e.format||l,r:Z(255,$(t.r,0)),g:Z(255,$(t.g,0)),b:Z(255,$(t.b,0)),a:o}}function u(e,t,a){return{r:255*U(e,255),g:255*U(t,255),b:255*U(a,255)}}function p(e,t,a){e=U(e,255),t=U(t,255),a=U(a,255);var o=$(e,t,a),n=Z(e,t,a),i=(o+n)/2,r,u;if(o==n)r=u=0;else{var p=o-n;u=.5<i?p/(2-o-n):p/(o+n);o===e?r=(t-a)/p+(t<a?6:0):o===t?r=(a-e)/p+2:o===a?r=(e-t)/p+4:void 0;r/=6}return{h:r,s:u,l:i}}function c(e,t,a){function o(e,a,o){return 0>o&&(o+=1),1<o&&(o-=1),o<1/6?e+6*(a-e)*o:o<1/2?a:o<2/3?e+6*((a-e)*(2/3-o)):e}var n,i,r;if(e=U(e,360),t=U(t,100),a=U(a,100),0===t)n=i=r=a;else{var s=.5>a?a*(1+t):a+t-a*t,l=2*a-s;n=o(l,s,e+1/3),i=o(l,s,e),r=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*r}}function m(e,t,a){e=U(e,255),t=U(t,255),a=U(a,255);var o=$(e,t,a),n=Z(e,t,a),i=o-n,r,l;return l=0===o?0:i/o,o==n?r=0:(o===e?r=(t-a)/i+(t<a?6:0):o===t?r=(a-e)/i+2:o===a?r=(e-t)/i+4:void 0,r/=6),{h:r,s:l,v:o}}function f(e,a,o){e=6*U(e,360),a=U(a,100),o=U(o,100);var n=l.floor(e),i=e-n,s=o*(1-a),d=o*(1-i*a),u=o*(1-(1-i)*a),t=n%6,p=[o,d,s,s,u,o][t],r=[u,o,o,d,s,s][t],c=[s,s,u,o,o,d][t];return{r:255*p,g:255*r,b:255*c}}function v(e,t,a,o){var n=[F(X(e).toString(16)),F(X(t).toString(16)),F(X(a).toString(16))];return o&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function g(e,t,o,n,a){var i=[F(X(e).toString(16)),F(X(t).toString(16)),F(X(o).toString(16)),F(R(n))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function h(e,t,o,n){var a=[F(R(n)),F(X(e).toString(16)),F(X(t).toString(16)),F(X(o).toString(16))];return a.join("")}function y(e,t){t=0===t?0:t||10;var a=d(e).toHsl();return a.s-=t/100,a.s=O(a.s),d(a)}function b(e,t){t=0===t?0:t||10;var a=d(e).toHsl();return a.s+=t/100,a.s=O(a.s),d(a)}function w(e){return d(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var a=d(e).toHsl();return a.l+=t/100,a.l=O(a.l),d(a)}function S(e,t){t=0===t?0:t||10;var a=d(e).toRgb();return a.r=$(0,Z(255,a.r-X(255*-(t/100)))),a.g=$(0,Z(255,a.g-X(255*-(t/100)))),a.b=$(0,Z(255,a.b-X(255*-(t/100)))),d(a)}function M(e,t){t=0===t?0:t||10;var a=d(e).toHsl();return a.l-=t/100,a.l=O(a.l),d(a)}function D(e,t){var a=d(e).toHsl(),o=(a.h+t)%360;return a.h=0>o?360+o:o,d(a)}function C(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function k(e){var t=d(e).toHsl(),a=t.h;return[d(e),d({h:(a+120)%360,s:t.s,l:t.l}),d({h:(a+240)%360,s:t.s,l:t.l})]}function I(e){var t=d(e).toHsl(),a=t.h;return[d(e),d({h:(a+90)%360,s:t.s,l:t.l}),d({h:(a+180)%360,s:t.s,l:t.l}),d({h:(a+270)%360,s:t.s,l:t.l})]}function P(e){var t=d(e).toHsl(),a=t.h;return[d(e),d({h:(a+72)%360,s:t.s,l:t.l}),d({h:(a+216)%360,s:t.s,l:t.l})]}function A(e,t,a){t=t||6,a=a||30;var o=d(e).toHsl(),n=360/a,i=[d(e)];for(o.h=(o.h-(n*t>>1)+720)%360;--t;)o.h=(o.h+n)%360,i.push(d(o));return i}function z(e,t){t=t||6;for(var a=d(e).toHsv(),o=a.h,n=a.s,i=a.v,r=[],l=1/t;t--;)r.push(d({h:o,s:n,v:i})),i=(i+l)%1;return r}function T(e){return e=parseFloat(e),(isNaN(e)||0>e||1<e)&&(e=1),e}function U(e,t){L(e)&&(e="100%");var a=N(e);return e=Z(t,$(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),1e-6>l.abs(e-t)?1:e%t/parseFloat(t)}function O(e){return Z(1,$(0,e))}function E(e){return parseInt(e,16)}function L(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function N(e){return"string"==typeof e&&-1!=e.indexOf("%")}function F(e){return 1==e.length?"0"+e:""+e}function B(e){return 1>=e&&(e=100*e+"%"),e}function R(e){return i(255*parseFloat(e)).toString(16)}function V(e){return E(e)/255}function H(e){return!!ee.CSS_UNIT.exec(e)}function j(e){e=e.replace(Y,"").replace(q,"").toLowerCase();var t=!1;if(J[e])e=J[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var a;return(a=ee.rgb.exec(e))?{r:a[1],g:a[2],b:a[3]}:(a=ee.rgba.exec(e))?{r:a[1],g:a[2],b:a[3],a:a[4]}:(a=ee.hsl.exec(e))?{h:a[1],s:a[2],l:a[3]}:(a=ee.hsla.exec(e))?{h:a[1],s:a[2],l:a[3],a:a[4]}:(a=ee.hsv.exec(e))?{h:a[1],s:a[2],v:a[3]}:(a=ee.hsva.exec(e))?{h:a[1],s:a[2],v:a[3],a:a[4]}:(a=ee.hex8.exec(e))?{r:E(a[1]),g:E(a[2]),b:E(a[3]),a:V(a[4]),format:t?"name":"hex8"}:(a=ee.hex6.exec(e))?{r:E(a[1]),g:E(a[2]),b:E(a[3]),format:t?"name":"hex"}:(a=ee.hex4.exec(e))?{r:E(a[1]+""+a[1]),g:E(a[2]+""+a[2]),b:E(a[3]+""+a[3]),a:V(a[4]+""+a[4]),format:t?"name":"hex8"}:!!(a=ee.hex3.exec(e))&&{r:E(a[1]+""+a[1]),g:E(a[2]+""+a[2]),b:E(a[3]+""+a[3]),format:t?"name":"hex"}}function W(e){var t,a;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),a=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==a&&"large"!==a&&(a="small"),{level:t,size:a}}var Y=/^\s+/,q=/\s+$/,G=0,X=i,Z=o,$=n,K=l.random;d.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e=l.pow,t=this.toRgb(),a,o,n,i,r,s;return a=t.r/255,o=t.g/255,n=t.b/255,i=.03928>=a?a/12.92:e((a+.055)/1.055,2.4),r=.03928>=o?o/12.92:e((o+.055)/1.055,2.4),s=.03928>=n?n/12.92:e((n+.055)/1.055,2.4),.2126*i+.7152*r+.0722*s},setAlpha:function(e){return this._a=T(e),this._roundA=X(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=X(360*e.h),a=X(100*e.s),o=X(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+o+"%)":"hsva("+t+", "+a+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=X(360*e.h),a=X(100*e.s),o=X(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+o+"%)":"hsla("+t+", "+a+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return g(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:X(this._r),g:X(this._g),b:X(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+X(this._r)+", "+X(this._g)+", "+X(this._b)+")":"rgba("+X(this._r)+", "+X(this._g)+", "+X(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:X(100*U(this._r,255))+"%",g:X(100*U(this._g,255))+"%",b:X(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+X(100*U(this._r,255))+"%, "+X(100*U(this._g,255))+"%, "+X(100*U(this._b,255))+"%)":"rgba("+X(100*U(this._r,255))+"%, "+X(100*U(this._g,255))+"%, "+X(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(1>this._a)&&(Q[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),a=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var n=d(e);a="#"+h(n._r,n._g,n._b,n._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,o=1>this._a&&0<=this._a,n=!t&&o&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return n?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString())},clone:function(){return d(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(z,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]="a"===o?e[o]:B(e[o]));e=a}return d(e,t)},d.equals=function(e,t){return!!(e&&t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:K(),g:K(),b:K()})},d.mix=function(e,t,a){a=0===a?0:a||50;var o=d(e).toRgb(),n=d(t).toRgb(),i=a/100,r={r:(n.r-o.r)*i+o.r,g:(n.g-o.g)*i+o.g,b:(n.b-o.b)*i+o.b,a:(n.a-o.a)*i+o.a};return d(r)},d.readability=function(e,t){var a=d(e),i=d(t);return(n(a.getLuminance(),i.getLuminance())+.05)/(o(a.getLuminance(),i.getLuminance())+.05)},d.isReadable=function(e,t,a){var o=d.readability(e,t),n,i;switch(i=!1,n=W(a),n.level+n.size){case"AAsmall":case"AAAlarge":i=4.5<=o;break;case"AAlarge":i=3<=o;break;case"AAAsmall":i=7<=o;}return i},d.mostReadable=function(e,t,a){var o=null,n=0,r,s,l,u;a=a||{},s=a.includeFallbackColors,l=a.level,u=a.size;for(var p=0;p<t.length;p++)r=d.readability(e,t[p]),r>n&&(n=r,o=d(t[p]));return d.isReadable(e,o,{level:l,size:u})||!s?o:(a.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],a))};var J=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q=d.hexNames=(function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t})(J),ee=(function(){var e="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")";return{CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();"undefined"!=typeof e&&e.exports?e.exports=d:(r=function(){return d}.call(t,a,t,e),!(r!==void 0&&(e.exports=r)))})(Math)},function(e,t,a){"use strict";function o(e){for(var t in e)d.call(p,t)&&(e[p[t]]=e[t],delete e[t])}function n(){return Object.keys(l).map((function(e){return e}))}var i=a(216),r=a(217),l=a(218),s=a(219),d=Object.prototype.hasOwnProperty,u=i("transform"),p={x:"translateX",y:"translateY",z:"translateZ",origin:"transformOrigin"};t=e.exports=function(e,t){var a=[],n,p,c;for(n in o(t),t)if(d.call(t,n)){if(p=t[n],d.call(l.transform,n)){c=l.transform[n],r(p)&&(p=p.join(c.separator)),a.push(n+"("+s(p,c.defaultUnit,c.separator)+")");continue}if(d.call(l,n)){c=l[n],r(p)&&(p=p.join(c.separator)),e.style[i(n)]=s(p,c.defaultUnit,c.separator);continue}console.warn("dom-transform: this property (`"+n+"`) is not supported.")}e.style[u]=a.join(" ")},t.get=function(e,t){var a=e.style;if("string"==typeof t)return d.call(l.transform,t)?a[u]:a[i(t)];t||(t=n());var o={};return t.forEach((function(e){o[e]=a[i(e)]})),o},t.reset=function(e,t){var a=e.style;return"string"==typeof t?void(a[i(t)]=null):void(!t&&(t=n()),t.forEach((function(e){a[i(e)]=null})))},t.isSupported=function(){return 0<u.length}},function(e){function t(e){if(e=e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()})),void 0!==o[e])return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),a=n.length,i;a--;)if(i=n[a]+t,void 0!==o[i])return i;return e}function a(e){return e in r?r[e]:r[e]=t(e)}var o="undefined"==typeof document?{}:document.createElement("p").style,n=["O","ms","Moz","Webkit"],i=/([A-Z])/g,r={};e.exports=a,e.exports.dash=function(e){return e=t(e),i.test(e)&&(e="-"+e.replace(i,"-$1"),i.lastIndex=0),e.toLowerCase()}},function(e){var t=Array.isArray,a=Object.prototype.toString;e.exports=t||function(e){return!!e&&"[object Array]"==a.call(e)}},function(e){"use strict";e.exports={transform:{translate:{defaultUnit:"px"},translate3d:{defaultUnit:"px"},translateX:{defaultUnit:"px"},translateY:{defaultUnit:"px"},translateZ:{defaultUnit:"px"},scale:{defaultUnit:""},scale3d:{defaultUnit:""},scaleX:{defaultUnit:""},scaleY:{defaultUnit:""},scaleZ:{defaultUnit:""},rotate:{defaultUnit:"deg"},rotate3d:{defaultUnit:""},rotateX:{defaultUnit:"deg"},rotateY:{defaultUnit:"deg"},rotateZ:{defaultUnit:"deg"},skew:{defaultUnit:"deg"},skewX:{defaultUnit:"deg"},skewY:{defaultUnit:"deg"},perspective:{defaultUnit:"px"},matrix:{defaultUnit:""},matrix3d:{defaultUnit:""}},transformOrigin:{defaultUnit:"px",separator:" "}}},function(e,t,a){"use strict";var o=a(220),n=/^-?\d+(\.\d+)?$/;e.exports=function(e,t,a){if(a=a||",","number"==typeof e)return""+e+t;var i=new RegExp(a,"g"),r=e.split(i.test(e)?a:" ");return r.map((function(e){return e=o(e),n.test(e)&&(e+=t),e})).join(a)}},function(e,t){t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")},t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t){"use strict";t.a="<div class=\"color component\">\n\t<div class=\"color-content\">\n\t\t<div class=\"color-bar\"></div>\n\t\t<div class=\"color-label\">Name</div>\n\t</div>\n\t<div class=\"color-picker-cnt\">\n\t</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(81),u=a(88),p=a(223),c=a(224),m=(function(e){function t(a){n()(this,t);var o="root"==a,i=r()(this,e.call(this,o?p.a:c.a));return i.onTitleBarClick=function(){i.domContent.classList.contains("hide")?i.domContent.classList.remove("hide"):i.domContent.classList.add("hide")},i.open=function(){i.domContent.classList.contains("hide")&&i.domContent.classList.remove("hide")},i.close=function(){i.domContent.classList.contains("hide")||i.domContent.classList.add("hide")},i.label=a,i.isRoot=o,i.isRoot||(i.dom.classList.add("part"),i.dom.querySelector(".folder-title-text").innerHTML=i.label,i.domFolderTitleBar=i.dom.querySelector(".folder-title-bar"),i.domFolderButtons=i.dom.querySelector(".folder-title-buttons"),d.a.on(i.domFolderTitleBar,"click",i.onTitleBarClick)),i.domContent=i.dom.querySelector(".folder-content"),i}return l()(t,e),t.prototype.add=function(e){this.domContent.appendChild(e.dom)},t.prototype.addColor=function(){},t.prototype.dispose=function(){d.a.off(this.domFolderTitleBar,"click",this.onTitleBarClick)},t})(u.a);t.a=m},function(e,t){"use strict";t.a="<div class=\"folder root\">\n\t<div class=\"folder-content\">\n\t\t\n\t</div>\n</div>\n"},function(e,t){"use strict";t.a="<div class=\"folder\">\n\t<div class=\"folder-title-bar\">\n\t\t<div class=\"folder-title-text\">\n\t\t</div>\n\t\t<div class=\"folder-title-buttons\">\n\t\t</div>\n\t</div>\n\t<div class=\"folder-content\">\n\t\t\n\t</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=(function(){function e(t,a){n()(this,e),this.setup(t,a)}return e.prototype.setup=function(e,t){this.components=e,this.folders=t},e.prototype.update=function(){for(var e=0,t=this.components.length;e<t;e++)this.components[e].update();for(var a=0,o=this.folders.length;a<o;a++)this.folders[a].updater.update()},e})();t.a=i},function(e,t,a){"use strict";var o=Math.sin,n=Math.PI;(function(e){var i=a(0),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(31),c=a(29),m=a(18),v=a(83),f=a(32),g=a(227),h=a.n(g),y=a(228),b=a.n(y),w=(function(t){function a(){r()(this,a);var o=l()(this,t.call(this));o.onDarknessChange=function(e){TweenLite.killTweensOf(o.meshLight.scale,!1),TweenLite.killTweensOf(o.position,!1),TweenLite.killTweensOf(o.rotation,!1),1==e?(TweenLite.to(o.meshLight.scale,.4,{delay:.8,x:1e-5,y:1e-5,z:1e-5,ease:Cubic.easeIn,onComplete:function(){o.meshLight.visible=!1}}),TweenLite.to(o.position,1,{delay:.2,y:800,ease:Cubic.easeIn}),TweenLite.to(o.rotation,1.2,{y:2*n,ease:Power3.easeIn})):(o.position.y=-200,o.meshLight.visible=!0,TweenLite.to(o.meshLight.scale,1.2,{delay:1.2,x:1,y:1,z:1,ease:Cubic.easeOut}),TweenLite.to(o.position,1,{delay:1.4,y:0,ease:Cubic.easeOut}),TweenLite.to(o.rotation,1.2,{delay:1.2,y:0,ease:Power3.easeOut}))},o.onStart=function(){TweenLite.to(o.meshLight.scale,1.2,{delay:1.4,x:1,y:1,z:1,ease:Cubic.easeOut}),TweenLite.to(o.position,1,{delay:1.6,y:0,ease:Cubic.easeOut}),TweenLite.to(o.rotation,1.2,{delay:1.4,y:0,ease:Power3.easeOut})},o.fMonolithLight=v.a.addFolder("Monolith Light");var i=p.a.models["monolith-light"],s=new e.Texture(p.a.images["monolith-light"]);return s.needsUpdate=!0,o.colorLight=16475191,o.geometryLight=i.children[0].geometry,o.materialLight=new e.RawShaderMaterial({uniforms:{map:{type:"t",value:s},color:{type:"c",value:new e.Color(o.colorLight)},additivePercent:{type:"f",value:2.9},explode:{type:"f",value:0}},vertexShader:h.a,fragmentShader:b.a}),o.fMonolithLight.addColor(o,"colorLight").onChange((function(){o.materialLight.uniforms.color.value.setHex(o.colorLight)})),o.fMonolithLight.add(o.materialLight.uniforms.additivePercent,"value",0,4).name("Color Additive Percent"),o.meshLight=new e.Mesh(o.geometryLight,o.materialLight),o.meshLight.position.y=140,o.add(o.meshLight),o.position.y=-200,o.meshLight.scale.set(1e-5,1e-5,1e-5),o.rotation.y=2*n,o.yLightVar=0,c.a.onDarknessChange.add(o.onDarknessChange),c.a.onStart.addOnce(o.onStart),o}return u()(a,t),a.prototype.update=function(e){this.materialLight.uniforms.additivePercent.value+=.2*(2.9+8*m.a.volume-this.materialLight.uniforms.additivePercent.value),this.yLightVar+=5e-4*e,this.meshLight.position.y=140+15*o(.5*this.yLightVar),this.meshLight.rotation.y=.2*o(1.2*this.yLightVar+40),this.meshLight.rotation.z=.025*o(this.yLightVar+100)},a})(e.Group);t.a=w}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\n\nuniform float explode;\nuniform float time;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nvarying vec2 vUv;\nvarying float vY;\n\nlowp vec3 permute(in lowp vec3 x) { return mod( x*x*34.+x, 289.); }\nlowp float snoise(in lowp vec2 v) {\n  lowp vec2 i = floor((v.x+v.y)*.36602540378443 + v),\n      x0 = (i.x+i.y)*.211324865405187 + v - i;\n  lowp float s = step(x0.x,x0.y);\n  lowp vec2 j = vec2(1.0-s,s),\n      x1 = x0 - j + .211324865405187, \n      x3 = x0 - .577350269189626; \n  i = mod(i,289.);\n  lowp vec3 p = permute( permute( i.y + vec3(0, j.y, 1 ))+ i.x + vec3(0, j.x, 1 )   ),\n       m = max( .5 - vec3(dot(x0,x0), dot(x1,x1), dot(x3,x3)), 0.),\n       x = fract(p * .024390243902439) * 2. - 1.,\n       h = abs(x) - .5,\n      a0 = x - floor(x + .5);\n  return .5 + 65. * dot( pow(m,vec3(4.))*(- 0.85373472095314*( a0*a0 + h*h )+1.79284291400159 ), a0 * vec3(x0.x,x1.x,x3.x) + h * vec3(x0.y,x1.y,x3.y));\n}\n\nvoid main() {\n\tvUv = uv;\n\n\tvec3 finalPos = position.xyz;\n\tfinalPos += explode * normal;\n\n\tvec4 mvPosition = modelMatrix * vec4( finalPos, 1.0 );\n\tvY = mvPosition.y;\t\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( finalPos, 1.0 );\n\n}\n"},function(e){e.exports="precision highp float;\n\nuniform sampler2D map;\nuniform vec3 color;\nuniform float additivePercent;\n\nvarying vec2 vUv;\nvarying float vY;\n\nvoid main() {\n\n\t// hide in the floor\n\tif(step(0.01,vY) == 0.){\n\t\tdiscard;\n\t}\n\n\tvec4 texture = texture2D( map, vUv );\n\tvec3 colorFinal = texture.rgb * color;\n\tcolorFinal += colorFinal * additivePercent;\n\tgl_FragColor = vec4( colorFinal, 1.0 );\n\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(31),u=a(29),p=a(83),c=a(32),m=a(230),v=(function(t){function a(){n()(this,a);var o=d.a.models["monolith-dark"],i=o.children[0].geometry,s="textures/cube/SwedishRoyalCastle/",l=".jpg",p=new e.CubeTextureLoader().load([s+"px"+l,s+"nx"+l,s+"py"+l,s+"ny"+l,s+"pz"+l,s+"nz"+l],(function(e){return e.needsUpdate=!0}));p.format=e.RGBFormat,p.mapping=e.CubeReflectionMapping;var c=new m.a({envMap:p,envMapIntensity:1,color:331047,roughness:.3,metalness:.2,fog:!1,wireframe:!1,transparent:!0}),v=r()(this,t.call(this,i,c));v.onDarknessChange=function(e){TweenLite.killTweensOf(v,!1),1==e?TweenLite.to(v.position,2.1,{delay:.77,y:100*u.a.darkScale,ease:Quad.easeInOut}):TweenLite.to(v.position,1,{delay:.4,y:-500*u.a.darkScale,ease:Cubic.easeOut})},v.scale.multiplyScalar(u.a.darkScale),v.position.y=100*u.a.darkScale;var f=u.a.darkgui.addFolder("monolight dark");return f.addColor(v.material,"color"),f.add(c,"envMapIntensity",0,2),f.add(c,"roughness",0,1),f.add(c,"metalness",0,1),v.position.y=-1==u.a.isDarkness?-500*u.a.darkScale:100*u.a.darkScale,u.a.onDarknessChange.add(v.onDarknessChange),v}return l()(a,t),a.prototype.update=function(){},a})(e.Mesh);t.a=v}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=(function(t){function a(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;n()(this,a),s=s||"\n\t\t#define PHYSICAL\n\n\t\tuniform vec3 diffuse;\n\t\tuniform vec3 emissive;\n\t\tuniform float roughness;\n\t\tuniform float metalness;\n\t\tuniform float opacity;\n\t\t\n\t\t#ifndef STANDARD\n\t\t\tuniform float clearCoat;\n\t\t\tuniform float clearCoatRoughness;\n\t\t#endif\n\t\t\n\t\tvarying vec3 vViewPosition;\n\t\t\n\t\t#ifndef FLAT_SHADED\n\t\t\n\t\t\tvarying vec3 vNormal;\n\t\t\n\t\t#endif\n\t\t\n\t\t#include <common>\n\t\t#include <packing>\n\t\t#include <dithering_pars_fragment>\n\t\t#include <color_pars_fragment>\n\t\t#include <uv_pars_fragment>\n\t\t#include <uv2_pars_fragment>\n\t\t#include <map_pars_fragment>\n\t\t#include <alphamap_pars_fragment>\n\t\t#include <aomap_pars_fragment>\n\t\t#include <lightmap_pars_fragment>\n\t\t#include <emissivemap_pars_fragment>\n\t\t#include <envmap_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <bsdfs>\n\t\t#include <cube_uv_reflection_fragment>\n\t\t#include <lights_pars>\n\t\t#include <lights_physical_pars_fragment>\n\t\t#include <shadowmap_pars_fragment>\n\t\t#include <bumpmap_pars_fragment>\n\t\t#include <normalmap_pars_fragment>\n\t\t#include <roughnessmap_pars_fragment>\n\t\t#include <metalnessmap_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\t//--------CUSTOM\n\t\tvarying float vY;\n\t\t//-------------\n\n\t\tvoid main() {\n\t\t\n\t\t\t#include <clipping_planes_fragment>\n\t\t\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\t\t\n\t\t\t//------- CUSTOM\n\t\t\tdiffuseColor.a = step(-0.01,vY);\n\t\t\tif(diffuseColor.a == 0.){\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t//--------------\n\n\t\t\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t\t\tvec3 totalEmissiveRadiance = emissive;\n\t\t\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <map_fragment>\n\t\t\t#include <color_fragment>\n\t\t\t#include <alphamap_fragment>\n\t\t\t#include <alphatest_fragment>\n\t\t\t#include <roughnessmap_fragment>\n\t\t\t#include <metalnessmap_fragment>\n\t\t\t#include <normal_fragment>\n\t\t\t#include <emissivemap_fragment>\n\t\t\n\t\t\t// accumulation\n\t\t\t#include <lights_physical_fragment>\n\t\t\t#include <lights_template>\n\t\t\n\t\t\t// modulation\n\t\t\t#include <aomap_fragment>\n\t\t\n\t\t\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t\t\n\t\t\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t\t\t\n\t\t\t//---------------\n\t\t\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\t\t\t#include <dithering_fragment>\n\t\t\n\t\t}\n\t\t",l=l||"\n\t\t#define PHYSICAL\n\n\t\tvarying vec3 vViewPosition;\n\t\t\n\t\t#ifndef FLAT_SHADED\n\t\t\n\t\t\tvarying vec3 vNormal;\n\t\t\n\t\t#endif\n\t\t\n\t\t#include <common>\n\t\t#include <uv_pars_vertex>\n\t\t#include <uv2_pars_vertex>\n\t\t#include <displacementmap_pars_vertex>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <morphtarget_pars_vertex>\n\t\t#include <skinning_pars_vertex>\n\t\t#include <shadowmap_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\t//--------CUSTOM\n\t\tvarying float vY;\n\t\t//-------------\n\t\t\n\t\tvoid main() {\n\t\t\n\t\t\t#include <uv_vertex>\n\t\t\t#include <uv2_vertex>\n\t\t\t#include <color_vertex>\n\t\t\n\t\t\t#include <beginnormal_vertex>\n\t\t\t#include <morphnormal_vertex>\n\t\t\t#include <skinbase_vertex>\n\t\t\t#include <skinnormal_vertex>\n\t\t\t#include <defaultnormal_vertex>\n\t\t\n\t\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\t\t\n\t\t\tvNormal = normalize( transformedNormal );\n\t\t\n\t\t#endif\n\t\t\n\t\t\t#include <begin_vertex>\n\t\t\t#include <morphtarget_vertex>\n\t\t\t#include <skinning_vertex>\n\t\t\t#include <displacementmap_vertex>\n\t\t\t#include <project_vertex>\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\n\t\t\tvViewPosition = - mvPosition.xyz;\n\t\t\n\t\t\t//--------CUSTOM\n\t\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t\t\tvY = worldPosition.y;\n\t\t\t//-------------\n\n\t\t\t#include <shadowmap_vertex>\n\t\t\t#include <fog_vertex>\n\t\t\n\t\t}\n";var d=r()(this,t.call(this,o));return d.uniforms=e.UniformsUtils.merge([e.ShaderLib.standard.uniforms,i]),d.isMeshStandardMaterial=!0,d.setFlags(d,s,l),d.setValues(o),d}return l()(a,t),a.prototype.setFlags=function(e,t,a){e.vertexShader=a,e.fragmentShader=t,e.type="MeshCustomMaterial"},a})(e.MeshStandardMaterial);t.a=d}).call(t,a(28))},function(e,t,a){"use strict";var o=Math.PI;(function(e){var n=a(0),i=a.n(n),r=a(75),s=a.n(r),l=a(76),d=a.n(l),u=a(111),p=a(83),c=a(32),m=a(82),v=a(29),f=a(35),g=a.n(f),h=a(31),y=a(238),b=a.n(y),w=a(239),_=a.n(w),S=(function(t){function a(){i()(this,a);var n=s()(this,t.call(this));n.onDarknessChange=function(e){1==e?(TweenLite.to(n.position,.8,{y:150,ease:Quad.easeIn}),TweenLite.to(n.rotation,.8,{y:-o,ease:Quad.easeIn}),TweenLite.to(n.lines.material.uniforms.globalScale,.5,{value:0,ease:Cubic.easeIn,onComplete:function(){n.remove(n.lines)}})):(n.scale.set(1e-5,1e-5,1e-5),n.position.y=-100,n.rotation.y=.75*o,TweenLite.to(n.position,2,{delay:.8,y:0,ease:Quad.easeOut}),TweenLite.to(n.rotation,2,{delay:.8,y:0,ease:Quad.easeOut}),TweenLite.to(n.scale,.6,{delay:1.2,x:1,y:1,z:1,ease:Cubic.easeOut}),TweenLite.to(n.lines.material.uniforms.globalScale,.6,{delay:1.7,value:1,ease:Cubic.easeOut}),n.add(n.lines))},n.onStart=function(){n.scale.set(1e-5,1e-5,1e-5),n.position.y=-100,n.rotation.y=.75*o,TweenLite.to(n.position,2,{delay:1.1,y:0,ease:Quad.easeOut}),TweenLite.to(n.rotation,2,{delay:1.1,y:0,ease:Quad.easeOut}),TweenLite.to(n.scale,.6,{delay:1.7,x:1,y:1,z:1,ease:Cubic.easeOut}),TweenLite.to(n.lines.material.uniforms.globalScale,.6,{delay:2.2,value:1,ease:Cubic.easeOut})},n.fFishes=p.a.addFolder("Fishes"),n.count=g.a.any?512:1024,n.divisions=g.a.any?4:6,n.colorFish=8086501;var r=new e.Texture(h.a.images["fish-long"]);r.needsUpdate=!0;var l=new e.Texture(h.a.images["fish-small-3"]);return l.needsUpdate=!0,n.lines=new u.a(n.count,n.divisions,b.a,_.a),n.lines.frustumCulled=!1,n.lines.material.uniforms.lineWidth.value=16,n.lines.material.uniforms.map={type:"t",value:l},n.lines.material.uniforms.mapLong={type:"t",value:r},n.lines.material.uniforms.time={type:"f",value:0},n.lines.material.uniforms.colorFish={type:"c",value:new e.Color(n.colorFish)},n.lines.material.uniforms.globalScale={type:"f",value:1},n.lines.material.uniforms.radius={type:"f",value:1},n.lines.material.side=e.DoubleSide,n.fFishes.addColor(n,"colorFish").onChange((function(){n.lines.material.uniforms.colorFish.value.setHex(n.colorFish)})),n.lines.customDepthMaterial=null,n.radius=170,n.radiusVariationMin=-10,n.radiusVariationMax=80,n.fishALength=.04*.8,n.customizeGeometry(),n.add(n.lines),n.lines.material.uniforms.globalScale.value=0,v.a.onDarknessChange.add(n.onDarknessChange),v.a.onStart.addOnce(n.onStart),n}return d()(a,t),a.prototype.customizeGeometry=function(){var t=0,n=o*this.fishALength,r=n/this.divisions,s=2*o*Math.random(),a=this.radiusVariationMax-this.radiusVariationMin,d=[r,2*r,3*r],u=this.count*this.divisions;this.aAngles=new Float32Array(2*u),this.aTimes=new Float32Array(2*u),this.aMovsY=new Float32Array(2*u),this.aDivisionsID=new Float32Array(2*u),this.aRadius=new Float32Array(2*u),this.aFishIdx=new Float32Array(2*u),this.aFishLength=new Float32Array(2*u),this.aGlobalScale=new Float32Array(2*u),this.aYRange=new Float32Array(2*u);for(var l=0;l<this.count;l++){var i=1e4*Math.random(),p=1.5+3.25*Math.random();s=2*(2*o*Math.random());for(var m=this.radius+Object(c.b)(this.radiusVariationMin,this.radiusVariationMax,5),v=Object(c.b)(0,2,4)>>0,f=d[v],g=Object(c.b)(.85,2,4),h=26+Object(c.b)(20,200,7),y=0;y<this.divisions;y++)this.aAngles[t]=this.aAngles[t+1]=s,this.aFishIdx[t]=this.aFishIdx[t+1]=v,this.aFishLength[t]=this.aFishLength[t+1]=f,this.aRadius[t]=this.aRadius[t+1]=m,this.aTimes[t]=this.aTimes[t+1]=i,this.aMovsY[t]=this.aMovsY[t+1]=p,this.aDivisionsID[t]=this.aDivisionsID[t+1]=y,this.aGlobalScale[t]=this.aGlobalScale[t+1]=g,this.aYRange[t]=this.aYRange[t+1]=h,t+=2}this.lines.geometry.addAttribute("aMovY",new e.BufferAttribute(this.aMovsY,1)),this.lines.geometry.addAttribute("aAngle",new e.BufferAttribute(this.aAngles,1)),this.lines.geometry.addAttribute("aTime",new e.BufferAttribute(this.aTimes,1)),this.lines.geometry.addAttribute("aDivisionsID",new e.BufferAttribute(this.aDivisionsID,1)),this.lines.geometry.addAttribute("aRadius",new e.BufferAttribute(this.aRadius,1)),this.lines.geometry.addAttribute("aFishIdx",new e.BufferAttribute(this.aFishIdx,1)),this.lines.geometry.addAttribute("aFishLength",new e.BufferAttribute(this.aFishLength,1)),this.lines.geometry.addAttribute("aGlobalScale",new e.BufferAttribute(this.aGlobalScale,1)),this.lines.geometry.addAttribute("aYRange",new e.BufferAttribute(this.aYRange,1))},a.prototype.update=function(e){this.lines.material.uniforms.time.value+=.1*e},a})(e.Group);t.a=S}).call(t,a(28))},function(e,t,a){"use strict";var o=Math.floor;(function(e){var n=a(0),r=a.n(n),i=a(75),s=a.n(i),l=a(76),d=a.n(l),u=a(110),p=(function(t){function a(d,p,v,f){4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;r()(this,a);var g=s()(this,t.call(this));m.call(g),g.linesCount=d,g.lineDivision=p,g.textureWidth=v,g.textureHeight=f,g.lums=[];for(var h=d*p,l=new Float32Array(2*h),y=new Float32Array(6*h),b=new Float32Array(4*h),_=new Float32Array(4*h),S=new Float32Array(4*h),M=new Float32Array(4*h),D=new Uint32Array(6*h),C=void 0,w=void 0,I=void 0,P=void 0,A=0;A<d;A++)for(var i=0;i<p;i++)w=A*p+i,I=2*w,P=4*w,l[I]=1,l[I+1]=-1,M[P]=M[P+2]=w%p/(p-1),M[P+1]=0,M[P+3]=1,b[P]=b[P+2]=o(w%v)/v,b[P+1]=b[P+3]=o(w/v)/f,C=0==i?w:w-1,_[P]=_[P+2]=C%v/v,_[P+1]=_[P+3]=o(C/v)/f,C=i==p-1?w:w+1,S[P]=S[P+2]=C%v/v,S[P+1]=S[P+3]=o(C/v)/f;for(var z=void 0,n=void 0,k=void 0,T=0;T<d;T++)for(var U=0;U<p-1;U++)z=2*U+2*(T*p),n=6*U+6*(T*p),D[n]=z,D[n+1]=z+1,D[n+2]=z+2,D[n+3]=z+2,D[n+4]=z+1,D[n+5]=z+3;for(var O=new e.Color(16777215),c=0;c<d;c++){k=60*Math.random()+120,g.lums.push(k);var E=Object(u.c)({hue:160,sat:120,lum:k});O.setHSL(E.h/255,E.s/255,E.l/255);for(var L=0;L<p;L++)n=6*L+6*(c*p),y[n]=y[n+3]=O.r,y[n+1]=y[n+4]=O.g,y[n+2]=y[n+5]=O.b}var N=new e.BufferAttribute(b,2);N.setDynamic(!0);var F=new e.BufferAttribute(_,2);F.setDynamic(!0);var B=new e.BufferAttribute(S,2);B.setDynamic(!0);var R=new e.BufferAttribute(M,2);R.setDynamic(!0);var V=new e.BufferAttribute(l,1);V.setDynamic(!0);var H=new e.BufferAttribute(y,3);H.setDynamic(!0),g.addAttribute("ID",N),g.addAttribute("prevID",F),g.addAttribute("nextID",B),g.addAttribute("uv",R),g.addAttribute("side",V),g.addAttribute("color",H);var j=new e.BufferAttribute(D,1);return j.setDynamic(!0),g.setIndex(j),g}return d()(a,t),a})(e.BufferGeometry),m=function(){var t=this;this.updateSizes=function(e,a){t.sizes=e;for(var r=t.attributes.side.array,s=t.attributes.uv.array,l=t.attributes.ID.array,d=t.attributes.prevID.array,u=t.attributes.nextID.array,p=void 0,c=void 0,m=void 0,v=void 0,f=0,g=t.textureWidth,h=t.textureHeight,y=0,i;y<e.length;y++){i=e[y];for(var b=0;b<i;b++)c=f+b,m=2*c,v=4*c,r[m]=1,r[m+1]=-1,s[v]=s[v+2]=b/(i-1),s[v+1]=0,s[v+3]=1,l[v]=l[v+2]=o(c%g)/g,l[v+1]=l[v+3]=o(c/g)/h,p=0==b?c:c-1,d[v]=d[v+2]=p%g/g,d[v+1]=d[v+3]=o(p/g)/h,p=b==i-1?c:c+1,u[v]=u[v+2]=p%g/g,u[v+1]=u[v+3]=o(p/g)/h;f+=i}var w,n;f=0;for(var _=new Uint32Array(6*a),S=0,M;S<e.length;S++){M=e[S];for(var D=0;D<M-1;D++)w=2*D+2*f,n=6*D+6*f,_[n]=w,_[n+1]=w+1,_[n+2]=w+2,_[n+3]=w+2,_[n+4]=w+1,_[n+5]=w+3;f+=M}t.attributes.side.needsUpdate=!0,t.attributes.uv.needsUpdate=!0,t.attributes.ID.needsUpdate=!0,t.attributes.prevID.needsUpdate=!0,t.attributes.nextID.needsUpdate=!0,t.index.setArray(_),t.index.needsUpdate=!0},this.updateColor=function(a){var o=t.attributes.color.array,n=t.linesCount,r=t.lineDivision,s=new e.Color,l;a=a||255*Math.random();for(var d=0,i;d<n;d++){i=Object(u.c)({hue:a,sat:120,lum:t.lums[d]}),s.setHSL(i.h/255,i.s/255,i.l/255);for(var p=0;p<r;p++)l=6*p+6*(d*r),o[l]=o[l+3]=s.r,o[l+1]=o[l+4]=s.g,o[l+2]=o[l+5]=s.b}t.attributes.color.needsUpdate=!0},this.updateColorFromArray=function(a){for(var n=t.attributes.color.array,r=t.linesCount,s=t.lineDivision,l=void 0,d=new e.Color,u=0,i;u<r;u++){i=a[o(Math.random()*a.length)],d.set("hsl("+i.h+","+i.s+"%,"+(i.l+o(16*(Math.random()-.5)))+"%)");for(var p=0;p<s;p++)l=6*p+6*(u*s),n[l]=n[l+3]=d.r,n[l+1]=n[l+4]=d.g,n[l+2]=n[l+5]=d.b}t.attributes.color.needsUpdate=!0}};t.a=p}).call(t,a(28))},function(e,t){"use strict";t.a=function(e){for(var t=2,a=2,o=0;t*a<e;)o++,0==o%2?a*=2:t*=2;return{width:t,height:a}}},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform sampler2D positions;\n\nattribute mediump vec2 ID;\nattribute mediump vec2 prevID;\nattribute mediump vec2 nextID;\nattribute lowp float side;\nattribute lowp vec3 color;\nattribute lowp vec2 uv;\n\nuniform lowp vec2 resolution;\nvarying lowp vec4 vColor;\nuniform mediump float lineWidth;\n\nvec2 fix( vec4 i, float aspect ) {\n\tvec2 res = i.xy / i.w;\n\tres.x *= aspect;\n\treturn res;\n}\n\nvoid main() {\n\tvColor = vec4(color,1.);\n\n\tfloat aspect = resolution.x / resolution.y;\n\n\tmat4 m = projectionMatrix * modelViewMatrix;\n\tvec4 finalPosition = m * vec4( texture2D(positions,ID).rgb, 1.0 );\n\tvec4 prevPos = m * vec4( texture2D(positions,prevID).rgb, 1.0 );\n\tvec4 nextPos = m * vec4( texture2D(positions,nextID).rgb, 1.0 );\n\n\tvec2 prevP = fix( prevPos, aspect );\n\tvec2 nextP = fix( nextPos, aspect );\n\n\tvec2 dir = normalize( nextP - prevP );\n\tfinalPosition.xy += vec2( -dir.y/aspect, dir.x ) * lineWidth * side * texture2D(positions,ID).a;\n\t// needed to received shadow\n\t// finalPosition = inverse( m ) * finalPosition;\n\t// vec4 worldPosition = modelMatrix * finalPosition;\n\n\tgl_Position = finalPosition;\n}\n\n// needed to received shadow..\n// mat4 inverse(mat4 m) {\n//   float\n// \t  a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n// \t  a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n// \t  a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n// \t  a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n// \t  b00 = a00 * a11 - a01 * a10,\n// \t  b01 = a00 * a12 - a02 * a10,\n// \t  b02 = a00 * a13 - a03 * a10,\n// \t  b03 = a01 * a12 - a02 * a11,\n// \t  b04 = a01 * a13 - a03 * a11,\n// \t  b05 = a02 * a13 - a03 * a12,\n// \t  b06 = a20 * a31 - a21 * a30,\n// \t  b07 = a20 * a32 - a22 * a30,\n// \t  b08 = a20 * a33 - a23 * a30,\n// \t  b09 = a21 * a32 - a22 * a31,\n// \t  b10 = a21 * a33 - a23 * a31,\n// \t  b11 = a22 * a33 - a23 * a32,\n\n// \t  det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n//   return mat4(\n// \t  a11 * b11 - a12 * b10 + a13 * b09,\n// \t  a02 * b10 - a01 * b11 - a03 * b09,\n// \t  a31 * b05 - a32 * b04 + a33 * b03,\n// \t  a22 * b04 - a21 * b05 - a23 * b03,\n// \t  a12 * b08 - a10 * b11 - a13 * b07,\n// \t  a00 * b11 - a02 * b08 + a03 * b07,\n// \t  a32 * b02 - a30 * b05 - a33 * b01,\n// \t  a20 * b05 - a22 * b02 + a23 * b01,\n// \t  a10 * b10 - a11 * b08 + a13 * b06,\n// \t  a01 * b08 - a00 * b10 - a03 * b06,\n// \t  a30 * b04 - a31 * b02 + a33 * b00,\n// \t  a21 * b02 - a20 * b04 - a23 * b00,\n// \t  a11 * b07 - a10 * b09 - a12 * b06,\n// \t  a00 * b09 - a01 * b07 + a02 * b06,\n// \t  a31 * b01 - a30 * b03 - a32 * b00,\n// \t  a20 * b03 - a21 * b01 + a22 * b00) / det;\n// }\n"},function(e){e.exports="precision highp float;\n\nvarying lowp vec4 vColor;\n\nvoid main() {\n\tgl_FragColor = vec4(vColor);\n}\n"},function(e){e.exports="#include <common>\n#include <logdepthbuf_pars_vertex>\n\n\nattribute mediump vec2 ID;\nattribute mediump vec2 prevID;\nattribute mediump vec2 nextID;\nattribute lowp float side;\n\nuniform lowp vec2 resolution;\nuniform mediump float lineWidth;\nuniform sampler2D positions;\n\nvarying float alpha;\n\nvec2 fix( vec4 i, float aspect ) {\n\tvec2 res = i.xy / i.w;\n\tres.x *= aspect;\n\treturn res;\n}\n\nvoid main() {\n\tfloat aspect = resolution.x / resolution.y;\n\n\talpha = texture2D(positions,ID).a;\n\tmat4 m = projectionMatrix * modelViewMatrix;\n\tvec4 finalPosition = m * vec4( texture2D(positions,ID).rgb, 1.0 );\n\tvec4 prevPos = m * vec4( texture2D(positions,prevID).rgb, 1.0 );\n\tvec4 nextPos = m * vec4( texture2D(positions,nextID).rgb, 1.0 );\n\n\tvec2 prevP = fix( prevPos, aspect );\n\tvec2 nextP = fix( nextPos, aspect );\n\n\tvec2 dir = normalize( nextP - prevP );\n\tfinalPosition.xy += vec2( -dir.y/aspect, dir.x ) * lineWidth * side;\n\tgl_Position = finalPosition;\n\t#include <logdepthbuf_vertex>\n}\n"},function(e){e.exports="#define DEPTH_PACKING 0\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying lowp float alpha;\nuniform float alphaTest;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif(alpha<alphaTest) discard;\n\t#include <logdepthbuf_fragment>\n\t#include <encodings_fragment>\n\n}\n"},function(e){e.exports="precision highp float;\n\n#define PI 3.1415926535897932384626433832795\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelViewMatrix;\n\n// uniform sampler2D positions;\nuniform vec2 growSide;\n\nattribute mediump vec2 ID;\nattribute mediump vec2 prevID;\nattribute mediump vec2 nextID;\nattribute lowp float side;\nattribute lowp vec3 color;\nattribute highp vec2 uv;\nattribute lowp float aAngle;\nattribute lowp float aTime;\nattribute lowp float aMovY;\nattribute lowp float aDivisionsID;\nattribute lowp float aRadius;\nattribute lowp float aFishIdx;\nattribute lowp float aFishLength;\nattribute lowp float aGlobalScale;\nattribute lowp float aYRange;\n// attribute lowp float aDivisionsID;\n\nuniform lowp vec2 resolution;\nuniform mediump float lineWidth;\nuniform mediump float time;\nuniform mediump float globalScale;\n\nvarying lowp float vOpacity;\n// varying lowp vec4 vColor;\nvarying highp vec2 vUv;\n\nvarying float vFishIdx;\n// varying float vPercentHeight;\n\nvec2 fix( vec4 i, float aspect ) {\n\tvec2 res = i.xy / i.w;\n\tres.x *= aspect;\n\treturn res;\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat range( float oldValue, float oldMin, float oldMax, float newMin, float newMax, bool clamped ) {\n\tfloat oldRange = ( oldMax - oldMin );\n\tfloat newRange = newMax - newMin;\n\tfloat newValue = ( ( ( oldValue - oldMin ) * newRange ) / oldRange ) + newMin;\n\tif( clamped ) {\n\t\treturn clamp( newValue, newMin, newMax );\n\t}\n\treturn newValue;\n}\n\nvoid main() {\n\t// vColor = vec4(color,1.);\n\tvUv = uv;\n\n\tvFishIdx = aFishIdx;\n\n\tfloat aspect = resolution.x / resolution.y;\n\n\tmat4 m = projectionMatrix * modelViewMatrix;\n\n\t// vec3 fpos = texture2D(positions,ID).rgb;\n\t// vec3 ppos = texture2D(positions,prevID).rgb;\n\t// vec3 npos = texture2D(positions,nextID).rgb;\n\n\tfloat a = aAngle + time * .005 + aTime;\n\tfloat aMod = a = mod( a, PI * 4. );\n\n\tfloat scale = 1.;\n\tscale -= 1. - smoothstep( 0., PI * .5, aMod );\n\tscale -= smoothstep( PI * 4. - PI * .5, PI * 4., aMod );\n\tscale *= aGlobalScale;\n\tscale *= globalScale;\n\n\tfloat opacity = 1.;\n\topacity -= 1. - smoothstep( 0., PI * .2, aMod );\n\topacity -= smoothstep( PI * 4. - PI * .2, PI * 4., aMod );\n\tvOpacity = opacity;\n\n\t// float pa = a + ppos.z * ppos.y * scale;\n\t// vec3 nppos = vec3( 0. );\n\t// nppos.x = cos( pa ) * ppos.x; \n\t// nppos.y = 10.;\n\t// nppos.z = sin( pa ) * ppos.x;\n\n\tfloat fa = a + aDivisionsID * aFishLength * scale;\n\tvec3 nfpos = vec3( 0. );\n\tnfpos.x = cos( fa ) * aRadius; \n\tnfpos.y = 10.;\n\tnfpos.z = sin( fa ) * aRadius; \n\n\t// float na = a + npos.z * npos.y * scale;\n\t// vec3 nnpos = vec3( 0. );\n\t// nnpos.x = cos( na ) * npos.x; \n\t// nnpos.y = 10.;\n\t// nnpos.z = sin( na ) * npos.x; \n\n\t// float pMovY = sin( ( pa + 10. + time * .005 + aTime ) * aMovY ) * aMovY * 2.;\n\tfloat fMovX = sin( ( fa + 10. + time * .0075 + aTime ) * aMovY ) * aMovY * 2.5;\n\tfloat fMovY = sin( ( fa + 10. + time * .0025 + aTime ) * aMovY ) * aMovY * 2.;\n\t// float nMovY = sin( ( na + 10. + time * .005 + aTime ) * aMovY ) * aMovY * 2.;\n\n\tfloat rd = rand( vec2( aTime ) ) * aYRange - aYRange * .5;\n\tfloat aRanged = range( aMod, 0., PI * 4., 0., 550., true );\n\t// vPercentHeight = aRanged / 550.;\n\tnfpos.y += aRanged + rd;\n\t// nppos.y += aRanged + rd;\n\t// nnpos.y += aRanged + rd;\n\n\tnfpos.y += .5 * aDivisionsID;\n\n\n\t// vec2 prevP = fix( vec4( nppos, 1. ), aspect );\n\t// vec2 nextP = fix( vec4( nnpos, 1. ), aspect );\n \n\t// vec2 dir = normalize( nextP - prevP );\n\t// nfpos.xy += vec2( -dir.y/aspect, dir.x )  * lineWidth * scale * side * texture2D(positions,ID).a;\n\tnfpos.x += fMovX * .5;\n\tnfpos.y += fMovY;\n\tnfpos.z -= fMovX * .5;\n\t// nppos.y += pMovY;\n\t// nnpos.y += nMovY;\n\n\tvec4 finalPosition = m * vec4( nfpos, 1.0 );\n\t// vec4 prevPos = m * vec4( nppos, 1.0 );\n\t// vec4 nextPos = m * vec4( nnpos, 1.0 );\n\n\t// vec2 prevP = fix( prevPos, aspect );\n\t// vec2 nextP = fix( nextPos, aspect );\n \n\t// vec2 dir = normalize( nextP - prevP );\n\tfinalPosition.xy += vec2( .01, 1. / aspect ) * lineWidth * ( aFishIdx * .5 + 1. ) * scale * side;\n\n\t// needed to received shadow\n\t// finalPosition = inverse( m ) * finalPosition;\n\t// vec4 worldPosition = modelMatrix * finalPosition;\n\n\tgl_Position = finalPosition;\n}\n\n// needed to received shadow..\n// mat4 inverse(mat4 m) {\n//   float\n// \t  a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n// \t  a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n// \t  a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n// \t  a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n// \t  b00 = a00 * a11 - a01 * a10,\n// \t  b01 = a00 * a12 - a02 * a10,\n// \t  b02 = a00 * a13 - a03 * a10,\n// \t  b03 = a01 * a12 - a02 * a11,\n// \t  b04 = a01 * a13 - a03 * a11,\n// \t  b05 = a02 * a13 - a03 * a12,\n// \t  b06 = a20 * a31 - a21 * a30,\n// \t  b07 = a20 * a32 - a22 * a30,\n// \t  b08 = a20 * a33 - a23 * a30,\n// \t  b09 = a21 * a32 - a22 * a31,\n// \t  b10 = a21 * a33 - a23 * a31,\n// \t  b11 = a22 * a33 - a23 * a32,\n\n// \t  det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n//   return mat4(\n// \t  a11 * b11 - a12 * b10 + a13 * b09,\n// \t  a02 * b10 - a01 * b11 - a03 * b09,\n// \t  a31 * b05 - a32 * b04 + a33 * b03,\n// \t  a22 * b04 - a21 * b05 - a23 * b03,\n// \t  a12 * b08 - a10 * b11 - a13 * b07,\n// \t  a00 * b11 - a02 * b08 + a03 * b07,\n// \t  a32 * b02 - a30 * b05 - a33 * b01,\n// \t  a20 * b05 - a22 * b02 + a23 * b01,\n// \t  a10 * b10 - a11 * b08 + a13 * b06,\n// \t  a01 * b08 - a00 * b10 - a03 * b06,\n// \t  a30 * b04 - a31 * b02 + a33 * b00,\n// \t  a21 * b02 - a20 * b04 - a23 * b00,\n// \t  a11 * b07 - a10 * b09 - a12 * b06,\n// \t  a00 * b09 - a01 * b07 + a02 * b06,\n// \t  a31 * b01 - a30 * b03 - a32 * b00,\n// \t  a20 * b03 - a21 * b01 + a22 * b00) / det;\n// }\n"},function(e){e.exports="precision highp float;\n\nuniform sampler2D map;\nuniform sampler2D mapLong;\nuniform vec3 colorFish;\n\n// varying lowp vec4 vColor;\nvarying lowp float vOpacity;\nvarying highp vec2 vUv;\n\nvarying float vFishIdx;\nvarying float vPercentHeight;\n\nvoid main() {\n\n\tfloat uvCorrected = 1. - vUv.y;\n\t// if( gl_FrontFacing ) {\n\t// \tuvCorrected = 1. - vUv.y;\n\t// }\n\tvec4 texture = texture2D( mapLong, vec2( vUv.x, uvCorrected ) );\n\tif( vFishIdx == 0. ) {\n\t\ttexture = texture2D( map, vec2( vUv.x, uvCorrected ) );\n\t}\n\n\tfloat a = texture.a * vOpacity;\n\tif( a <= 0.9 ) {\n\t\tdiscard;\n\t}\n\n\tvec4 colorFinal = vec4( 1. );\n\tcolorFinal.rgb = texture.rgb * colorFish;\n\n\t// gl_FragColor = vec4(vec3( 1., 0., 1. ) * vOpacity, vOpacity);\n\tgl_FragColor = colorFinal * vOpacity;\n\t// gl_FragColor = vec4( 1., 0, 1., 1. );\n}\n"},function(e,t,a){"use strict";var o=Math.PI;(function(e){var n=a(0),i=a.n(n),r=a(75),s=a.n(r),l=a(76),d=a.n(l),u=a(111),p=a(83),c=a(32),m=a(82),v=a(29),f=a(35),g=a.n(f),h=a(31),y=a(241),b=a.n(y),w=a(242),_=a.n(w),S=(function(t){function a(){i()(this,a);var n=s()(this,t.call(this));n.onDarknessChange=function(e){1==e?(n.position.y=-100,n.rotation.y=.5*o,TweenLite.to(n.position,2,{delay:.6,y:0,ease:Cubic.easeOut}),TweenLite.to(n.rotation,2,{delay:.6,y:0,ease:Cubic.easeOut}),TweenLite.to(n.lines.material.uniforms.globalScale,.6,{delay:1.8,value:1,ease:Cubic.easeOut}),n.add(n.lines)):TweenLite.to(n.lines.material.uniforms.globalScale,.5,{value:0,ease:Cubic.easeIn,onComplete:function(){n.remove(n.lines)}})},n.fFishes=p.a.addFolder("Fishes Dark"),n.count=g.a.any?512:1024,n.divisions=g.a.any?4:6,n.colorFish=16777215;var r=new e.Texture(h.a.images["fish-long"]);r.needsUpdate=!0;var l=new e.Texture(h.a.images["fish-small-3"]);return l.needsUpdate=!0,n.lines=new u.a(n.count,n.divisions,b.a,_.a),n.lines.frustumCulled=!1,n.lines.material.uniforms.lineWidth.value=26*1.1,n.lines.material.uniforms.map={type:"t",value:l},n.lines.material.uniforms.mapLong={type:"t",value:r},n.lines.material.uniforms.time={type:"f",value:0},n.lines.material.uniforms.colorFish={type:"c",value:new e.Color(n.colorFish)},n.lines.material.uniforms.globalScale={type:"f",value:0},n.lines.material.side=e.DoubleSide,n.fFishes.addColor(n,"colorFish").onChange((function(){n.lines.material.uniforms.colorFish.value.setHex(n.colorFish)})),n.lines.customDepthMaterial=null,n.radius=900,n.radiusVariationMin=-50,n.radiusVariationMax=350,n.fishALength=.01*1.1,n.customizeGeometry(),n.position.y=200,v.a.onDarknessChange.add(n.onDarknessChange),n}return d()(a,t),a.prototype.customizeGeometry=function(){var t=0,n=o*this.fishALength,r=n/this.divisions,s=2*o*Math.random(),a=this.radiusVariationMax-this.radiusVariationMin,d=[r,2*r,3*r],u=this.count*this.divisions;this.aAngles=new Float32Array(2*u),this.aTimes=new Float32Array(2*u),this.aMovsY=new Float32Array(2*u),this.aDivisionsID=new Float32Array(2*u),this.aRadius=new Float32Array(2*u),this.aFishIdx=new Float32Array(2*u),this.aFishLength=new Float32Array(2*u),this.aGlobalScale=new Float32Array(2*u),this.aYRange=new Float32Array(2*u);for(var l=0;l<this.count;l++){var i=1e4*Math.random(),p=1.5+3.25*Math.random();s=2*(2*o*Math.random());for(var m=this.radius+Object(c.b)(this.radiusVariationMin,this.radiusVariationMax,5),v=Object(c.b)(0,2,4)>>0,f=d[v],g=Object(c.b)(.85,2,4),h=50+Object(c.b)(300,600,7),y=0;y<this.divisions;y++)this.aAngles[t]=this.aAngles[t+1]=s,this.aFishIdx[t]=this.aFishIdx[t+1]=v,this.aFishLength[t]=this.aFishLength[t+1]=f,this.aRadius[t]=this.aRadius[t+1]=m,this.aTimes[t]=this.aTimes[t+1]=i,this.aMovsY[t]=this.aMovsY[t+1]=p,this.aDivisionsID[t]=this.aDivisionsID[t+1]=y,this.aGlobalScale[t]=this.aGlobalScale[t+1]=g,this.aYRange[t]=this.aYRange[t+1]=h,t+=2}this.lines.geometry.addAttribute("aMovY",new e.BufferAttribute(this.aMovsY,1)),this.lines.geometry.addAttribute("aAngle",new e.BufferAttribute(this.aAngles,1)),this.lines.geometry.addAttribute("aTime",new e.BufferAttribute(this.aTimes,1)),this.lines.geometry.addAttribute("aDivisionsID",new e.BufferAttribute(this.aDivisionsID,1)),this.lines.geometry.addAttribute("aRadius",new e.BufferAttribute(this.aRadius,1)),this.lines.geometry.addAttribute("aFishIdx",new e.BufferAttribute(this.aFishIdx,1)),this.lines.geometry.addAttribute("aFishLength",new e.BufferAttribute(this.aFishLength,1)),this.lines.geometry.addAttribute("aGlobalScale",new e.BufferAttribute(this.aGlobalScale,1)),this.lines.geometry.addAttribute("aYRange",new e.BufferAttribute(this.aYRange,1))},a.prototype.update=function(e){this.lines.material.uniforms.time.value+=.1*e},a})(e.Group);t.a=S}).call(t,a(28))},function(e){e.exports="precision highp float;\n\n#define PI 3.1415926535897932384626433832795\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelViewMatrix;\n\n// uniform sampler2D positions;\nuniform vec2 growSide;\n\nattribute mediump vec2 ID;\nattribute mediump vec2 prevID;\nattribute mediump vec2 nextID;\nattribute lowp float side;\nattribute lowp vec3 color;\nattribute highp vec2 uv;\nattribute lowp float aAngle;\nattribute lowp float aTime;\nattribute lowp float aMovY;\nattribute lowp float aDivisionsID;\nattribute lowp float aRadius;\nattribute lowp float aFishIdx;\nattribute lowp float aFishLength;\nattribute lowp float aGlobalScale;\nattribute lowp float aYRange;\n// attribute lowp float aDivisionsID;\n\nuniform lowp vec2 resolution;\nuniform mediump float lineWidth;\nuniform mediump float time;\nuniform mediump float globalScale;\n\nvarying lowp float vOpacity;\n// varying lowp vec4 vColor;\nvarying highp vec2 vUv;\n\nvarying float vFishIdx;\n\nvec2 fix( vec4 i, float aspect ) {\n\tvec2 res = i.xy / i.w;\n\tres.x *= aspect;\n\treturn res;\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat range( float oldValue, float oldMin, float oldMax, float newMin, float newMax, bool clamped ) {\n\tfloat oldRange = ( oldMax - oldMin );\n\tfloat newRange = newMax - newMin;\n\tfloat newValue = ( ( ( oldValue - oldMin ) * newRange ) / oldRange ) + newMin;\n\tif( clamped ) {\n\t\treturn clamp( newValue, newMin, newMax );\n\t}\n\treturn newValue;\n}\n\nvoid main() {\n\t// vColor = vec4(color,1.);\n\tvUv = uv;\n\n\tvFishIdx = aFishIdx;\n\n\tfloat aspect = resolution.x / resolution.y;\n\n\tmat4 m = projectionMatrix * modelViewMatrix;\n\n\t// vec3 fpos = texture2D(positions,ID).rgb;\n\t// vec3 ppos = texture2D(positions,prevID).rgb;\n\t// vec3 npos = texture2D(positions,nextID).rgb;\n\n\tfloat piValue = PI * 3.;\n\n\tfloat a = aAngle + time * .0025 + aTime;\n\tfloat aMod = a = mod( a, piValue );\n\n\tfloat scale = 1.;\n\tscale -= 1. - smoothstep( 0., PI * .5, aMod );\n\tscale -= smoothstep( piValue - PI * .5, piValue, aMod );\n\tscale *= aGlobalScale;\n\tscale *= globalScale;\n\n\tfloat opacity = 1.;\n\topacity -= 1. - smoothstep( 0., PI * .2, aMod );\n\topacity -= smoothstep( piValue - PI * .2, piValue, aMod );\n\tvOpacity = opacity;\n\n\t// float pa = a + ppos.z * ppos.y * scale;\n\t// vec3 nppos = vec3( 0. );\n\t// nppos.x = cos( pa ) * ppos.x; \n\t// nppos.y = 10.;\n\t// nppos.z = sin( pa ) * ppos.x;\n\n\tfloat fa = a + aDivisionsID * aFishLength * scale;\n\tvec3 nfpos = vec3( 0. );\n\tnfpos.x = cos( fa ) * aRadius; \n\tnfpos.y = 10.;\n\tnfpos.z = sin( fa ) * aRadius; \n\n\t// float na = a + npos.z * npos.y * scale;\n\t// vec3 nnpos = vec3( 0. );\n\t// nnpos.x = cos( na ) * npos.x; \n\t// nnpos.y = 10.;\n\t// nnpos.z = sin( na ) * npos.x; \n\n\t// float pMovY = sin( ( pa + 10. + time * .005 + aTime ) * aMovY ) * aMovY * 2.;\n\tfloat fMovX = sin( ( fa + 10. + time * .0075 + aTime ) * aMovY ) * aMovY * 4.5;\n\tfloat fMovY = sin( ( fa + 10. + time * .0025 + aTime ) * aMovY ) * aMovY * 4.;\n\t// float nMovY = sin( ( na + 10. + time * .005 + aTime ) * aMovY ) * aMovY * 2.;\n\n\tfloat rd = rand( vec2( aTime ) ) * aYRange - aYRange * .5;\n\tfloat aRanged = range( aMod, 0., piValue, 0., 3000., true );\n\tnfpos.y += aRanged + rd;\n\t// nppos.y += aRanged + rd;\n\t// nnpos.y += aRanged + rd;\n\n\tnfpos.y += 2.45 * aDivisionsID;\n\n\n\t// vec2 prevP = fix( vec4( nppos, 1. ), aspect );\n\t// vec2 nextP = fix( vec4( nnpos, 1. ), aspect );\n \n\t// vec2 dir = normalize( nextP - prevP );\n\t// nfpos.xy += vec2( -dir.y/aspect, dir.x )  * lineWidth * scale * side * texture2D(positions,ID).a;\n\tnfpos.x += fMovX * .5;\n\tnfpos.y += fMovY;\n\tnfpos.z -= fMovX * .5;\n\t// nppos.y += pMovY;\n\t// nnpos.y += nMovY;\n\n\tvec4 finalPosition = m * vec4( nfpos, 1.0 );\n\t// vec4 prevPos = m * vec4( nppos, 1.0 );\n\t// vec4 nextPos = m * vec4( nnpos, 1.0 );\n\n\t// vec2 prevP = fix( prevPos, aspect );\n\t// vec2 nextP = fix( nextPos, aspect );\n \n\t// vec2 dir = normalize( nextP - prevP );\n\tfinalPosition.xy += vec2( .08, 1. / aspect ) * lineWidth * ( aFishIdx * .5 + 1. ) * scale * side;\n\n\t// needed to received shadow\n\t// finalPosition = inverse( m ) * finalPosition;\n\t// vec4 worldPosition = modelMatrix * finalPosition;\n\n\tgl_Position = finalPosition;\n}\n\n// needed to received shadow..\n// mat4 inverse(mat4 m) {\n//   float\n// \t  a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n// \t  a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n// \t  a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n// \t  a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n// \t  b00 = a00 * a11 - a01 * a10,\n// \t  b01 = a00 * a12 - a02 * a10,\n// \t  b02 = a00 * a13 - a03 * a10,\n// \t  b03 = a01 * a12 - a02 * a11,\n// \t  b04 = a01 * a13 - a03 * a11,\n// \t  b05 = a02 * a13 - a03 * a12,\n// \t  b06 = a20 * a31 - a21 * a30,\n// \t  b07 = a20 * a32 - a22 * a30,\n// \t  b08 = a20 * a33 - a23 * a30,\n// \t  b09 = a21 * a32 - a22 * a31,\n// \t  b10 = a21 * a33 - a23 * a31,\n// \t  b11 = a22 * a33 - a23 * a32,\n\n// \t  det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n//   return mat4(\n// \t  a11 * b11 - a12 * b10 + a13 * b09,\n// \t  a02 * b10 - a01 * b11 - a03 * b09,\n// \t  a31 * b05 - a32 * b04 + a33 * b03,\n// \t  a22 * b04 - a21 * b05 - a23 * b03,\n// \t  a12 * b08 - a10 * b11 - a13 * b07,\n// \t  a00 * b11 - a02 * b08 + a03 * b07,\n// \t  a32 * b02 - a30 * b05 - a33 * b01,\n// \t  a20 * b05 - a22 * b02 + a23 * b01,\n// \t  a10 * b10 - a11 * b08 + a13 * b06,\n// \t  a01 * b08 - a00 * b10 - a03 * b06,\n// \t  a30 * b04 - a31 * b02 + a33 * b00,\n// \t  a21 * b02 - a20 * b04 - a23 * b00,\n// \t  a11 * b07 - a10 * b09 - a12 * b06,\n// \t  a00 * b09 - a01 * b07 + a02 * b06,\n// \t  a31 * b01 - a30 * b03 - a32 * b00,\n// \t  a20 * b03 - a21 * b01 + a22 * b00) / det;\n// }\n"},function(e){e.exports="precision highp float;\n\nuniform sampler2D map;\nuniform sampler2D mapLong;\nuniform vec3 colorFish;\n\n// varying lowp vec4 vColor;\nvarying lowp float vOpacity;\nvarying highp vec2 vUv;\n\nvarying float vFishIdx;\n\nvoid main() {\n\n\tfloat uvCorrected = 1. - vUv.y;\n\t// if( gl_FrontFacing ) {\n\t// \tuvCorrected = 1. - vUv.y;\n\t// }\n\tvec4 texture = texture2D( mapLong, vec2( vUv.x, uvCorrected ) );\n\tif( vFishIdx == 0. ) {\n\t\ttexture = texture2D( map, vec2( vUv.x, uvCorrected ) );\n\t}\n\n\tfloat a = texture.a * vOpacity;\n\tif( a <= 0.9 ) {\n\t\tdiscard;\n\t}\n\n\tvec4 colorFinal = vec4( 1. );\n\tcolorFinal.rgb = texture.rgb * colorFish;\n\n\t// gl_FragColor = vec4(vec3( 1., 0., 1. ) * vOpacity, vOpacity);\n\tgl_FragColor = colorFinal * vOpacity;\n\t// gl_FragColor = vec4( 1., 0, 1., 1. );\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(5),c=a(79),m=a(83),v=a(244),f=a.n(v),g=a(245),h=a.n(g),y=a(29),b=(function(t){function a(){n()(this,a);var o=new e.RawShaderMaterial({uniforms:{opacity:{value:1},colorTop:{type:"c",value:new e.Color(16524205)},colorBottom:{type:"c",value:new e.Color(3469241)}},vertexShader:f.a,fragmentShader:h.a,side:e.BackSide,transparent:!0,wireframe:!1}),i=m.a.addFolder("Sky");i.addColor(o.uniforms.colorTop,"value").name("colorTop"),i.addColor(o.uniforms.colorBottom,"value").name("colorBottom");var r=new e.SphereBufferGeometry(1,32,32),s=l()(this,t.call(this,r,o));return s.onStart=function(){TweenLite.to(s,1,{delay:1.4,opacity:1,ease:Power2.easeIn})},s.opacity=0,s.renderOrder=-1,s.radius=2e3,y.a.onStart.add(s.onStart),s}return u()(a,t),a.prototype.update=function(){this.scale.set(this.radius,this.radius,this.radius)},r()(a,[{key:"opacity",set:function(e){this.material.uniforms.opacity.value=e,this.visible=.01<e},get:function(){return this.material.uniforms.opacity.value}}]),a})(e.Mesh);t.a=b}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform vec3 colorTop;\nuniform vec3 colorBottom;\n\nattribute vec3 position;\n\nvarying vec3 vColor;\n\nvoid main() {\n\n\t//fade bottom to top\n\tvColor = mix(colorBottom,colorTop,position.y);\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}\n"},function(e){e.exports="precision highp float;\n\nvarying vec3 vColor;\nuniform float opacity;\n\nvoid main() {\n\n\tgl_FragColor = vec4( vColor, opacity );\n\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(5),u=a(79),p=a(29),c=a(31),m=a(18),v=(function(t){function o(){n()(this,o);var i=new e.Texture(c.a.images["001"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping),s=new e.Texture(c.a.images["002"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping);i.needsUpdate=!0,s.needsUpdate=!0;var l=new e.SphereBufferGeometry(1,16,5),d=new e.RawShaderMaterial({vertexShader:a(247),fragmentShader:a(248),uniforms:{light1:{type:"v3",value:new e.Color(6949386)},light2:{type:"v3",value:new e.Color(5913450)},light3:{type:"v3",value:new e.Color(14958142)},light1pos:{type:"v3",value:new e.Vector3(.87,.46,-.2)},light2pos:{type:"v3",value:new e.Vector3(-1.25,.2,-.07)},light3pos:{type:"v3",value:new e.Vector3},baseColor:{type:"v3",value:new e.Color(1967909)},fogColor:{type:"v3",value:p.a.darkFog},brightness:{type:"f",value:0},time:{type:"f",value:123},texture:{type:"t",value:i},texture2:{type:"t",value:s}},side:e.BackSide,depthTest:!1}),u=p.a.darkgui.addFolder("SKY");u.addColor(d.uniforms.baseColor,"value").name("baseColor"),u.addColor(d.uniforms.light1,"value").name("light1"),u.addColor(d.uniforms.light2,"value").name("light2"),u.addColor(d.uniforms.light3,"value").name("light3"),u.add(d.uniforms.light1pos,"value",-1,1),u.add(d.uniforms.light2pos,"value",-1,1),u.add(d.uniforms.light3pos,"value",-1,1);var m=r()(this,t.call(this,l,d));return m.radius=1e3*p.a.darkScale,m.scale.multiplyScalar(m.radius),m.scale.y*=.9,m.position.y-=10,m}return l()(o,t),o.prototype.update=function(e){this.material.uniforms.brightness.value+=1.1*m.a.volume-this.material.uniforms.brightness.value,this.material.uniforms.time.value+=3e-6*e},o})(e.Mesh);t.a=v}).call(t,a(28))},function(e){e.exports="precision highp float;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nattribute vec3 position;\nattribute vec2 uv;\nattribute vec3 normal;\n\n// uniform vec3 lightPos[];\n// uniform vec3 lightColor[];\n\nuniform float time;\nuniform vec3 light1;\nuniform vec3 light2;\nuniform vec3 light3;\nuniform vec3 light1pos;\nuniform vec3 light2pos;\nuniform vec3 light3pos;\n\nuniform vec3 baseColor;\nuniform float brightness;\nuniform vec3 fogColor;\n\nvarying lowp vec3 vColor;\nvarying highp vec2 vUv;\nvarying highp float vP;\n\nvec3 light(vec3 lightColor, vec3 lightPos, float intensity, vec3 pos){\n\tfloat d = smoothstep(0., distance(lightPos,pos),intensity);\n\treturn lightColor*d;\n}\n\nvoid main() {\n\tvColor = baseColor;\n\t//mirror x\n\tvUv = uv;//vec2( abs(1.-(uv.x-.5)*2.)/10., uv.y);\n\n\t//baselight\n\tvColor += light(light1,light1pos,.35,position);\n\tvColor += light(light2,light2pos,.35,position);\n\tvColor += light(light3,light3pos,.35,position);\n\t// vColor = normalize(vColor);\n\t//fade bottom to top\n\tvP = max(position.y-0.21,0.)*2.;\n\tvColor = mix(fogColor,vColor+ brightness,vP) ;\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},function(e){e.exports="precision highp float;\n\n// varying vec2 vUv;\n// varying vec3 vPos;\nvarying lowp vec3 vColor;\nvarying highp vec2 vUv;\nvarying highp float vP;\n\nuniform float time;\nuniform sampler2D texture;\nuniform sampler2D texture2;\n\nvoid main(void) {\n\tvec3 t = texture2D(texture,vec2(vUv.x/2.,vUv.y)+vec2(time,0.)).rgb;\n\tvec3 t2 = texture2D(texture,vec2(vUv.x/3.,vUv.y)+vec2(time*3.5,0.)).rgb;\n\t// t2 = mix(t2,vec3(.5),smoothstep(0.3,.5,vUv.x)+(1.-smoothstep(.5,.7,vUv.x)));\n\tt += t2*.7;\n\tt = max(vec3(0.3),t);\n\tt = mix(t,vec3(.2),smoothstep(0.8,1.,vUv.x)+(1.-smoothstep(0.,.2,vUv.x)));\n\t// t2 = mix(t2,vec3(.4),smoothstep(0.8,1.,vUv.x)+(1.-smoothstep(0.,.2,vUv.x)));\n\n\n\tvec3 color = mix(vColor,vColor*t,vP);\n\tgl_FragColor = vec4(color, 1.0);\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(29),c=a(31),m=(function(t){function o(){n()(this,o);var i=new e.CircleBufferGeometry(1,16),r=new e.Texture(c.a.images.transition_ground);r.needsUpdate=!0,i.applyMatrix(new e.Matrix4().makeRotationX(-Math.PI/2));var s=new e.RawShaderMaterial({fragmentShader:a(250),vertexShader:a(251),fog:!0,transparent:!0,depthWrite:!1,uniforms:{fogDensity:{value:25e-5},fogNear:{value:1500},fogFar:{value:2e3},fogColor:{value:new e.Color(10036751)},color:{value:new e.Color(16777215)},transition:{value:0},transitionTexture:{value:r}}});s.defines={USE_FOG:!0,FOG_EXP2:!1};var d=l()(this,t.call(this,i,s));return d.scale.multiplyScalar(1e3*p.a.darkScale),d.position.y-=10,d.renderOrder=-1,d}return u()(o,t),o.prototype.update=function(){this.visible=0!=this.material.uniforms.transition.value},r()(o,[{key:"transition",set:function(e){this.material.uniforms.transition.value=e},get:function(){return this.material.uniforms.transition.value}}]),o})(e.Mesh);t.a=m}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform vec3 color;\nuniform sampler2D transitionTexture;\nuniform float transition;\n\nvarying vec2 vUv;\n\n#include <common>\n#include <fog_pars_fragment>\n\nvoid main() {\n\t\n\tfloat t = texture2D(transitionTexture,vUv).r;\n\tfloat alpha = 1.-smoothstep(transition-.05, transition, t);\n\tgl_FragColor = vec4(color, alpha*transition*(1.-smoothstep(.7,.9,t)));\n\t#include <fog_fragment>\n}\n"},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\n#include <fog_pars_vertex>\n\nvoid main(void) {\n\tvUv = uv;\n\t\n\t//need for fog\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\n\t//modify from original threejs to also account position x\n\t#ifdef USE_FOG\n\tfogDepth = -mvPosition.z+abs(mvPosition.x)*.35;\n\t#endif\n\t\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(253),u=a(256),p=a(267),c=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this));return a.floor=new d.a(2e3,2e3),a.floor.rotation.x=.5*-Math.PI,a.add(a.floor),a.particles=new p.a,a.add(a.particles),a.grass=new u.a(a.floor),a.add(a.grass),a}return l()(t,e),t.prototype.update=function(){this.grass.update(),this.particles.update()},t})(e.Group);t.a=c}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(83),u=a(254),p=a.n(u),c=a(255),m=a.n(c),v=a(31),f=a(29),g=(function(a){function o(i,s){n()(this,o);var l=new e.PlaneBufferGeometry(i,s,1,1),u=new e.Texture(v.a.images.vegetal_floor);u.needsUpdate=!0,u.wrapS=e.RepeatWrapping,u.wrapT=e.RepeatWrapping,u.repeat.set(1,1);var c={colorA:{type:"c",value:new e.Color(16522066)},colorB:{type:"c",value:new e.Color(2322411)},tAlphaMap:{type:"t",value:u},toColor:{type:"f",value:1},alpha:{type:"f",value:1}},g=new e.RawShaderMaterial({uniforms:c,vertexShader:p.a,fragmentShader:m.a,transparent:!0}),h=r()(this,a.call(this,l,g));return h.onStart=function(){TweenLite.to(h.material.uniforms.alpha,1,{delay:.25,value:1,ease:Quad.easeIn})},h.onDarknessChange=function(e){1==e?TweenLite.to(h.material.uniforms.alpha,.6,{delay:.6,value:0,ease:Quad.easeOut}):TweenLite.to(h.material.uniforms.alpha,.4,{delay:1,value:1,ease:Quad.easeOut})},h.colorA=c.colorA.value.getHex(),h.colorB=c.colorB.value.getHex(),h.fFloor=d.a.addFolder("Floor"),h.fFloor.addColor(h,"colorA").onChange((function(){c.colorA.value.setHex(h.colorA)})),h.fFloor.addColor(h,"colorB").onChange((function(){c.colorB.value.setHex(h.colorB)})),h.material.uniforms.alpha.value=0,f.a.onDarknessChange.add(h.onDarknessChange),f.a.onStart.addOnce(h.onStart),h}return l()(o,a),o.prototype.show=function(){TweenLite.to(this.material.uniforms.alpha,1,{value:1,ease:Cubic.easeInOut})},o.prototype.showColors=function(){TweenLite.to(this.material.uniforms.toColor,1,{value:1,ease:Cubic.easeInOut})},o})(e.Mesh);t.a=g}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n\n  vec3 pos = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n\n}\n"},function(e){e.exports="precision highp float;\n\nuniform vec3 colorA;\nuniform vec3 colorB;\nuniform sampler2D tAlphaMap;\nuniform float toColor;\nuniform float alpha;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 alphaMap = texture2D( tAlphaMap, vUv );\n\n  vec2 center = vec2( .5 );\n  float dist = 1. - distance( center, vUv ) * 2.;\n\n  // gl_FragColor = vec4( colorA * toColor + vec3( 1. ) * ( 1. - toColor ), dist * alphaMap.r * 2. * alpha );\n\tfloat aMap = alphaMap.r * 1.5;\n\tvec3 color = colorA * aMap * 2. + colorB * ( 1. - aMap );\n\tfloat a = dist * alpha * alphaMap.r * 2.1;\n  gl_FragColor = vec4( color, a );\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(5),u=a(79),p=a(112),c=a(81),m=a(257),v=a(258),f=a(259),g=a(29),h=(function(e){function t(a){n()(this,t);var o=r()(this,e.call(this));return o.showDetails=function(){o.grassModel.showDetails()},o.showGradients=function(){o.grassModel.showGradients()},o.showColors=function(){o.grassModel.showColors()},o.addWind=function(){o.grassModel.addWind()},o.activateMouse=function(){o.grassModel.activateMouse()},o.onMouseMove=function(t){if(o.canUpdate){o.mouseChecker.setMouse(t.x,t.y);var e=o.mouseChecker.getIntersectForObject(o.floor);o.grassModel.updateMouse(e)}},o.update=function(){o.visible=!o.grassModel.material.isHidden,o.canUpdate&&o.grassModel.update()},o.onStart=function(){o.grassModel.show()},o.floor=a,g.a.onStart.addOnce(o.onStart),o.init(),o}return l()(t,e),t.prototype.init=function(){this.grassInfos=new m.a,this.grassData=new v.a(this.grassInfos.data,256,256),this.grassModel=new f.a(this.grassData),this.add(this.grassModel),this.canUpdate=!0,this.mouseChecker=new p.a,this.showDetails(),this.showGradients(),this.showColors(),this.addWind(),this.activateMouse(),this.play()},t.prototype.play=function(){c.a.onMove.add(this.onMouseMove)},t.prototype.stop=function(){c.a.onMove.remove(this.onMouseMove)},t})(e.Group);t.a=h}).call(t,a(28))},function(e,t,a){"use strict";var o=a(0),n=a.n(o),r=a(38),i=a(82),s=a(31),l=(function(){function e(){n()(this,e);var t=this.parse(s.a.images.grass_map,this.getScaledStr);this.jitter(t,2),this.build(t,4.5,1.15),this.data=t}return e.prototype.getScaledStr=function(e){return 24*Math.max(.1,Math.min(e/255,1))},e.prototype.parse=function(e,t){var a=document.createElement("canvas");a.width=e.width,a.height=e.height;var o=a.getContext("2d");o.drawImage(e,0,0,a.width,a.height);for(var r=[],s=o.getImageData(0,0,a.width,a.height).data,l=0,i=s.length,n;l<i;l+=4)if(n=(s[l+0]+s[l+1]+s[l+2])/3,!(14>=n)){var d=l/4,u=d%a.width,p=Math.floor(d/a.width),c=t?t(n):1;r.push({x:u,y:p,ox:u,oy:p,str:c,isDetail:!1})}return r},e.prototype.build=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],s=256,l=256,d=0,i=e.length,n;d<i;d++){n=e[d],n.x=n.x*t+n.x*a-(s*t+s*a)/2,n.y=n.y*t+n.y*a-(l*t+l*a)/2;var u=1*n.str;n.h=u+Object(r.a)()*(2*u)-.3*u,n.isDetail=o}},e.prototype.jitter=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=0,i=e.length;o<i;o++){var n=2*(Object(r.a)()*Math.PI),a=Object(r.a)()*t,s=e[o];s.x+=Math.cos(n)*a,s.y+=Math.sin(n)*a}},e})();t.a=l},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=(function(){function t(e,a,o){n()(this,t),this.reset(e,a,o)}return t.prototype.reset=function(t,a,o){this.dataOrigin=t,this.width=a,this.height=o,this.count=this.width*this.height>>0,this.count4=this.count<<2;var r=0,s=new Float32Array(this.count4).fill(0);this.textureMain=new e.DataTexture(s,this.width,this.height,e.RGBAFormat,e.FloatType);for(var l=0,i=t.length,n;l<i;l++)n=t[l],this.textureMain.image.data[r+0]=n.x,this.textureMain.image.data[r+1]=n.y,this.textureMain.image.data[r+2]=n.isDetail?1:0,this.textureMain.image.data[r+3]=n.h,r+=4;this.textureMain.needsUpdate=!0},t})();t.a=i}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(260),u=a(261),p=(function(t){function a(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;n()(this,a);var s=new d.a(o),l=new u.a(i),p=r()(this,t.call(this,s,l));return l.init(o),p.mouse=new e.Vector3,p.toMouse=new e.Vector3,p.mouseInitiated=!1,p.frustumCulled=!1,p}return l()(a,t),a.prototype.updateMouse=function(e){if(!this.mouseInitiated)return this.mouse.copy(e),this.toMouse.copy(e),void(this.mouseInitiated=!0);var t=e.x-this.mouse.x,a=e.y-this.mouse.y,o=e.z-this.mouse.z,n=Math.sqrt(t*t+a*a+o*o);this.toMouse.copy(e),this.material.setSimData(Math.min(n/100,1))},a.prototype.update=function(){this.mouse.lerp(this.toMouse,.394),this.material.setMouse(this.mouse),this.material.update()},a.prototype.show=function(){this.material.show()},a.prototype.showDetails=function(){this.material.showDetails()},a.prototype.showGradients=function(){this.material.showGradients()},a.prototype.showColors=function(){this.material.showColors()},a.prototype.addWind=function(){this.material.addWind()},a.prototype.activateMouse=function(){this.material.activateMouse()},a})(e.Mesh);t.a=p}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(38),u=(function(t){function a(e){n()(this,a);var o=r()(this,t.call(this));return o.data=e,o.dataOrigin=e.dataOrigin,o.count=o.data.count,o.init(),o}return l()(a,t),a.prototype.init=function(){for(var t=this.count<<1,a=this.count<<2,o=2,r=o-1,u=this.count*o,l=new e.Color(12370277),p=l.getHSL(),c=new e.Color,m={ox:0,oy:0},v=0,f=0,g=0,b=new Float32Array(2*(2*u)),w=new Float32Array(2*(3*u)),_=new Float32Array(2*(4*u)),S=0;S<this.count;S++){var i=1e4*Object(d.a)(),M=.2*Object(d.a)()-.1,D=p.h+.1*Object(d.a)()-.05,h=p.s+.05*Object(d.a)()-.025,s=p.l+.05*Object(d.a)()-.025;c.setHSL(D,h,s);for(var C=this.dataOrigin[S]||m,I=0,k;I<o;I++){k=I/r;for(var P=0;2>P;P++)_[g+0]=i,_[g+1]=S/(this.count-1),_[g+2]=k,_[g+3]=M,w[f+0]=c.r,w[f+1]=c.g,w[f+2]=c.b,b[v+0]=C.ox/256,b[v+1]=C.oy/256,v+=2,f+=3,g+=4}}var A=0,z=0;v=0;for(var y=new Float32Array(2*a),T=0;T<a;T++){for(var U=0;4>U;U++)y[v+0]=A/(this.data.width-1),y[v+1]=z/(this.data.height-1),v+=2,g+=4;A+=1,A>this.data.width-1&&(A=0,z+=1)}v=0;for(var O=new Float32Array(2*u),E=0,L=O.length;E<L;E++)O[v+0]=1,O[v+1]=-1,v+=2;v=0;for(var n=0,N=new Uint32Array(6*u),F=0;F<this.count;F++){for(var B=0;B<r;B++)N[n+0]=v,N[n+1]=N[n+4]=v+1,N[n+2]=N[n+3]=v+2,N[n+5]=v+3,v+=2,n+=6;v+=2,n+=6}this.addAttribute("dataVertices",new e.BufferAttribute(_,4)),this.addAttribute("uvDataTextures",new e.BufferAttribute(y,2)),this.addAttribute("uvMaps",new e.BufferAttribute(b,2)),this.addAttribute("color",new e.BufferAttribute(w,3)),this.addAttribute("side",new e.BufferAttribute(O,1)),this.setIndex(new e.BufferAttribute(N,1))},a})(e.BufferGeometry);t.a=u}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(79),u=a(83),p=a(18),c=a(29),m=a(262),v=a.n(m),f=a(263),g=a.n(f),h=a(264),y=a(31),b=(function(t){function a(){n()(this,a);var o=new h.a,i=new e.Texture(y.a.images.grass_opacity);i.needsUpdate=!0;var s={tDataMain:{type:"t",value:null},tDataSim:{type:"t",value:null},toHideDetail:{type:"f",value:1},resolution:{type:"v2",value:d.a.resolution},colorBottom:{type:"v3",value:new e.Color(16699696)},colorTop:{type:"v3",value:new e.Color(16708008)},colorOver:{type:"v3",value:new e.Color(3211003)},toColorStylax:{type:"f",value:0},toGradient:{type:"f",value:0},toMaxHeight:{type:"f",value:0},mapOpacity:{type:"t",value:i},globalAlpha:{type:"f",value:0},volumeEffect:{type:"f",value:0}},l=r()(this,t.call(this,{uniforms:s,vertexShader:v.a,fragmentShader:g.a,side:e.DoubleSide,type:"GrassMaterial",transparent:!0}));return l.onDarknessChange=function(e){TweenLite.killTweensOf(l.uniforms.toMaxHeight,!1),1==e?(TweenLite.to(l.uniforms.toMaxHeight,1,{value:0,ease:Power3.easeIn,onComplete:function(){l.isHidden=!0}}),l.simulations.removeWind()):TweenLite.to(l.uniforms.toMaxHeight,2,{delay:1,value:1,ease:Cubic.easeOut,onStart:function(){l.simulations.addWind(),l.isHidden=!1}})},l.colorBottom=s.colorBottom.value.getHex(),l.colorTop=s.colorTop.value.getHex(),l.colorOver=s.colorOver.value.getHex(),l.fGrass=u.a.addFolder("Grass"),l.fGrass.addColor(l,"colorBottom").onChange((function(){s.colorBottom.value.setHex(l.colorBottom)})),l.fGrass.addColor(l,"colorTop").onChange((function(){s.colorTop.value.setHex(l.colorTop)})),l.isHidden=!1,l.simulations=o,c.a.onDarknessChange.add(l.onDarknessChange),l}return l()(a,t),a.prototype.init=function(e){this.simulations.init(e),this.uniforms.tDataMain.value=e.textureMain,this.uniforms.tDataSim.value=this.simulations.dispSim.getTexture()},a.prototype.update=function(){if(!this.isHidden){this.simulations.update(),this.uniforms.volumeEffect.value+=.2*(24*p.a.volume-this.uniforms.volumeEffect.value),this.uniforms.tDataSim.value=this.simulations.dispSim.getTexture();var e=this.uniforms.colorOver.value.getHSL();this.uniforms.colorOver.value.setHSL(e.h+.005,e.s,e.l)}},a.prototype.setSimData=function(e){this.simulations.setSimData(e)},a.prototype.setMouse=function(e){this.simulations.setMouse(e)},a.prototype.show=function(){TweenLite.to(this.uniforms.toMaxHeight,1,{delay:.6,value:1,ease:Quad.easeOut}),TweenLite.to(this.uniforms.globalAlpha,1,{delay:.6,value:1,ease:Quad.easeIn})},a.prototype.showDetails=function(){TweenLite.to(this.uniforms.toHideDetail,1,{value:0,ease:Cubic.easeInOut})},a.prototype.showGradients=function(){TweenLite.to(this.uniforms.toGradient,1,{value:1,ease:Cubic.easeInOut})},a.prototype.showColors=function(){TweenLite.to(this.uniforms.toColorStylax,.6,{value:1,ease:Cubic.easeOut})},a.prototype.addWind=function(){this.simulations.addWind()},a.prototype.activateMouse=function(){this.simulations.activateMouse()},a})(e.RawShaderMaterial);t.a=b}).call(t,a(28))},function(e){e.exports="precision highp float;\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform sampler2D tDataMain;\nuniform sampler2D tDataSim;\nuniform vec2 resolution;\nuniform float toHideDetail;\nuniform float toMaxHeight;\n\nattribute vec4 dataVertices;\nattribute vec2 uvDataTextures;\nattribute vec2 uvMaps;\nattribute float side;\n\nvarying float vPercentHeight;\nvarying vec2 vUvDataTextures;\nvarying float vRedValue;\n// varying float vDistCenter;\n\nvec2 fix( vec4 i, float aspect ) {\n\tvec2 res = i.xy / i.w;\n\tres.x *= aspect;\n\treturn res;\n}\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nfloat quadraticIn(float t) {\n  return t * t;\n}\n\nfloat sineIn(float t) {\n  return sin((t - 1.0) * HALF_PI) + 1.0;\n}\n\n\nvoid main() {\n\tvUvDataTextures = uvMaps;\n\n  float aspect = resolution.x / resolution.y;\n\n  float uvDataX = dataVertices.y;\n\n  vec4 dataMain = texture2D( tDataMain, uvDataTextures );\n  vec3 posBase = vec3( dataMain.r, 0., dataMain.g );\t\n\n\tfloat height = dataVertices.z * dataMain.a;\n  posBase.y += height;\n\tposBase.y *= toMaxHeight;\n\n\tfloat easedDataZ = sineIn( dataVertices.z );\n\tvPercentHeight = quadraticIn( dataVertices.z );\n\n\t// Apply simulation\n\tvec4 sim = texture2D( tDataSim, uvDataTextures );\n\t\n\tposBase.x += sim.x * easedDataZ;\n\tposBase.y += sim.y * quadraticOut( dataVertices.z ) * quadraticOut( dataVertices.z ) * dataMain.a * .9;\n\tposBase.z += sim.z * easedDataZ;\n\n\tvRedValue = sineIn( smoothstep( 0., 1., 1. - sim.w / .1 ) );\n\n  vec2 dir = vec2( 0., 1. );\n\n\t// Apply projection\n  mat4 m = projectionMatrix * modelViewMatrix;\n  vec4 pos = m * vec4( posBase, 1. );\n\n\t// Displace vertices (left/right) to create width\n  pos.xy += vec2( -dir.y / aspect, dir.x ) * side * .8;\n\n  gl_Position = pos;\n\n}\n"},function(e){e.exports="precision highp float;\n\nuniform vec3 colorBottom;\nuniform vec3 colorTop;\nuniform vec3 colorOver;\nuniform float toColorStylax;\nuniform float toGradient;\nuniform float globalAlpha;\nuniform sampler2D mapOpacity;\nuniform float volumeEffect;\n\nvarying vec2 vUvDataTextures;\nvarying float vPercentHeight;\nvarying float vRedValue;\n\nvoid main() {\n\n\tvec4 opacityData = texture2D( mapOpacity, vUvDataTextures );\n\n\tvec2 center = vec2( .5 );\n  float dist = 1. - distance( center, vUvDataTextures ) * ( 7. - volumeEffect );\n\tdist = max( 0., dist );\n\t// dist *= 4.;\n\n\tfloat redValue = vRedValue;\n\tvec3 newColorTop = ( 1. - redValue ) * colorTop + redValue * colorOver;\n  vec3 color = newColorTop * vPercentHeight + colorBottom * ( 1. - vPercentHeight );\n\tcolor += color * dist * 2.;\n  gl_FragColor = vec4( color, ( vPercentHeight * toGradient + 1. * ( 1. - toGradient ) ) * opacityData.r * globalAlpha);\n  // gl_FragColor = vec4( 1., 0., 1., 1. );\n\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(265),r=a(266),s=a.n(r),l=(function(){function t(){n()(this,t),this.simData={areaBase:50,areaBracket:60},this.toArea=this.simData.areaBase,this.mouseActivated=!1}return t.prototype.init=function(t){this.data=t,this.uniformsDispSim={time:{type:"f",value:0},xzStr:{type:"t",value:2},mouse:{type:"v3",value:new e.Vector3(-9999,-9999)},area:{type:"f",value:this.simData.areaBase},tDataMain:{type:"t",value:this.data.textureMain},activateWind:{type:"f",value:0}},this.dispSim=new i.a(this.data.width,this.data.height,this.uniformsDispSim,s.a)},t.prototype.update=function(){this.uniformsDispSim.time.value+=1,this.mouseActivated?this.uniformsDispSim.area.value+=.1*(this.toArea-this.uniformsDispSim.area.value):this.uniformsDispSim.area.value=0,this.dispSim.update()},t.prototype.setMouse=function(e){this.uniformsDispSim.mouse.value.copy(e)},t.prototype.setSimData=function(e){this.toArea=this.simData.areaBase+this.simData.areaBracket*e},t.prototype.addWind=function(){TweenLite.to(this.uniformsDispSim.activateWind,1,{value:1,ease:Cubic.easeIn})},t.prototype.removeWind=function(){TweenLite.to(this.uniformsDispSim.activateWind,1,{delay:1.6,value:0,ease:Cubic.easeIn})},t.prototype.activateMouse=function(){this.uniformsDispSim.area.value=this.simData.areaBase,this.mouseActivated=!0},t})();t.a=l}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(79),r=(function(){function t(o,r,s,l){n()(this,t),this.width=o,this.height=r,this.renderer=i.a.renderer;var d={wrapS:e.ClampToEdgeWrapping,wrapT:e.ClampToEdgeWrapping,minFilter:e.NearestFilter,magFilter:e.NearestFilter,format:e.RGBAFormat,type:e.HalfFloatType,encoding:e.LinearEncoding,stencilBuffer:!0,depthBuffer:!1};this.rtCurrent=new e.WebGLRenderTarget(this.width,this.height,d),this.rtCurrent.texture.generateMipmaps=!1,this.rtPrev=new e.WebGLRenderTarget(this.width,this.height,d),this.rtPrev.texture.generateMipmaps=!1,this.scene=new e.Scene,this.orthoCamera=new e.OrthographicCamera(-.5,.5,.5,-.5,0,1),s.tSimCurr={type:"t",value:this.rtCurrent.texture},this.simulationMaterial=new e.ShaderMaterial({uniforms:s,vertexShader:a(98),fragmentShader:l,depthWrite:!1,depthTest:!1}),this.simulationMaterial.type="SimpleFBOMaterial",this.mesh=new e.Mesh(new e.PlaneBufferGeometry(1,1,1,1),this.simulationMaterial),this.scene.add(this.mesh)}return t.prototype.getDebugMesh=function(){return this.debugMesh||(this.debugMesh=this.createDebugMeshCurrent()),this.debugMesh},t.prototype.createDebugMeshCurrent=function(){var t=new e.PlaneBufferGeometry(this.width,this.height),o=new e.ShaderMaterial({uniforms:{t_pos:{type:"t",value:this.rtCurrent.texture}},vertexShader:a(98),fragmentShader:a(113),depthWrite:!1,depthTest:!1,side:e.DoubleSide});return new e.Mesh(t,o)},t.prototype.createDebugMeshPrev=function(){var t=new e.PlaneBufferGeometry(this.width,this.height),o=new e.ShaderMaterial({uniforms:{t_pos:{type:"t",value:this.rtPrev.texture}},vertexShader:a(98),fragmentShader:a(113),depthWrite:!1,depthTest:!1,side:e.DoubleSide});return new e.Mesh(t,o)},t.prototype.update=function(){this.renderer.render(this.scene,this.orthoCamera,this.rtCurrent,!1),this.simulationMaterial.uniforms.tSimCurr.value=this.rtCurrent.texture;var e=this.rtCurrent;this.rtCurrent=this.rtPrev,this.rtPrev=e},t.prototype.getTexture=function(){return this.rtCurrent.texture},t})();t.a=r}).call(t,a(28))},function(e){e.exports="precision highp float;\n\n//\n\n//\n// vec3  psrdnoise(vec2 pos, vec2 per, float rot)\n// vec3  psdnoise(vec2 pos, vec2 per)\n// float psrnoise(vec2 pos, vec2 per, float rot)\n// float psnoise(vec2 pos, vec2 per)\n// vec3  srdnoise(vec2 pos, float rot)\n// vec3  sdnoise(vec2 pos)\n// float srnoise(vec2 pos, float rot)\n// float snoise(vec2 pos)\n//\n// Periodic (tiling) 2-D simplex noise (hexagonal lattice gradient noise)\n// with rotating gradients and analytic derivatives.\n// Variants also without the derivative (no \"d\" in the name), without\n// the tiling property (no \"p\" in the name) and without the rotating\n// gradients (no \"r\" in the name).\n//\n// This is (yet) another variation on simplex noise. It's similar to the\n// version presented by Ken Perlin, but the grid is axis-aligned and\n// slightly stretched in the y direction to permit rectangular tiling.\n//\n// The noise can be made to tile seamlessly to any integer period in x and\n// any even integer period in y. Odd periods may be specified for y, but\n// then the actual tiling period will be twice that number.\n//\n// The rotating gradients give the appearance of a swirling motion, and can\n// serve a similar purpose for animation as motion along z in 3-D noise.\n// The rotating gradients in conjunction with the analytic derivatives\n// can make \"flow noise\" effects as presented by Perlin and Neyret.\n//\n// vec3 {p}s{r}dnoise(vec2 pos {, vec2 per} {, float rot})\n// \"pos\" is the input (x,y) coordinate\n// \"per\" is the x and y period, where per.x is a positive integer\n//    and per.y is a positive even integer\n// \"rot\" is the angle to rotate the gradients (any float value,\n//    where 0.0 is no rotation and 1.0 is one full turn)\n// The first component of the 3-element return vector is the noise value.\n// The second and third components are the x and y partial derivatives.\n//\n// float {p}s{r}noise(vec2 pos {, vec2 per} {, float rot})\n// \"pos\" is the input (x,y) coordinate\n// \"per\" is the x and y period, where per.x is a positive integer\n//    and per.y is a positive even integer\n// \"rot\" is the angle to rotate the gradients (any float value,\n//    where 0.0 is no rotation and 1.0 is one full turn)\n// The return value is the noise value.\n// Partial derivatives are not computed, making these functions faster.\n//\n// Author: Stefan Gustavson (stefan.gustavson@gmail.com)\n// Version 2016-05-10.\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// idea of using a permutation polynomial.\n//\n// Copyright (c) 2016 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/stegu/webgl-noise\n//\n\n//\n// TODO: One-pixel wide artefacts used to occur due to precision issues with\n// the gradient indexing. This is specific to this variant of noise, because\n// one axis of the simplex grid is perfectly aligned with the input x axis.\n// The errors were rare, and they are now very unlikely to ever be visible\n// after a quick fix was introduced: a small offset is added to the y coordinate.\n// A proper fix would involve using round() instead of floor() in selected\n// places, but the quick fix works fine.\n// (If you run into problems with this, please let me know.)\n//\n\n// Modulo 289, optimizes to code without divisions\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nfloat mod289(float x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\n// Permutation polynomial (ring size 289 = 17*17)\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat permute(float x){return mod289(((x*34.0)+1.0)*x);}\n\n// vec3 permute(float x) {\n//   return permute( vec3( x ) );\n// }\n\n// Hashed 2-D gradients with an extra rotation.\n// (The constant 0.0243902439 is 1/41)\nvec2 rgrad2(vec2 p, float rot) {\n#if 0\n// Map from a line to a diamond such that a shift maps to a rotation.\n  float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n  u = 4.0 * fract(u) - 2.0;\n  // (This vector could be normalized, exactly or approximately.)\n  return vec2(abs(u)-1.0, abs(abs(u+1.0)-2.0)-1.0);\n#else\n// For more isotropic gradients, sin/cos can be used instead.\n  float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n  u = fract(u) * 6.28318530718; // 2*pi\n  return vec2(cos(u), sin(u));\n#endif\n}\n\n//\n// 2-D tiling simplex noise with rotating gradients and analytical derivative.\n// The first component of the 3-element return vector is the noise value,\n// and the second and third components are the x and y partial derivatives.\n//\nvec3 psrdnoise(vec2 pos, vec2 per, float rot) {\n  // Hack: offset y slightly to hide some rare artifacts\n  pos.y += 0.01;\n  // Skew to hexagonal grid\n  vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n  vec2 i0 = floor(uv);\n  vec2 f0 = fract(uv);\n  // Traversal order\n  vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n  // Unskewed grid points in (x,y) space\n  vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n  vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n  vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n  // Integer grid point indices in (u,v) space\n  i1 = i0 + i1;\n  vec2 i2 = i0 + vec2(1.0, 1.0);\n\n  // Vectors in unskewed (x,y) coordinates from\n  // each of the simplex corners to the evaluation point\n  vec2 d0 = pos - p0;\n  vec2 d1 = pos - p1;\n  vec2 d2 = pos - p2;\n\n  // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n  // wrap points in (x,y), map to (u,v)\n  vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n  vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n  vec3 iuw = xw + 0.5 * yw;\n  vec3 ivw = yw;\n\n  // Create gradients from indices\n  vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n  vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n  vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n  // Gradients dot vectors to corresponding corners\n  // (The derivatives of this are simply the gradients)\n  vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n  // Radial weights from corners\n  // 0.8 is the square of 2/sqrt(5), the distance from\n  // a grid point to the nearest simplex boundary\n  vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n  // Partial derivatives for analytical gradient computation\n  vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n  vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n  // Set influence of each surflet to zero outside radius sqrt(0.8)\n  if (t.x < 0.0) {\n    dtdx.x = 0.0;\n    dtdy.x = 0.0;\n\tt.x = 0.0;\n  }\n  if (t.y < 0.0) {\n    dtdx.y = 0.0;\n    dtdy.y = 0.0;\n\tt.y = 0.0;\n  }\n  if (t.z < 0.0) {\n    dtdx.z = 0.0;\n    dtdy.z = 0.0;\n\tt.z = 0.0;\n  }\n\n  // Fourth power of t (and third power for derivative)\n  vec3 t2 = t * t;\n  vec3 t4 = t2 * t2;\n  vec3 t3 = t2 * t;\n\n  // Final noise value is:\n  // sum of ((radial weights) times (gradient dot vector from corner))\n  float n = dot(t4, w);\n\n  // Final analytical derivative (gradient of a sum of scalar products)\n  vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n  vec2 dn0 = t4.x * g0 + dt0 * w.x;\n  vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n  vec2 dn1 = t4.y * g1 + dt1 * w.y;\n  vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n  vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n  return 11.0*vec3(n, dn0 + dn1 + dn2);\n}\n\n//\n// 2-D tiling simplex noise with fixed gradients\n// and analytical derivative.\n// This function is implemented as a wrapper to \"psrdnoise\",\n// at the minimal cost of three extra additions.\n//\nvec3 psdnoise(vec2 pos, vec2 per) {\n  return psrdnoise(pos, per, 0.0);\n}\n\n//\n// 2-D tiling simplex noise with rotating gradients,\n// but without the analytical derivative.\n//\nfloat psrnoise(vec2 pos, vec2 per, float rot) {\n  // Offset y slightly to hide some rare artifacts\n  pos.y += 0.001;\n  // Skew to hexagonal grid\n  vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n  vec2 i0 = floor(uv);\n  vec2 f0 = fract(uv);\n  // Traversal order\n  vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n  // Unskewed grid points in (x,y) space\n  vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n  vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n  vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n  // Integer grid point indices in (u,v) space\n  i1 = i0 + i1;\n  vec2 i2 = i0 + vec2(1.0, 1.0);\n\n  // Vectors in unskewed (x,y) coordinates from\n  // each of the simplex corners to the evaluation point\n  vec2 d0 = pos - p0;\n  vec2 d1 = pos - p1;\n  vec2 d2 = pos - p2;\n\n  // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n  // wrap points in (x,y), map to (u,v)\n  vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n  vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n  vec3 iuw = xw + 0.5 * yw;\n  vec3 ivw = yw;\n\n  // Create gradients from indices\n  vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n  vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n  vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n  // Gradients dot vectors to corresponding corners\n  // (The derivatives of this are simply the gradients)\n  vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n  // Radial weights from corners\n  // 0.8 is the square of 2/sqrt(5), the distance from\n  // a grid point to the nearest simplex boundary\n  vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n  // Set influence of each surflet to zero outside radius sqrt(0.8)\n  t = max(t, 0.0);\n\n  // Fourth power of t\n  vec3 t2 = t * t;\n  vec3 t4 = t2 * t2;\n\n  // Final noise value is:\n  // sum of ((radial weights) times (gradient dot vector from corner))\n  float n = dot(t4, w);\n\n  // Rescale to cover the range [-1,1] reasonably well\n  return 11.0*n;\n}\n\n//\n// 2-D tiling simplex noise with fixed gradients,\n// without the analytical derivative.\n// This function is implemented as a wrapper to \"psrnoise\",\n// at the minimal cost of three extra additions.\n//\nfloat psnoise(vec2 pos, vec2 per) {\n  return psrnoise(pos, per, 0.0);\n}\n\n//\n// 2-D non-tiling simplex noise with rotating gradients and analytical derivative.\n// The first component of the 3-element return vector is the noise value,\n// and the second and third components are the x and y partial derivatives.\n//\nvec3 srdnoise(vec2 pos, float rot) {\n  // Offset y slightly to hide some rare artifacts\n  pos.y += 0.001;\n  // Skew to hexagonal grid\n  vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n  vec2 i0 = floor(uv);\n  vec2 f0 = fract(uv);\n  // Traversal order\n  vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n  // Unskewed grid points in (x,y) space\n  vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n  vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n  vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n  // Integer grid point indices in (u,v) space\n  i1 = i0 + i1;\n  vec2 i2 = i0 + vec2(1.0, 1.0);\n\n  // Vectors in unskewed (x,y) coordinates from\n  // each of the simplex corners to the evaluation point\n  vec2 d0 = pos - p0;\n  vec2 d1 = pos - p1;\n  vec2 d2 = pos - p2;\n\n  vec3 x = vec3(p0.x, p1.x, p2.x);\n  vec3 y = vec3(p0.y, p1.y, p2.y);\n  vec3 iuw = x + 0.5 * y;\n  vec3 ivw = y;\n\n  // Avoid precision issues in permutation\n  iuw = mod289(iuw);\n  ivw = mod289(ivw);\n\n  // Create gradients from indices\n  vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n  vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n  vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n  // Gradients dot vectors to corresponding corners\n  // (The derivatives of this are simply the gradients)\n  vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n  // Radial weights from corners\n  // 0.8 is the square of 2/sqrt(5), the distance from\n  // a grid point to the nearest simplex boundary\n  vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n  // Partial derivatives for analytical gradient computation\n  vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n  vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n  // Set influence of each surflet to zero outside radius sqrt(0.8)\n  if (t.x < 0.0) {\n    dtdx.x = 0.0;\n    dtdy.x = 0.0;\n\tt.x = 0.0;\n  }\n  if (t.y < 0.0) {\n    dtdx.y = 0.0;\n    dtdy.y = 0.0;\n\tt.y = 0.0;\n  }\n  if (t.z < 0.0) {\n    dtdx.z = 0.0;\n    dtdy.z = 0.0;\n\tt.z = 0.0;\n  }\n\n  // Fourth power of t (and third power for derivative)\n  vec3 t2 = t * t;\n  vec3 t4 = t2 * t2;\n  vec3 t3 = t2 * t;\n\n  // Final noise value is:\n  // sum of ((radial weights) times (gradient dot vector from corner))\n  float n = dot(t4, w);\n\n  // Final analytical derivative (gradient of a sum of scalar products)\n  vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n  vec2 dn0 = t4.x * g0 + dt0 * w.x;\n  vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n  vec2 dn1 = t4.y * g1 + dt1 * w.y;\n  vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n  vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n  return 11.0*vec3(n, dn0 + dn1 + dn2);\n}\n\n//\n// 2-D non-tiling simplex noise with fixed gradients and analytical derivative.\n// This function is implemented as a wrapper to \"srdnoise\",\n// at the minimal cost of three extra additions.\n//\nvec3 sdnoise(vec2 pos) {\n  return srdnoise(pos, 0.0);\n}\n\n//\n// 2-D non-tiling simplex noise with rotating gradients,\n// without the analytical derivative.\n//\nfloat srnoise(vec2 pos, float rot) {\n  // Offset y slightly to hide some rare artifacts\n  pos.y += 0.001;\n  // Skew to hexagonal grid\n  vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n  vec2 i0 = floor(uv);\n  vec2 f0 = fract(uv);\n  // Traversal order\n  vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n  // Unskewed grid points in (x,y) space\n  vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n  vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n  vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n  // Integer grid point indices in (u,v) space\n  i1 = i0 + i1;\n  vec2 i2 = i0 + vec2(1.0, 1.0);\n\n  // Vectors in unskewed (x,y) coordinates from\n  // each of the simplex corners to the evaluation point\n  vec2 d0 = pos - p0;\n  vec2 d1 = pos - p1;\n  vec2 d2 = pos - p2;\n\n  // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n  // wrap points in (x,y), map to (u,v)\n  vec3 x = vec3(p0.x, p1.x, p2.x);\n  vec3 y = vec3(p0.y, p1.y, p2.y);\n  vec3 iuw = x + 0.5 * y;\n  vec3 ivw = y;\n\n  // Avoid precision issues in permutation\n  iuw = mod289(iuw);\n  ivw = mod289(ivw);\n\n  // Create gradients from indices\n  vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n  vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n  vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n  // Gradients dot vectors to corresponding corners\n  // (The derivatives of this are simply the gradients)\n  vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n  // Radial weights from corners\n  // 0.8 is the square of 2/sqrt(5), the distance from\n  // a grid point to the nearest simplex boundary\n  vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n  // Set influence of each surflet to zero outside radius sqrt(0.8)\n  t = max(t, 0.0);\n\n  // Fourth power of t\n  vec3 t2 = t * t;\n  vec3 t4 = t2 * t2;\n\n  // Final noise value is:\n  // sum of ((radial weights) times (gradient dot vector from corner))\n  float n = dot(t4, w);\n\n  // Rescale to cover the range [-1,1] reasonably well\n  return 11.0*n;\n}\n\n//\n// 2-D non-tiling simplex noise with fixed gradients,\n// without the analytical derivative.\n// This function is implemented as a wrapper to \"srnoise\",\n// at the minimal cost of three extra additions.\n// Note: if this kind of noise is all you want, there are faster\n// GLSL implementations of non-tiling simplex noise out there.\n// This one is included mainly for completeness and compatibility\n// with the other functions in the file.\n//\nfloat snoise(vec2 pos) {\n  return srnoise(pos, 0.0);\n}\n\n\n//\n\nuniform float time;\nuniform sampler2D tDataMain;\nuniform sampler2D tSimCurr;\nuniform sampler2D tSimPrev;\nuniform vec3 mouse;\nuniform float friction;\nuniform float area;\nuniform float activateWind;\nuniform float activateMouse;\nuniform float activateRandom;\n\nvarying vec2 vUv;\n\nconst vec3 pa = vec3(1., 57., 21.);\nconst vec4 pb = vec4(0., 57., 21., 78.);\n\nfloat perlin(vec3 p) {\n\tvec3 i = floor(p);\n\tvec4 a = dot( i, pa ) + pb;\n\tvec3 f = cos((p-i)*acos(-1.))*(-.5)+.5;\n\ta = mix(sin(cos(a)*a),sin(cos(1.+a)*(1.+a)), f.x);\n\ta.xy = mix(a.xz, a.yw, f.y);\n\treturn mix(a.x, a.y, f.z);\n}\n\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nvoid main() {\n\n  vec4 data = texture2D( tDataMain, vUv );\n  float xBase = data.r;\n  float zBase = data.g;\n\tfloat h = data.a;\n\n  vec3 currPos = vec3( 0. );\n  currPos.x = xBase;\n  currPos.z = zBase;\n\n  float windPercent = min( snoise( vec2( currPos.x * currPos.z, time * .001 ) ), 1. );\n  float windValue = 1.17 * windPercent * ( h / 35. );\n\n  float dx = currPos.x - mouse.x;\n  float dz = currPos.z - mouse.z;\n  float dist = distance( currPos, mouse );\n  float a = atan( dz, dx );\n\n  vec4 simCurr = texture2D( tSimCurr, vUv );\n  float percentStr = 1. - min( dist / area, 1. );\n  float percentStrEasedInOut = quadraticInOut( percentStr );\n  float percentStrEasedOut = quadraticOut( percentStr );\n  float frictionCurr = max( .0025, min( simCurr.w + percentStrEasedInOut * .9, .98 ) );\n\tfloat radiusXZ = 20. * percentStrEasedInOut;\n\tfloat xNewSim = radiusXZ * cos( a );\n\tfloat yNewSim = -percentStr * percentStrEasedOut;\n\tfloat zNewSim = radiusXZ * sin( a );\n\n  float xSim = simCurr.x + ( xNewSim - simCurr.x ) * frictionCurr;\n  float ySim = simCurr.y + ( yNewSim - simCurr.y ) * frictionCurr;\n  float zSim = simCurr.z + ( zNewSim - simCurr.z ) * frictionCurr;\n  float wSim = simCurr.w + ( .1 - frictionCurr ) * .257;\n\n\txSim += windValue * activateWind;\n\tzSim += windValue * activateWind;\n\n  gl_FragColor = vec4( xSim, ySim, zSim, wSim );\n\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(268),u=a.n(d),p=a(269),c=a.n(p),m=a(32),v=a(31),f=a(29),g=(function(t){function a(){n()(this,a);var o=r()(this,t.call(this));return o.onDarknessChange=function(e){1==e?TweenLite.to(o.material.uniforms.opacity,1,{value:0,ease:Cubic.easeIn}):TweenLite.to(o.material.uniforms.opacity,1,{delay:2,value:1,ease:Cubic.easeOut})},o.onStart=function(){TweenLite.to(o.material.uniforms.opacity,1,{delay:.1,value:1,ease:Quad.easeIn})},o.countParticles=500,o.createGeometry(),o.createMaterial(),o.material.uniforms.opacity.value=0,o.particles=new e.Points(o.geometry,o.material),o.add(o.particles),o}return l()(a,t),a.prototype.createGeometry=function(){for(var t=0,a=new Float32Array(3*this.countParticles),o=new Float32Array(this.countParticles),n=new Float32Array(this.countParticles),r=new Float32Array(this.countParticles),s=new Float32Array(this.countParticles),l=new Float32Array(this.countParticles),d=0;d<this.countParticles;d++)a[t+0]=2e3*Math.random()-1e3,a[t+1]=0,a[t+2]=2e3*Math.random()-1e3,n[d]=Object(m.b)(50,200,3),r[d]=1e3*Math.random(),s[d]=.2*Math.random()+.05,l[d]=Object(m.b)(4,10,6),o[d]=1*Math.random(),t+=3;this.geometry=new e.BufferGeometry,this.geometry.addAttribute("position",new e.BufferAttribute(a,3)),this.geometry.addAttribute("yMax",new e.BufferAttribute(n,1)),this.geometry.addAttribute("aTime",new e.BufferAttribute(r,1)),this.geometry.addAttribute("aSpeed",new e.BufferAttribute(s,1)),this.geometry.addAttribute("aRadiusMov",new e.BufferAttribute(l,1)),this.geometry.addAttribute("scale",new e.BufferAttribute(o,1)),f.a.onDarknessChange.add(this.onDarknessChange),f.a.onStart.addOnce(this.onStart)},a.prototype.createMaterial=function(){var t=new e.Texture(v.a.images.circle);t.needsUpdate=!0,this.uniforms={sizeBase:{type:"f",value:10},time:{type:"f",value:0},map:{type:"t",value:t},opacity:{type:"f",value:1}},this.material=new e.RawShaderMaterial({uniforms:this.uniforms,vertexShader:u.a,fragmentShader:c.a,transparent:!0})},a.prototype.update=function(){this.visible=0<=this.material.uniforms.opacity.value,this.uniforms.time.value+=1},a})(e.Group);t.a=g}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float time;\nuniform float sizeBase;\n\nattribute vec3 position;\nattribute float scale;\nattribute float aTime;\nattribute float aSpeed;\nattribute float aRadiusMov;\nattribute float yMax;\n\nvarying float vOpacity;\n\nfloat quadraticIn(float t) {\n  return t * t;\n}\n\nvoid main() {\n\n\tvec3 pos = position;\n\tfloat y = aTime + time * aSpeed;\n\ty = mod( y, yMax );\n\tpos.y += y;\n\n\tpos.x += sin( aTime + time * aSpeed * .05 ) * aRadiusMov;\n\tpos.z += cos( aTime + time * aSpeed * .025 ) * aRadiusMov;\n\t\n\tvOpacity = 1.;\n\tvOpacity -= 1. - smoothstep( 0., 20., pos.y );\n\tvOpacity -= smoothstep( yMax * .85, yMax, pos.y );\n\n\tvec2 center = vec2( 0. );\n  float dist = 1. - quadraticIn( distance( center, vec2( pos.x, pos.z ) ) / 1000. );\n\tvOpacity *= dist;\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n\n\tgl_PointSize = sizeBase * scale;\n\n}\n"},function(e){e.exports="precision highp float;\n\nuniform sampler2D map;\nuniform float opacity;\n\nvarying float vOpacity;\n\nvoid main() {\n\n\tvec4 colorFinal = texture2D( map, gl_PointCoord );\n\tcolorFinal.a *= vOpacity;\n\tif( colorFinal.a <= 0.1 ) {\n\t\tdiscard;\n\t}\n\tgl_FragColor = colorFinal * opacity;\n\n}\n"},function(e,t,a){"use strict";var o=Math.sqrt;(function(e){var n=a(0),r=a.n(n),i=a(77),s=a.n(i),l=a(75),d=a.n(l),u=a(76),p=a.n(u),c=a(271),m=a(272),v=a(275),f=a(278),g=a(32),h=a(29),y=a(18),w=a(112),_=a(81),b=(function(t){function n(s){r()(this,n);var l=d()(this,t.call(this));l.ground=s,l.buildings=[],l.cubeCount=0,l.mouseChecker=new w.a;var u=l.getBorder(1e3,1e3),p=l.getBorder(120,30);l.quadtree(0,u.topLeft.x,u.topLeft.y,p.topRight.x,p.topRight.y),l.quadtree(0,p.topRight.x,u.topLeft.y,u.topRight.x,p.bottomRight.y),l.quadtree(0,p.bottomLeft.x,p.bottomLeft.y,u.bottomRight.x,u.bottomRight.y),l.quadtree(0,u.bottomLeft.x,p.topLeft.y,p.topLeft.x,u.bottomRight.y);for(var c=new e.BufferGeometry,m=new Float32Array(10*(3*l.cubeCount)),v=new Float32Array(10*(2*l.cubeCount)),g=new Float32Array(10*(2*l.cubeCount)),y=new Float32Array(10*(1*l.cubeCount)),S=new Float32Array(10*(1*l.cubeCount)),M=new Uint32Array(2*(5*(3*l.cubeCount))),D=function(e,t,a,o,n,i,r,s,l,d,u,p){var c=10*e,f=20*e,h=30*e;m[h]=a,m[h+1]=i+u,m[h+2]=r,m[h+3]=o,m[h+4]=i+u,m[h+5]=r,m[h+6]=o,m[h+7]=n+u,m[h+8]=r,m[h+9]=a,m[h+10]=n+u,m[h+11]=r,m[h+12]=a,m[h+13]=i+u,m[h+14]=s,m[h+15]=a,m[h+16]=n+u,m[h+17]=s,m[h+18]=o,m[h+19]=i+u,m[h+20]=s,m[h+21]=o,m[h+22]=n+u,m[h+23]=s,m[h+24]=o,m[h+25]=i+u,m[h+26]=s,m[h+27]=o,m[h+28]=n+u,m[h+29]=s;var b=0>=u?0:1,w=1;g[f]=.5,g[f+1]=w,g[f+2]=.25,g[f+3]=w,g[f+4]=.25,g[f+5]=b,g[f+6]=.5,g[f+7]=b,g[f+8]=.75,g[f+9]=w,g[f+10]=.75,g[f+11]=b,g[f+12]=1,g[f+13]=w,g[f+14]=1,g[f+15]=b,g[f+16]=0,g[f+17]=w,g[f+18]=0,g[f+19]=b,b=0>=u?1-t.h/150:.8,w=0>=u?(150<t.h?1:.98)*p:1,v[f]=.5+d,v[f+1]=w,v[f+2]=.25+d,v[f+3]=w,v[f+4]=.25+d,v[f+5]=b,v[f+6]=.5+d,v[f+7]=b,v[f+8]=.75+d,v[f+9]=w,v[f+10]=.75+d,v[f+11]=b,v[f+12]=1+d,v[f+13]=w,v[f+14]=1+d,v[f+15]=b,v[f+16]=0+d,v[f+17]=w,v[f+18]=0+d,v[f+19]=b,y[c]=l/1e3,y[c+1]=l/1e3,y[c+2]=l/1e3,y[c+3]=l/1e3,y[c+4]=l/1e3,y[c+5]=l/1e3,y[c+6]=l/1e3,y[c+7]=l/1e3,y[c+8]=l/1e3,y[c+9]=l/1e3,S[c]=t.h,S[c+1]=t.h,S[c+2]=t.h,S[c+3]=t.h,S[c+4]=t.h,S[c+5]=t.h,S[c+6]=t.h,S[c+7]=t.h,S[c+8]=t.h,S[c+9]=t.h,M[h]=0+c,M[h+1]=1+c,M[h+2]=2+c,M[h+3]=2+c,M[h+4]=3+c,M[h+5]=0+c,M[h+6]=4+c,M[h+7]=0+c,M[h+8]=3+c,M[h+9]=3+c,M[h+10]=5+c,M[h+11]=4+c,M[h+12]=1+c,M[h+13]=8+c,M[h+14]=9+c,M[h+15]=9+c,M[h+16]=2+c,M[h+17]=1+c,M[h+18]=6+c,M[h+19]=1+c,M[h+20]=0+c,M[h+21]=0+c,M[h+22]=4+c,M[h+23]=6+c,M[h+24]=4+c,M[h+25]=5+c,M[h+26]=6+c,M[h+27]=6+c,M[h+28]=5+c,M[h+29]=7+c},C=0,k=0;k<l.buildings.length-1;k++){var i=l.buildings[k],b=i.x-i.w/2,I=i.x+i.w/2,P=i.h,A=i.z-i.d/2,z=i.z+i.d/2,T=3*o(i.x*i.x+i.z*i.z)+200*Math.random(),U=Math.random();if(D(C,i,b,I,0,P,A,z,T,U,0,1),C++,i.extra){var O=.6+.3*Math.random(),E=.6+.3*Math.random(),L=(1-O)*(Math.random()-.5),N=(1-E)*(Math.random()-.5);b=i.x-i.w*O/2+L,I=i.x+i.w*O/2+L,A=i.z-i.d*E/2+N,z=i.z+i.d*O/2+N,D(C,i,b,I,0,2+3*Math.random(),A,z,T,U,P,1),C++}}c.addAttribute("position",new e.BufferAttribute(m,3)),c.addAttribute("uv",new e.BufferAttribute(v,2)),c.addAttribute("uv2",new e.BufferAttribute(g,2)),c.addAttribute("aTime",new e.BufferAttribute(y,1)),c.addAttribute("height",new e.BufferAttribute(S,1)),c.setIndex(new e.BufferAttribute(M,1)),c.computeVertexNormals();var F=new e.RawShaderMaterial({vertexShader:a(279),fragmentShader:a(280),fog:!0,transparent:!0,uniforms:{time:{type:"f",value:0},lightPower:{type:"f",value:1},mouseLight:{type:"v3",value:new e.Vector3},mouseLightIntensity:{type:"f",value:.1},transition:{type:"f",value:0},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1500*h.a.darkScale},fogFar:{type:"f",value:2e3*h.a.darkScale},fogColor:{value:null},map:{type:"f",value:f.a.getTexture()}}});return F.defines={USE_FOG:!0,FOG_EXP2:!1},l.cityMesh=new e.Mesh(c,F),l.cityMesh.frustumCulled=!1,l.cityMesh.renderOrder=1,l.material=F,l.add(l.cityMesh),l.scale.multiplyScalar(h.a.darkScale),_.a.onMove.add((function(t){l.mouseChecker.setMouse(t.x,t.y)})),l}return p()(n,t),n.prototype.quadtree=function(t,a,n,i,r){var l=i-a,d=r-n,u=(i+a)/2,p=(r+n)/2,c=o(u*u+p*p),m=Object(g.c)(50,150,c),s=60+20*(1-m*m*m),v=16;if(l<s&&d<s||l<v||d<v){var f=1+2*Math.random();return 1e3<c?void 0:void(Math.random()<.8&&this.makeRectangle(new e.Vector2(a+f,n+f),new e.Vector2(i-f,n+f),new e.Vector2(i-f,r-f),new e.Vector2(a+f,r-f)))}var h=.3*Math.random()+.4,y=.3*Math.random()+.4;t++,this.quadtree(t,a,n,a+l*h,n+d*y),this.quadtree(t,a+l*h,n,i,n+d*y),this.quadtree(t,a,n+d*y,a+l*h,r),this.quadtree(t,a+l*h,n+d*y,i,r)},n.prototype.makeRectangle=function(t,a,n,i){var r=a.x-t.x,s=i.y-t.y,l=t.x+r/2,u=t.y+s/2,p=new e.MeshBasicMaterial,c=o(l*l+u*u),m=5+20*Math.random();m+=250*(1-Object(g.c)(50,150,c)),m+=50*(1-Object(g.c)(200,400,c)),.02>Math.random()&&(m+=10),this.cubeCount++;var v={w:r,h:m,d:s,x:l,y:m/2,z:u,extra:!1};20<r&&20<s&&.7<Math.random()&&200>m&&(v.extra=!0,this.cubeCount++),this.buildings.push(v)},n.prototype.getBorder=function(t,a){return{topLeft:new e.Vector2(-t,-a),topRight:new e.Vector2(t,-a),bottomLeft:new e.Vector2(-t,a),bottomRight:new e.Vector2(t,a)}},n.prototype.update=function(e){if(this.visible=0<=this.transition,!!this.visible){this.material.uniforms.time.value+=e,this.material.uniforms.mouseLightIntensity.value=.85+3.5*y.a.volume,this.material.uniforms.lightPower.value+=.2*(.65+4.5*y.a.volume-this.material.uniforms.lightPower.value);var t=this.mouseChecker.getIntersectForObject(this.ground);this.material.uniforms.mouseLight.value.set(t.x,-60,t.z)}},s()(n,[{key:"transition",set:function(e){this.material.uniforms.transition.value=e},get:function(){return this.material.uniforms.transition.value}}]),n})(e.Group);t.a=b}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var t=a(0),o=a.n(t),n=a(75),i=a.n(n),r=a(76),s=a.n(r),l=function(e,t){for(var a=-100,o=0;3>o;o++)t[e+o]=Math.random()*(100-a)+a},d=(function(t){function a(e,n,r){o()(this,a);var s=i()(this,t.call(this));return s.copy(e),s.count=n,s.addAttributeFill("aPosition",3,r),s.drawRange.count=n,s.maxInstancedCount=n,s}return s()(a,t),a.prototype.addAttributeFill=function(t,a){for(var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l,n=new Float32Array(this.count*a),r=0,s=0;s<this.count;s++)r=s*a,o(r,n);this.addAttribute(t,new e.InstancedBufferAttribute(n,a)),this.attributes[t].needsUpdate=!0},a})(e.InstancedBufferGeometry)}).call(t,a(28))},function(e,t,a){"use strict";(function(e){var t=a(0),o=a.n(t),n=a(75),i=a.n(n),r=a(76),s=a.n(r),l=(function(e){function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o()(this,t),n.fragmentShader=n.fragmentShader||a(273),n.vertexShader=n.vertexShader||a(274),n.uniforms=n.uniforms||{opacity:{value:1}};var r=i()(this,e.call(this,n));return r.type="InstancedMaterial",r}return s()(t,e),t})(e.RawShaderMaterial)}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nvarying vec3 vColor;\nuniform float opacity;\n\nvoid main() {\n\tgl_FragColor = vec4( vColor, opacity );\n}\n"},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nattribute vec3 position;\nattribute vec3 aPosition;\nattribute vec3 aScale;\nvarying vec3 vColor;\n\nvoid main() {\n\tvec3 pos = position*aScale + aPosition;\n\tvColor = normalize(pos)*min(1.,pos.y);\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\t\n}\n"},function(e,t,a){"use strict";(function(e){var t=a(87),o=a.n(t),n=a(0),i=a.n(n),r=a(75),s=a.n(r),l=a(76),d=a.n(l),u=(function(t){function n(r){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i()(this,n);var d=a(276),u=a(277),p=s()(this,t.call(this,r));return l=l||{},p.uniforms=o()(e.ShaderLib.standard.uniforms,l),p.isMeshStandardMaterial=!0,p.setFlags(p,d,u),p.setValues(r),p}return d()(n,t),n.prototype.setFlags=function(e,t,a){e.vertexShader=a,e.fragmentShader=t,e.type="InstancedStandardMaterial"},n})(e.MeshStandardMaterial)}).call(t,a(28))},function(e){e.exports="\t#define PHYSICAL\n\tuniform vec3 diffuse;\n\tuniform vec3 emissive;\n\tuniform float roughness;\n\tuniform float metalness;\n\tuniform float opacity;\n\t#ifndef STANDARD\n\t\tuniform float clearCoat;\n\t\tuniform float clearCoatRoughness;\n\t#endif\n\tvarying vec3 vViewPosition;\n\t#ifndef FLAT_SHADED\n\t\tvarying vec3 vNormal;\n\t#endif\n\t#include <common>\n\t#include <packing>\n\t#include <color_pars_fragment>\n\t#include <uv_pars_fragment>\n\t#include <uv2_pars_fragment>\n\t#include <map_pars_fragment>\n\t#include <alphamap_pars_fragment>\n\t#include <aomap_pars_fragment>\n\t#include <lightmap_pars_fragment>\n\t#include <emissivemap_pars_fragment>\n\t#include <envmap_pars_fragment>\n\t#include <fog_pars_fragment>\n\t#include <bsdfs>\n\t#include <cube_uv_reflection_fragment>\n\t#include <lights_pars>\n\t#include <lights_physical_pars_fragment>\n\t#include <shadowmap_pars_fragment>\n\t#include <bumpmap_pars_fragment>\n\t#include <normalmap_pars_fragment>\n\t#include <roughnessmap_pars_fragment>\n\t#include <metalnessmap_pars_fragment>\n\t#include <logdepthbuf_pars_fragment>\n\t#include <clipping_planes_pars_fragment>\n\t\n\t// custom varying - uniforms here \n\t//------------------------ \n\tvarying vec3 vColor;\n\t//-------------------------\n\n\tvoid main() {\n\t\t#include <clipping_planes_fragment>\n\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\n\t\t//Custom color here\n\t\t//------------------------ \n\t\tdiffuseColor.xyz = vColor;\n\t\t//------------------------ \n\t\n\t\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t\tvec3 totalEmissiveRadiance = emissive;\n\t\t#include <logdepthbuf_fragment>\n\t\n\t\t#ifdef USE_MAP\n\t\t\tvec4 texelColor = texture2D( map, vUv*2. );\n\t\t\ttexelColor = mapTexelToLinear( texelColor );\n\t\t\tdiffuseColor *= texelColor;\n\t\t#endif\n\t\n\t\t#include <color_fragment>\n\t\t#include <alphamap_fragment>\n\t\t#include <alphatest_fragment>\n\t\t#include <specularmap_fragment>\n\t\t#include <roughnessmap_fragment>\n\t\t#include <metalnessmap_fragment>\n\t\t\n\t\t// CUSTOM EXAMPLE metalness/ roughness\n\t\t// metalnessFactor -= .3;\n\t\t// roughnessFactor -= .3;\n\t\t\n\t\t#include <normal_fragment>\n\t\t#include <emissivemap_fragment>\n\t\t#include <lights_physical_fragment>\n\t\t#include <lights_template>\n\t\t#include <aomap_fragment>\n\t\t\n\t\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t\t\n\t\t// CUSTOM Possible\n\t\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t\n\t\t#include <dithering_fragment>\n\t\t#include <premultiplied_alpha_fragment>\n\t\t#include <tonemapping_fragment>\n\t\t#include <encodings_fragment>\n\t\t#include <fog_fragment>\n}\n"},function(e){e.exports="#define PHYSICAL\n\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nattribute vec3 aColor;\nattribute vec3 aPosition;\nattribute vec3 aScale;\nvarying vec3 vColor;\n\nmat4 rotationMatrix(vec3 axis, float angle) {\n\taxis = normalize(axis);\n\tfloat s = sin(angle);\n\tfloat c = cos(angle);\n\tfloat oc = 1.0 - c;\n\treturn mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n\t\t\t\toc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n\t\t\t\toc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n\t\t\t\t0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\n\t#include <begin_vertex>\n\n\t// Custom transformed here\n\t//----------------------------------------\n\t\n\t// CUSTOM ROTATION\n\t// mat4 m = rotationMatrix( vec3(0.,1.,0.), aInfo.y );\n\t// transformed = (m*vec4(transformed,1.)).xyz;\n\n\t// CUSTOM SCALE\n\t// transformed *= 1. + vSpecial*3.;\n\t\n\t// CUSTOM POSITION\n\ttransformed = position*aScale + aPosition.xyz;\n\n\t//----------------------------------------\n\t// CUSTOM VARYING\n\tvColor = normalize(abs(transformed))+.5;\n\t//----------------------------------------\n\t\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(79),r=(function(){function t(){n()(this,t),this.w=1024,this.h=2048,this.canvas=document.createElement("canvas"),this.canvas.width=this.w,this.canvas.height=this.h,this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.zIndex=1e6,this.ctx=this.canvas.getContext("2d")}return t.prototype.generate=function(){for(var e=1024/10,t=0;t<this.w;t+=e)this.drawFacade(t,e)},t.prototype.getTexture=function(){this.generate();var a=new e.Texture(this.canvas,e.UVMapping,e.MirroredRepeatWrapping,e.ClampToEdgeWrapping,e.LinearFilter,e.MipmapLinearFilter,e.RGBFormat,e.UnsignedByteType,i.a.renderer.capabilities.getMaxAnisotropy());return a.needsUpdate=!0,a},t.prototype.drawFacade=function(e,t){this.drawBackground(e,t,this.h);for(var a=0,o=0;a<this.h;)a=0==a?this.drawRoof(e,a,t):this.drawFloor(e,a,t),o++},t.prototype.drawBackground=function(e,t,a){var o=Math.floor(10*Math.random()+50);this.ctx.fillStyle="rgb(0,0,"+o+")",this.ctx.fillRect(e,0,t,a)},t.prototype.drawFloor=function(e,t,a){var o=10;if(300>t&&.3>Math.random())for(var n=e;n<e+a;n++)if(.5>Math.random()){this.ctx.fillStyle="rgba(255,255,255,"+(.2*Math.random()+.05)+")";var i=a;this.ctx.fillRect(n,t+1,i,o-4),n+=i}return t+o},t.prototype.drawSpecial=function(e,t,a){var o=50+50*Math.random();return this.ctx.fillStyle="rgba(255,255,255,"+(.25*Math.random()+.1)+")",this.ctx.fillRect(e,t,a,o),t+o},t.prototype.drawRoof=function(e,t,a){t=25,t=Math.round(t);var o=8;return this.ctx.fillStyle="rgb(255,255,255)",this.ctx.fillRect(e,t,a,o),2*t+o},t})();t.a=new r}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform float transition;\nuniform vec3 mouseLight;\nuniform float mouseLightIntensity;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\nattribute float aTime;\nattribute float height;\n\nvarying float vAlpha;\nvarying float vPy;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvarying vec3 vNormal;\nvarying float vPercent;\nvarying float extraLight;\n\n#include <fog_pars_vertex>\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat quarticIn(float t) {\n  return pow(t, 4.0);\n}\n\n\nvoid main() {\n\tvUv = uv;\n\tvUv2 = uv2;\n\tvNormal = normal;\n\t\n\tvec3 pos = position;\n\tfloat p = quadraticInOut(1.-smoothstep(aTime,aTime+3.+height/350.,transition));\n\tpos.y -= height*p;\n\n\tvAlpha = 1.-clamp(p,0.,1.);\n\tvPy = pos.y;\n\tvPercent = quadraticInOut(smoothstep(aTime+1.4,aTime+4.4+height/350.,transition));\n\n\t//need for fog\n\tvec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );\n\t\n\textraLight = 1. - smoothstep(0., 900.*mouseLightIntensity, distance(mouseLight, (modelMatrix * vec4( pos, 1.0 )).xyz));\n\textraLight = quarticIn(extraLight); //quadraticInOut( extraLight );\n\n\t//modify from original threejs to also account position x\n\t#ifdef USE_FOG\n\tfogDepth = -mvPosition.z+abs(mvPosition.x)*.35;\n\t#endif\n\n\tgl_Position = projectionMatrix * mvPosition;\t\n}\n"},function(e){e.exports="precision highp float;\n\nvarying float vAlpha;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvarying float vPy;\n\nvarying vec3 vNormal;\nvarying float vPercent;\nvarying float extraLight;\n\nuniform float opacity;\nuniform float lightPower;\nuniform sampler2D map;\n\n#include <common>\n#include <fog_pars_fragment>\n\nvoid main() {\n\tif(vPy<=-0.01){\n\t\tdiscard;\n\t}\n\n\tgl_FragColor = vec4( texture2D(map,vUv) );\n\tgl_FragColor.rgb += max(0., (1.*(lightPower+extraLight*extraLight*.3)-vUv2.y) ) * (vPercent+.15);\n\t// gl_FragColor.rgb += extraLight*.35;\n\n\t// vec3 light = vec3(0.5, 0.2, 1.0);\n  // light = normalize(light);\n  // float dProd = max(0.0, dot(vNormal, light))*.7;\n\t// gl_FragColor += dProd;\n\n\tgl_FragColor.a = vAlpha;\n\t\n\t#include <fog_fragment>\n\tif(fogFactor>=0.99){\n\t\tdiscard;\n\t}\n\t\n\t// gl_FragColor = vec4(vAlpha);\n\t// gl_FragColor.a = 1.;\n\t// gl_FragColor = vec4( vec3(dProd), 1.);\n\t// gl_FragColor = vec4( vec3(vUv.y), 1.);\n}\n"},function(e,t,a){"use strict";var o=a(17),i=a.n(o),n=a(0),r=a.n(n),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(5),c=a(79),m=a(114),v=a(115),f=a(293),g=a(86),h=a(298),y=a(299),b=a(300),w=a(301),_=a(302),S=a(303),M=a(304),D=a(305),C=a(306),k=a(307),I=a(308),P=a(310),A=a(311),z=a(314),T=a(119),U=a(319),O=a(322),E=a(120),L=a(121),N=a(329),F=a(332),B=a(338),R=a(341),V=a(123),H=(function(e){function t(a){r()(this,t);var o=l()(this,e.call(this,a));return o.update=function(){c.a.clearPass();for(var e=o.toScreen.getParentNodes().reverse(),t=e,a=Array.isArray(t),n=0,t=a?t:i()(t);;){var r;if(a){if(n>=t.length)break;r=t[n++]}else{if(n=t.next(),n.done)break;r=n.value}var s=r;s.isPostfxNode&&c.a.addPass(s.pass)}for(var l=o.nodes,d=Array.isArray(l),u=0,l=d?l:i()(l);;){var p;if(d){if(u>=l.length)break;p=l[u++]}else{if(u=l.next(),u.done)break;p=u.value}var m=p;m.isPlugDirty=!1}},o.afterClear=function(){o.toScreen=new P.a,o.add(o.toScreen)},a.json||(o.toScreen=new P.a,o.add(o.toScreen)),o.factory.add("sepia",(function(){return new N.a})),o.factory.add("vignette",(function(){return new V.a})),o.factory.add("noise",(function(){return new L.a})),o.factory.add("ssao",(function(){return new F.a})),o.factory.add("fxaa",(function(){return new A.a})),o.factory.add("depth",(function(){return new B.a})),o.factory.add("bw",(function(){return new z.a})),o.factory.add("bloom",(function(){return new R.a})),o.factory.add("contrast",(function(){return new E.a})),o.factory.add("gamma",(function(){return new T.a})),o.factory.add("brightness",(function(){return new U.a})),o.factory.add("invert",(function(){return new O.a})),o.factory.add("random",(function(){return new f.a})),o.factory.add("slider",(function(){return new g.a})),o.factory.add("x",(function(){return new y.a})),o.factory.add("+",(function(){return new M.a})),o.factory.add("-",(function(){return new D.a})),o.factory.add(">",(function(){return new w.a})),o.factory.add(">=",(function(){return new _.a})),o.factory.add("/",(function(){return new b.a})),o.factory.add("n",(function(){return new k.a})),o.factory.add("switch",(function(){return new S.a})),o.factory.add("clamp",(function(){return new C.a})),o.factory.add("volume",(function(){return new h.a})),o.factory.add("compute",(function(){return new I.a})),o.addNodeButton("FXAA","fxaa"),o.addNodeButton("Noise","noise"),o.addNodeButton("SSAO","ssao"),o.addNodeButton("Sepia","sepia"),o.addNodeButton("Vignette","vignette"),o.addNodeButton("Depth","depth"),o.addNodeButton("BW","bw"),o.addNodeButton("Bloom","bloom"),o.addNodeButton("Invert","invert"),o.addNodeButton("Brightness","brightness"),o.addNodeButton("Gamma","gamma"),o.addNodeButton("Contrast","contrast"),o.buttonJump(),o.addNodeButton("+","+"),o.addNodeButton("-","-"),o.addNodeButton("x","x"),o.addNodeButton("/","/"),o.addNodeButton(">",">"),o.addNodeButton(">=",">="),o.buttonJump(),o.addNodeButton("number","n"),o.addNodeButton("random","random"),o.addNodeButton("slider","slider"),o.addNodeButton("clamp","clamp"),o.addNodeButton("switch","switch"),o.buttonJump(),o.addNodeButton("Volume","volume"),o.addNodeButton("Compute","compute"),o.buttonJump(),p.a.onUpdate.add(o.update),o}return u()(t,e),t.prototype.serialize=function(){for(var e={nodes:[],links:[]},t=this.nodes,a=Array.isArray(t),o=0,t=a?t:i()(t);;){var n;if(a){if(o>=t.length)break;n=t[o++]}else{if(o=t.next(),o.done)break;n=o.value}var r=n;e.nodes.push(r.serialize());for(var s=r.getLinks(),d=s,u=Array.isArray(d),p=0,d=u?d:i()(d);;){var c;if(u){if(p>=d.length)break;c=d[p++]}else{if(p=d.next(),p.done)break;c=p.value}for(var m=c,v=!1,f=e.links,g=Array.isArray(f),h=0,f=g?f:i()(f);;){var y;if(g){if(h>=f.length)break;y=f[h++]}else{if(h=f.next(),h.done)break;y=h.value}var b=y;if(b.inID==m.inID&&b.outID==m.outID){v=!0;break}}v||e.links.push(m.serialize())}}return e},t.prototype.deserialize=function(e){this.clear();for(var t=e.nodes,a=Array.isArray(t),o=0,t=a?t:i()(t);;){var r;if(a){if(o>=t.length)break;r=t[o++]}else{if(o=t.next(),o.done)break;r=o.value}var s=r,l=null;switch(s.type){default:console.log("node not recognized:",s.type,s);break;case"compute":l=I.a.deserialize(s);break;case"toScreen":l=P.a.deserialize(s),this.toScreen=l;break;case"fxaa":l=A.a.deserialize(s);break;case"vignette":l=V.a.deserialize(s);break;case"noise":l=L.a.deserialize(s);break;case"ssao":l=F.a.deserialize(s);break;case"sepia":l=N.a.deserialize(s);break;case"depth":l=B.a.deserialize(s);break;case"bw":l=z.a.deserialize(s);break;case"bloom":l=R.a.deserialize(s);break;case"gamma":l=T.a.deserialize(s);break;case"brightness":l=U.a.deserialize(s);break;case"contrast":l=E.a.deserialize(s);break;case"invert":l=O.a.deserialize(s);break;case"+":l=M.a.deserialize(s);break;case"-":l=D.a.deserialize(s);break;case"x":l=y.a.deserialize(s);break;case"/":l=b.a.deserialize(s);break;case">":l=w.a.deserialize(s);break;case">=":l=_.a.deserialize(s);break;case"n":l=k.a.deserialize(s);break;case"random":l=f.a.deserialize(s);break;case"slider":l=g.a.deserialize(s);break;case"switch":l=S.a.deserialize(s);break;case"clamp":l=C.a.deserialize(s);break;case"volume":l=h.a.deserialize(s);}l&&this.add(l)}for(var n=e.links,d=Array.isArray(n),u=0,n=d?n:i()(n);;){var p;if(d){if(u>=n.length)break;p=n[u++]}else{if(u=n.next(),u.done)break;p=u.value}var c=p,m=this.getNodeById(c.inID).inputs[c.inSlot],H=this.getNodeById(c.outID).outputs[c.outSlot];new v.a(m,H)}},t})(m.a);t.a=H},function(e,t,a){var o=a(10),n=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(){return n.stringify.apply(n,arguments)}},function(e,t,a){"use strict";var o=a(104),n=a.n(o),i=a(0),r=a.n(i),s=(function(){function e(){r()(this,e),this.nodes=new n.a}return e.prototype.add=function(e,t){this.nodes.set(e,t)},e})();t.a=s},function(e,t,a){"use strict";var o=a(91),n=a.n(o),i=a(0),r=a.n(i),s=a(285),l=a(109),d=a(1),u=a(29),p="color: #333366; font-weight: bold; font-size:10px; line-height:8px;",c=(function(){function e(){var t=this,a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];r()(this,e),this.load=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t.log("%c[save]loading: "+e,p),t.saveID=e||t.saveID,a&&t.onLoad.addOnce(a),t.saveWebsocket&&(t.isConnected||t.isConnecting))t.isConnected?t.client.send(null,"get",t.saveID):t.log("%c[save]load put on queue while connecting",p);else{t.log("%c[save]loaded from localStorage",p);var o=localStorage.getItem(e);if(!o||"undefined"===o)return void t.log("%c[save]localStorage empty",p);t.onLoad.dispatch(JSON.parse(o))}},this.save=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1],o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];t.log("%c[save]saving request: "+e,p),t.saveID=e||t.saveID,t.object=a,o?(t.isDirty=!1,t._save()):t.isDirty=!0},this._save=function(){t.log("%c[save]saving: "+t.saveID,p);var e=n()(t.object);t.isConnected&&(t.log("%c[save]socket sent to the server",p),t.client.send(e,"save",t.saveID)),t.saveLocal&&(t.log("%c[save]saved locally",p),localStorage.setItem(t.saveID,e),!t.saveWebsocket&&t.onSaveSuccess.dispatch())},this._onMessage=function(e){switch(e){case"success":t.log("%c[save]saved on server success",p),t.onSaveSuccess.dispatch();break;case"fail":t.log("%c[save]fail",p),t.onSaveError.dispatch();break;case"noSave":t.log("%c[save]no save found on the server",p);var a=localStorage.getItem(t.saveID);if(t.saveLocal&&a&&"undefined"!=typeof a){t.log("%c[save]local save found",p),t.log("%c[save]local save sync with the server",p),t.log(a);var n=JSON.parse(a);t.save(t.saveID,n,!0),t.onLoad.dispatch(n)}else t.onLoad.dispatch(null);break;case"undefined":t.log("%c[save]Message undefined, an error probably happen during the save of"+t.saveID,p),t.onLoad.dispatch({});break;default:t.log("%c[save]save received",p),t.onLoad.dispatch(JSON.parse(e));}},this._onClose=function(){t.log("%c[save]connection closed, save on localstore",p),t.isConnected=!1,t.isConnecting=!1,t.saveWebsocket=!1,t._checkQueue()},this._onConnect=function(){t.log("%c[save]connected",p),t.isConnected=!0,t.isConnecting=!1,t._checkQueue(),t.onConnect.dispatch()},this._onError=function(){t.isConnecting=!1,t.saveWebsocket=!1,t.log("%c[save]connection to the node server fail",p)},this._checkQueue=function(){t.saveID&&(t.log("%c[save]load queue detected",p),t.load(t.saveID))},this.saveWebsocket=a&&!u.a.isProduction,this.saveLocal=o,this.saveID=null,this.object=null,this.isConnected=!1,this.isConnecting=!1,this.isDirty=!1,this.debug=!u.a.isProduction,this.loadQueue=[],this.onLoad=new d.a,this.onConnect=new d.a,this.onSaveSuccess=new d.a,this.onSaveError=new d.a,this.onStorageUpdate=new d.a,this.tick=new l.a(32,function(){t.isDirty&&!t.isConnecting&&(t._save(),t.isDirty=!1)}),this.saveWebsocket&&(this.log("%c[save]connecting",p),this.client=new s.a("127.0.0.1",1400,!1),this.client.onMessage.add(this._onMessage),this.client.onConnect.add(this._onConnect),this.client.onClose.add(this._onClose),this.client.onError.add(this._onError),this.isConnecting=!0,this.client.connect()),this.saveLocal&&window.addEventListener("storage",(function(a){t.log("%c[save]localStorage updated in other window ",p),t.onStorageUpdate.dispatch(JSON.parse(a.newValue))}),!1)}return e.prototype.log=function(e,t){this.debug&&console.log(e,t)},e})();t.a=c},function(e,t,a){"use strict";var o=a(91),n=a.n(o),i=a(0),r=a.n(i),s=a(1),l=a(117),d=a(286).w3cwebsocket,u=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"127.0.0.1",a=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1400,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];r()(this,e),this._onError=function(t){a.log("connectionError:",t),a.onError.dispatch(t)},this._onOpen=function(){a.debug&&a.log("connected"),a.onConnect.dispatch()},this._onClose=function(){a.log("connectionClosed"),a.onClose.dispatch()},this._onMessage=function(t){var e=null;e="string"==typeof t.data?t.data:JSON.parse(t.data),a.log("received:",e),a.onMessage.dispatch(e)},this.url="ws://"+t+":"+o,this.uid=l.a.generate(32),this.type="",this.debug=n,this.onConnect=new s.a,this.onError=new s.a,this.onClose=new s.a,this.onMessage=new s.a}return e.prototype.connect=function(){this.websocket=new d(this.url,"echo-protocol"),this.websocket.onerror=this._onError,this.websocket.onopen=this._onOpen,this.websocket.onclose=this._onClose,this.websocket.onmessage=this._onMessage},e.prototype.sendJson=function(e){this.websocket.send(e)},e.prototype.sendFast=function(e){this.websocket.send(e)},e.prototype.send=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=n()({msg:e,type:t,params:a});this.websocket.send(i)},e.prototype.log=function(e){this.debug&&console.log("ws."+e)},e})();t.a=u},function(e,t,a){function o(e,t){var a;return a=t?new i(e,t):new i(e),a}var n=(function(){return this})(),i=n.WebSocket||n.MozWebSocket,r=a(287);i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?o:null,version:r}},function(e,t,a){e.exports=a(288).version},function(e){e.exports={_args:[["websocket@^1.0.25","/Users/floz/Documents/projects/perso/digital/ddd2018"]],_from:"websocket@>=1.0.25 <2.0.0",_id:"websocket@1.0.25",_inCache:!0,_installable:!0,_location:"/websocket",_nodeVersion:"8.7.0",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/websocket-1.0.25.tgz_1508372613263_0.2284609314519912"},_npmUser:{email:"theturtle32@gmail.com",name:"theturtle32"},_npmVersion:"5.4.2",_phantomChildren:{},_requested:{name:"websocket",raw:"websocket@^1.0.25",rawSpec:"^1.0.25",scope:null,spec:">=1.0.25 <2.0.0",type:"range"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/websocket/-/websocket-1.0.25.tgz",_shasum:"998ec790f0a3eacb8b08b50a4350026692a11958",_shrinkwrap:null,_spec:"websocket@^1.0.25",_where:"/Users/floz/Documents/projects/perso/digital/ddd2018",author:{email:"brian@worlize.com",name:"Brian McKelvey",url:"https://www.worlize.com/"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},config:{verbose:!1},contributors:[{email:"ibc@aliax.net",name:"I\xF1aki Baz Castillo",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.0.1"},directories:{lib:"./lib"},dist:{integrity:"sha512-M58njvi6ZxVb5k7kpnHh2BvNKuBWiwIYvsToErBzWhvBZYwlEiLcyLrG41T1jRcrY9ettqPYEqduLI7ul54CVQ==",shasum:"998ec790f0a3eacb8b08b50a4350026692a11958",tarball:"https://registry.npmjs.org/websocket/-/websocket-1.0.25.tgz"},engines:{node:">=0.10.0"},gitHead:"d941f975e8ef6b55eafc0ef45996f4198013832c",homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",maintainers:[{email:"brian@worlize.com",name:"theturtle32"}],name:"websocket",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.25"}},function(e,t){"use strict";t.a=function(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}},function(e,t,a){var o=a(291);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".nodeEditor{position:absolute;top:50%;left:0;z-index:1000;transform:translateY(-50%);width:50%;max-width:500px;height:calc(100% - 40px);padding:5px;font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:10px}.nodeEditor.hide{display:none}.nodeEditor.minimize{height:20px;max-height:20px;overflow:hidden;transform:translate(0);top:20px}.nodeEditor canvas{z-index:-1;position:absolute;top:0;left:0;height:100%;width:100%;opacity:.7}.nodeEditor .headerbar input{padding:3px 5px;background:#555;border:none;font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:10px;letter-spacing:.1em;color:#bbb;border:1px solid #333}.nodeEditor .btn{cursor:pointer;display:inline-block;padding:4px 10px;background:rgba(0,0,0,.2);color:#aaa;letter-spacing:1px;border:1px solid #333;transition:all .5s ease-out;margin-bottom:2px;margin-right:2px}.nodeEditor .btn:hover{background:rgba(0,0,0,.6)}.nodeEditor .infos{border:1px solid #333;position:absolute;z-index:1;top:30px;left:5px;padding:5px;background:rgba(0,0,0,.2);line-height:16px;color:#aaa;letter-spacing:1px}.nodeEditor .infos.hide{display:none}.nodeEditor .infos .delete{margin-top:5px;padding:2px 10px;text-align:center;background:rgba(0,0,0,.2);border:1px solid #333;transition:all .2s;cursor:pointer;display:inline-block}.nodeEditor .infos .delete:hover{background:hsla(0,0%,39%,.2)}.nodeEditor .minimize{background:hsla(0,0%,100%,.5)}.nodeEditor .close,.nodeEditor .minimize{cursor:pointer;height:20px;width:20px;position:absolute;top:4px;right:-1px;z-index:3}.nodeEditor .close:after,.nodeEditor .close:before{content:\"\";width:10px;border:1px solid #3b3b3b;position:absolute;top:10px;border-radius:5px}.nodeEditor .close:before{transform:rotate(45deg)}.nodeEditor .close:after{transform:rotate(-45deg)}.nodeEditor .buttons{position:absolute;z-index:1;bottom:5px;left:5px}",""])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]="<div class='nodeEditor'>\n\t<div class='headerbar'>\n\t\t<div class='load btn'>load</div>\n\t\t<div class='save btn'>save</div>\n\t\t<input class='save-input' value='postfx' />\n\t\t<div class='clipboard btn'>to clipboard</div>\n\t\t<div class='clear btn'>clear</div>\n\t\t<div class='minimize'></div>\n\t</div>\n\t<div class='infos hide'>\n\t\t<div class='name'>NodeRandom</div>\n\t\t<div class='value'>value : 0</div>\n\t\t<div class='delete'>Delete</div>\n\t</div>\n\t<canvas></canvas>\n\t<div class='buttons'></div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"random"));return a.update=function(){a.value=Math.random(),a.contentEl.innerHTML="random:"+parseFloat(a.value).toFixed(5),a.valueNeedsUpdate=!0},a.createOutput("value","number"),a.value=Math.random(),a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"random")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=u},function(e,t,a){var o=a(295);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0},i;n.transform=i,n.insertInto=void 0;a(85)(o,n);o.locals&&(e.exports=o.locals),!1},function(e,t,a){t=e.exports=a(84)(!1),t.push([e.i,".node{position:absolute;top:0;left:0;z-index:1000;border:1px solid hsla(0,0%,100%,.6);border-radius:15px;width:120px;height:18px;padding:5px;background:rgba(167,167,255,.6);font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:10px;transition:background .2s;will-change:transform,background}.node.selected{background:rgba(210,210,255,.9)}.node .inputs,.node .outputs{display:flex;text-align:center;align-content:center;align-items:center;justify-content:space-around;flex-flow:row;width:100%;position:absolute}.node .inputs{top:-5px;left:0}.node .outputs{bottom:-5px;left:0}.node .input,.node .output{width:10px;height:10px;line-height:10px;position:relative;cursor:pointer}.node .input .circle,.node .output .circle{width:9px;height:9px;line-height:9px;border:1px solid #fff;border-radius:50%;background:#99f;transition:all .25s;pointer-events:none;will-change:transform background}.node .input span,.node .output span{position:absolute;top:0;left:5px;width:60px;transform:translate(-50%,-16px);text-align:center;color:#fff;opacity:0;will-change:opacity;transition:all .25s;pointer-events:none}.node .input .hitZone,.node .output .hitZone{width:40px;height:30px;background:red;position:absolute;opacity:0;top:-16px;left:-15px}.node .input:hover .circle,.node .output:hover .circle{transform:scale(1.5)}.node .input:hover span,.node .output:hover span{opacity:1}.node .input.highlight .circle,.node .output.highlight .circle{transform:scale(1.6);background:#6f6}.node .output span{transform:translate(-50%,20px)}.node .output .hitZone{top:-2px}.node .content{position:absolute;top:12px;left:50%;width:100%;text-align:center;transform:translate(-50%,-50%);font-size:10px}.node .content .label{color:#000;position:absolute;padding:1px 3px;height:13px;top:0;left:0;z-index:11;display:inline-block;pointer-events:none}",""])},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(1),l=a(82),d=(function(){function e(t,a,o){var i=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"any";n()(this,e),this.attachLink=function(e){i.link&&i.disconnect(),i.link=e,i.isPlugin?e.in=i:e.out=i,i.onChange.dispatch()},this.name=t,this.node=a,this.type=r,this.isPlugin=o,this.link=null,this.slot=0,this.dom=Object(l.b)("<div data-type='"+r+"' class='"+(o?"input":"output")+"'>\n\t\t\t<div class='circle'></div>\n\t\t\t<div class='hitZone'></div>\n\t\t\t<span>"+t+"</span>\n\t\t</div>"),this.onChange=new s.a}return e.prototype.detach=function(){this.link=null,this.onChange.dispatch()},e.prototype.disconnect=function(){if(this.link){var e=this.link;return this.link.disconnect(),e}},e.prototype.dispose=function(){this.disconnect(),this.name=null,this.node=null},e.prototype.serialize=function(){var e={name:this.name,isPlugin:this.isPlugin,type:this.type};return e},e.deserialize=function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new e(t.name,a,t.isPlugin,t.type)},r()(e,[{key:"value",get:function(){return this.isPlugin?this.link?this.link.value:null:this.node.value}}]),e})();t.a=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]="<div class='node'>\n\t<div class='content'>Node</div>\n\t<div class='inputs'></div>\n\t<div class='outputs'</div>\n</div>\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(18),p=a(118),c=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Volume"));return a.update=function(){a.value=parseFloat(u.a.volume).toFixed(6),a.progressBar.percent=u.a.volume},a.value=u.a.volume,a.type="number",a.contentEl.innerHTML="",a.progressBar=new p.a(100,13,!0),a.contentEl.appendChild(a.progressBar.dom),a.progressBar.dom.style.display="inline-block",a.contentEl.style.top="8px",a.contentEl.style.left="15px",a.contentEl.style.transform="initial",a.createOutput("volume","number"),a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"volume")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=c},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"multiple"));return a.update=function(){var e=a.value,t=parseFloat(a.input.value);a.value=a.isAllInputConnected()?a.inputs[0].value*t:1,a.valueNeedsUpdate=e!=a.value},a.createInput("value","number"),a.createOutput("result","number"),a.input=document.createElement("input"),a.input.value=3,a.input.type="number",a.input.style.width="50px",a.input.style.height="13px",a.input.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="x ",a.contentEl.appendChild(a.input),a}return l()(t,e),t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"x");return t.value=parseFloat(this.input.value),t},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a.input.value=a.value,a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(32),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"divide"));return a.update=function(){var e=a.value;if(a.isAllInputConnected()){var t=parseFloat(a.input.value);a.value=a.inputs[0].value/t}else a.value=1;a.valueNeedsUpdate=e!=a.value},a.createInput("value","number"),a.createOutput("result","number"),a.input=document.createElement("input"),a.input.value=10,a.input.type="number",a.input.style.width="50px",a.input.style.height="13px",a.input.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="/ ",a.contentEl.appendChild(a.input),a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"/")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"switchNode"));return a.update=function(){var e=a.value,t=a.contentEl.querySelector(".input1"),o=a.contentEl.querySelector(".input2");a.inputs[0].link&&t.setAttribute("value",a.inputs[0].value),a.inputs[1].link&&o.setAttribute("value",a.inputs[1].value);var n=parseFloat(t.value),i=parseFloat(o.value);a.value=n>i?1:0,a.valueNeedsUpdate=e!=a.value},a.createInput("value1","number"),a.createInput("value2","number"),a.createOutput("output[0 or 1]","number"),a.value=-1,a.input1=document.createElement("input"),a.input1.setAttribute("value",0),a.input1.className="input1",a.input1.type="number",a.input1.style.width="50px",a.input1.style.height="13px",a.input1.style.background="rgba(255,255,255,0.3)",a.input2=document.createElement("input"),a.input2.setAttribute("value",0),a.input2.className="input2",a.input2.type="number",a.input2.style.width="50px",a.input2.style.height="13px",a.input2.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="",a.contentEl.appendChild(a.input1),a.contentEl.innerHTML+=" > ",a.contentEl.appendChild(a.input2),a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,">")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"switchNode"));return a.update=function(){var e=a.value,t=a.contentEl.querySelector(".input1"),o=a.contentEl.querySelector(".input2");a.inputs[0].link&&t.setAttribute("value",a.inputs[0].value),a.inputs[1].link&&o.setAttribute("value",a.inputs[1].value);var n=parseFloat(t.value),i=parseFloat(o.value);a.value=n>=i?1:0,a.valueNeedsUpdate=e!=a.value},a.createInput("value1","number"),a.createInput("value2","number"),a.createOutput("output[0 or 1]","number"),a.value=-1,a.input1=document.createElement("input"),a.input1.setAttribute("value",0),a.input1.className="input1",a.input1.type="number",a.input1.style.width="50px",a.input1.style.height="13px",a.input1.style.background="rgba(255,255,255,0.3)",a.input2=document.createElement("input"),a.input2.setAttribute("value",0),a.input2.className="input2",a.input2.type="number",a.input2.style.width="50px",a.input2.style.height="13px",a.input2.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="",a.contentEl.appendChild(a.input1),a.contentEl.innerHTML+=" >= ",a.contentEl.appendChild(a.input2),a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,">=")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"switchNode"));return a.update=function(){var e=a.value;a.isAllInputConnected()?a.value=.5>parseFloat(a.inputs[2])?a.inputs[0].value:a.inputs[1].value:a.inputs[0].link&&.5>parseFloat(a.inputs[2].value)?a.value=a.inputs[0].value:a.inputs[1].link&&.5<=parseFloat(a.inputs[2].value)&&(a.value=a.inputs[1].value),a.valueNeedsUpdate=e!=a.value},a.createInput("value1","any"),a.createInput("value2","any"),a.createInput("[0 or 1]","number"),a.createOutput("selected value","any"),a.value=null,a.contentEl.innerHTML="Switch [0-1]",a}return l()(t,e),t.prototype.getParentNodes=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null==e&&(e=[]),-1==e.indexOf(this)){if(e.push(this),this.isAllInputConnected()){var t=.5>parseFloat(this.inputs[2].value)?this.inputs[0]:this.inputs[1];this.addNodeFromInput(t,e)}else this.inputs[0].link&&.5>parseFloat(this.inputs[2].value)?this.addNodeFromInput(this.inputs[0],e):this.inputs[1].link&&.5<=parseFloat(this.inputs[2].value)&&this.addNodeFromInput(this.inputs[1],e);return e}},t.prototype.addNodeFromInput=function(e,t){var a=e.link.out.node;a.getParentNodes(t)},t.prototype.serialize=function(){return e.prototype.serialize.call(this,"switch")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"add"));return a.update=function(){var e=a.value,t=parseFloat(a.input.value);a.value=a.isAllInputConnected()?parseFloat(a.inputs[0].value)+t:t,a.valueNeedsUpdate=e!=a.value},a.createInput("value","number"),a.createOutput("result","number"),a.input=document.createElement("input"),a.input.value=1,a.input.type="number",a.input.style.width="50px",a.input.style.height="13px",a.input.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="+ ",a.contentEl.appendChild(a.input),a}return l()(t,e),t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"+");return t.value=parseFloat(this.input.value),t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.input.value=a.value,a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"sub"));return a.update=function(){var e=a.value,t=parseFloat(a.input.value);a.value=a.isAllInputConnected()?a.inputs[0].value-t:-t,a.valueNeedsUpdate=e!=a.value},a.createInput("value","number"),a.createOutput("result","number"),a.input=document.createElement("input"),a.input.value=1,a.input.type="number",a.input.style.width="50px",a.input.style.height="13px",a.input.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="- ",a.contentEl.appendChild(a.input),a}return l()(t,e),t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"-");return t.value=parseFloat(this.input.value),t},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a.input.value=a.value,a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(32),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"multiple"));return a.update=function(){var e=a.value;a.value=a.isAllInputConnected()?Object(u.a)(a.inputs[0].value):1,a.valueNeedsUpdate=a.value!=e},a.createInput("value","number"),a.createOutput("result","number"),a.contentEl.innerHTML="clamp[0-1]",a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"clamp")},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"add"));return a.update=function(){var e=a.value;a.value=parseFloat(a.input.value),a.valueNeedsUpdate=e!=a.value},a.createOutput("result","number"),a.input=document.createElement("input"),a.input.value=1,a.input.type="number",a.input.style.width="50px",a.input.style.height="13px",a.input.style.background="rgba(255,255,255,0.3)",a.contentEl.innerHTML="+ ",a.contentEl.appendChild(a.input),a}return l()(t,e),t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"n");return t.value=parseFloat(this.input.value),t},t.deserialize=function(e){var a=new t;return a.baseDeserialize(e),a.input.value=a.value,a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(17),n=a.n(o),i=a(0),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(78),c=a(309),m=(function(e){function t(){r()(this,t);var a=l()(this,e.call(this,"ComputeNode","pass"));return a.createInput("input Pass","pass"),a.createOutput("output Computed Pass","pass"),a.isPostfxNode=!0,a.isComputed=!0,a.color="#AA3",a.pass=new c.a,a}return u()(t,e),t.prototype.update=function(){for(var e=this.getParentNodes([],!0),t=!1,a=e,o=Array.isArray(a),i=0,a=o?a:n()(a);;){var r;if(o){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var s=r;if(s.isPlugDirty){t=!0;break}}if(!t)return void this.pass.updateUniforms();this.pass.passes=[];for(var l=e,d=Array.isArray(l),u=0,l=d?l:n()(l);;){var p;if(d){if(u>=l.length)break;p=l[u++]}else{if(u=l.next(),u.done)break;p=u.value}var c=p;c!=this&&c.isPostfxNode&&this.pass.passes.push(c.pass)}this.pass.compute()},t.prototype.getParentNodes=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return a?e.prototype.getParentNodes.call(this,t):(t.push(this),t)},t.prototype.serialize=function(){return e.prototype.serialize.call(this,"compute")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(p.a);t.a=m},function(e,t,a){"use strict";(function(e){var o=a(17),n=a.n(o),i=a(0),r=a.n(i),s={uniform:/(uniform ?\w* \w* (\w*);)/gi,varying:/(varying .*);/gi,attribute:/(attribute .*);/gi,include:/(#include \<.*\>)/gi,define:/(#define .*)/gi,constant:/(const .*)/gi,fn:/[a-zA-Z0-9]+\s*[a-zA-Z0-9]+\s*\(\s*([a-zA-Z0-9]*\s*[a-zA-Z0-9]{0,16},*)*\s*\)\s*\{(?:[^}{]+|\{(?:[^}{]+|\{[^}{]*\})*\})*\}/gi,main:/void\s*main\s*\(\s*[a-zA-Z0-9]*\s*[a-zA-Z0-9]{0,16}\s*\)\s*\{(?:[^}{]+|\{(?:[^}{]+|\{[^}{]*\})*\})*\}/mi},l=(function(){function t(){r()(this,t),this.passes=[],this.isDirty=!0,this.time=0}return t.prototype.compute=function(){this.uniforms=this.basicUniforms(),this.fs=this.computeFragment(),this.material&&this.material.dispose(),this.material=new e.RawShaderMaterial({fragmentShader:this.fs,vertexShader:"\n\t\t\t\tprecision highp float;\n\t\t\t\tuniform mat4 projectionMatrix;\n\t\t\t\tuniform mat4 modelViewMatrix;\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}\t\n\t\t\t",uniforms:this.uniforms,flatShading:!0,depthWrite:!1,depthTest:!1,transparent:!1}),this.enabled=!0},t.prototype.basicUniforms=function(){return{resolution:{type:"v2",value:new e.Vector2(1,1)},time:{type:"f",value:Date.now()},tInput:{type:"t",value:null},tDepth:{type:"t",value:null}}},t.prototype.computeFragment=function(){var e="precision highp float;\n",t=[],o=[],r=[],s=[],l=["varying vec2 vUv;"],d=["uniform sampler2D tInput;","uniform sampler2D tDepth;","uniform float time;","uniform vec2 resolution;"];this.mapUniforms=[];var c=[];this.passes.reverse();for(var m=0,i;m<this.passes.length;m++){i=this.passes[m],0==m||i.canCompute||console.warn(i.name+" cant be compute or will give bad effects, use it after the computePass or as first node of the computePass"),this.mergeVariables("include",t,i.fragmentShader),this.mergeVariables("varying",l,i.fragmentShader),this.mergeVariables("attribute",s,i.fragmentShader),this.mergeVariables("define",o,i.fragmentShader),this.mergeVariables("constant",r,i.fragmentShader);for(var f=this.getUniformsFS(i),g=i.fragmentShader,h=i.name+m+"_",y=f,b=Array.isArray(y),w=0,y=b?y:n()(y);;){var _;if(b){if(w>=y.length)break;_=y[w++]}else{if(w=y.next(),w.done)break;_=w.value}var S=_;g=g.replace(new RegExp(S,"g"),h+S),this.uniforms[h+S]=i.material.uniforms[S],this.mapUniforms.push({pass:i,uniformUsed:h+S,uniformOriginal:S})}this.mergeVariables("uniform",d,g),this.mergeFunctions(c,m,g)}for(var M=t,D=Array.isArray(M),C=0,M=D?M:n()(M);;){var k;if(D){if(C>=M.length)break;k=M[C++]}else{if(C=M.next(),C.done)break;k=C.value}var I=k;e+=I+"\n"}e+="\n";for(var v=o,P=Array.isArray(v),A=0,v=P?v:n()(v);;){var z;if(P){if(A>=v.length)break;z=v[A++]}else{if(A=v.next(),A.done)break;z=A.value}var T=z;e+=T+"\n"}e+="\n";for(var U=r,O=Array.isArray(U),E=0,U=O?U:n()(U);;){var L;if(O){if(E>=U.length)break;L=U[E++]}else{if(E=U.next(),E.done)break;L=E.value}var N=L;e+=N+"\n"}e+="\n";for(var F=l,B=Array.isArray(F),R=0,F=B?F:n()(F);;){var V;if(B){if(R>=F.length)break;V=F[R++]}else{if(R=F.next(),R.done)break;V=R.value}var H=V;e+=H+"\n"}e+="\n";for(var j=s,W=Array.isArray(j),Y=0,j=W?j:n()(j);;){var q;if(W){if(Y>=j.length)break;q=j[Y++]}else{if(Y=j.next(),Y.done)break;q=Y.value}var G=q;e+=G+"\n"}e+="\n";for(var a=d,X=Array.isArray(a),Z=0,a=X?a:n()(a);;){var $;if(X){if(Z>=a.length)break;$=a[Z++]}else{if(Z=a.next(),Z.done)break;$=Z.value}var K=$;e+=K+"\n"}e+="\n";for(var u=c,J=Array.isArray(u),Q=0,u=J?u:n()(u);;){var ee;if(J){if(Q>=u.length)break;ee=u[Q++]}else{if(Q=u.next(),Q.done)break;ee=Q.value}var te=ee;e+=te+"\n\n"}e+="void main(){\n",e+="vec4 color = texture2D(tInput, vUv);\n";for(var ae=0;ae<this.passes.length;ae++)e+="main"+ae+"(color);\n";return e+="gl_FragColor = color;\n",e+="}",e},t.prototype.mergeVariables=function(e,t,a){for(var o=s[e],n=null;n=o.exec(a);)-1==t.indexOf(n[0])&&t.push(n[0])},t.prototype.getUniformsFS=function(e){for(var t=[],a=s.uniform,o=null;o=a.exec(e.fragmentShader);)"tDepth"!=o[2]&&"tInput"!=o[2]&&"time"!=o[2]&&"resolution"!=o[2]&&t.push(o[2]);return t},t.prototype.mergeFunctions=function(e,t,a){for(var o=s.fn,n=null;n=o.exec(a);)n[0]=n[0].replace("void main()","void main"+t+"(inout vec4 computedColor)"),n[0]=n[0].replace(/gl_FragColor/gi,"computedColor"),n[0]=n[0].replace(/texture2D\(tInput, vUv\)/gi,"computedColor"),-1==e.indexOf(n[0])&&e.push(n[0])},t.prototype.updateUniforms=function(){if(this.mapUniforms)for(var e=this.mapUniforms,t=Array.isArray(e),a=0,e=t?e:n()(e);;){var o;if(t){if(a>=e.length)break;o=e[a++]}else{if(a=e.next(),a.done)break;o=a.value}var i=o;this.uniforms[i.uniformUsed].value=i.pass.material.uniforms[i.uniformOriginal].value}},t.prototype.update=function(){this.isDirty&&this.compute()},t.prototype.log=function(){console.log("//----------------------- COMPUTED"),console.log(this.fs)},t})();t.a=l}).call(t,a(28))},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"toScreen"));return a.color="#CAA",a.createInput("pass","pass"),a}return l()(t,e),t.prototype.update=function(){},t.prototype.serialize=function(){return e.prototype.serialize.call(this,"toScreen")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(d.a);t.a=u},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(312),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"FXAA"));return a.value=1,a.createInput("input Pass","pass"),a.createOutput("output Pass","pass"),a.isPostfxNode=!0,a.pass=new u.a,a}return l()(t,e),t.prototype.update=function(){},t.prototype.serialize=function(){return e.prototype.serialize.call(this,"fxaa")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(80),u=(function(e){function t(){n()(this,t);var o=r()(this,e.call(this,"FXAAPass",a(313),{}));return o.canCompute=!1,o}return l()(t,e),t})(d.a);t.a=u},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\n#define FXAA_REDUCE_MIN   (1.0/128.0)\n#define FXAA_REDUCE_MUL   (1.0/8.0)\n#define FXAA_SPAN_MAX     8.0\n\nvoid main() {\n\n    vec2 res = 1. / resolution;\n\n    vec3 rgbNW = texture2D( tInput, ( vUv.xy + vec2( -1.0, -1.0 ) * res ) ).xyz;\n    vec3 rgbNE = texture2D( tInput, ( vUv.xy + vec2( 1.0, -1.0 ) * res ) ).xyz;\n    vec3 rgbSW = texture2D( tInput, ( vUv.xy + vec2( -1.0, 1.0 ) * res ) ).xyz;\n    vec3 rgbSE = texture2D( tInput, ( vUv.xy + vec2( 1.0, 1.0 ) * res ) ).xyz;\n    vec4 rgbaM  = texture2D( tInput,  vUv.xy  * res );\n    vec3 rgbM  = rgbaM.xyz;\n    vec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n    float lumaNW = dot( rgbNW, luma );\n    float lumaNE = dot( rgbNE, luma );\n    float lumaSW = dot( rgbSW, luma );\n    float lumaSE = dot( rgbSE, luma );\n    float lumaM  = dot( rgbM,  luma );\n    float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n    float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n\n    float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n    dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),\n          max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                dir * rcpDirMin)) * res;\n    vec4 rgbA = (1.0/2.0) * (\n    texture2D(tInput,  vUv.xy + dir * (1.0/3.0 - 0.5)) +\n    texture2D(tInput,  vUv.xy + dir * (2.0/3.0 - 0.5)));\n    vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (\n    texture2D(tInput,  vUv.xy + dir * (0.0/3.0 - 0.5)) +\n    texture2D(tInput,  vUv.xy + dir * (3.0/3.0 - 0.5)));\n    float lumaB = dot(rgbB, vec4(luma, 0.0));\n\n    if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {\n        gl_FragColor = rgbA;\n    } else {\n        gl_FragColor = rgbB;\n    }\n\n    //gl_FragColor = vec4( texture2D( tInput,vUv ).xyz, 1. );\n}"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(315),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"BWNode","pass"));return a.createInput("input Pass","pass"),a.createInput("percent","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?(this.value=this.inputs[1].value,this.progressBar.percent=this.value):e.prototype.update.call(this,t),this.pass.percent=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"bw");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return n()(this,t),l()(this,e.call(this,"BWPass",a(316),{percent:{value:o}}))}return u()(t,e),r()(t,[{key:"percent",get:function(){return this.uniforms.percent.value},set:function(e){this.uniforms.percent.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float percent;\n\nvoid main() {\n\tvec3 rgb = texture2D(tInput, vUv).rgb;\n\n\trgb = mix(rgb,vec3( dot( rgb, vec3( .299, 0.587, 0.114 ) ) ), percent);\n\n\tgl_FragColor = vec4(rgb, 1.);\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return n()(this,t),l()(this,e.call(this,"GammaPass",a(318),{gamma:{value:o}}))}return u()(t,e),r()(t,[{key:"gamma",get:function(){return this.uniforms.gamma.value},set:function(e){this.uniforms.gamma.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float gamma;\n\nvec3 toGamma( vec3 rgb ) {\n  return pow( rgb, vec3( 1.0 / gamma ) );\n}\n\nvoid main() {\n\tgl_FragColor = vec4(toGamma( texture2D(tInput, vUv).rgb ), 1.);\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(320),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"BrightnessNode","pass"));return a.createInput("input Pass","pass"),a.createInput("brightness","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=.5,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?(this.value=this.inputs[1].value,this.pass.brightness=this.value):(e.prototype.update.call(this,t),this.pass.brightness=2*this.value-1),this.progressBar.percent=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"brightness");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return n()(this,t),l()(this,e.call(this,"Brightness",a(321),{brightness:{value:o}}))}return u()(t,e),r()(t,[{key:"brightness",get:function(){return this.uniforms.brightness.value},set:function(e){this.uniforms.brightness.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float brightness;\n\nvoid main() {\n\tvec3 rgb = texture2D(tInput, vUv).rgb + vec3( brightness );\n\tgl_FragColor = vec4(rgb, 1.);\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(323),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"InvertNode","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?this.value=this.inputs[1].value:e.prototype.update.call(this,t),this.progressBar.percent=this.value,this.pass.invertRatio=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"invert");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return n()(this,t),l()(this,e.call(this,"InvertPass",a(324),{invertRatio:{value:o}}))}return u()(t,e),r()(t,[{key:"invertRatio",get:function(){return this.uniforms.invertRatio.value},set:function(e){this.uniforms.invertRatio.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float invertRatio;\n\nvoid main() {\n\tvec3 rgb = texture2D(tInput, vUv).rgb;\n\tgl_FragColor = vec4(mix(rgb, (1. - rgb), invertRatio), 1.);\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return n()(this,t),l()(this,e.call(this,"ContrastPass",a(326),{contrast:{value:o}}))}return u()(t,e),r()(t,[{key:"contrast",get:function(){return this.uniforms.contrast.value},set:function(e){this.uniforms.contrast.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float contrast;\n\nvoid main() {\n\tvec3 rgb = (texture2D(tInput, vUv).rgb - .5) * contrast + .5;\n\n\tgl_FragColor = vec4(rgb, 1.);\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=a(5),m=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{amount:.1,speed:.1};n()(this,t);var i=l()(this,e.call(this,"NoisePass",a(328),{amount:{type:"f",value:o.amount},timeClamp:{type:"f",value:0}}));return i.update=function(e){i.uniforms.timeClamp.value+=.001*(e*i.speed),i.uniforms.timeClamp.value%=.1},i.speed=1,c.a.onUpdate.add(i.update),i}return u()(t,e),r()(t,[{key:"amount",get:function(){return this.uniforms.amount.value},set:function(e){this.uniforms.amount.value=e}}]),t})(p.a);t.a=m},function(e){e.exports="uniform sampler2D tInput;\nuniform float amount;\nuniform float timeClamp;\nvarying vec2 vUv;\n\nfloat random(vec2 n, float offset ){\n\treturn .5 - fract(sin(dot(n.xy + vec2( offset, 0. ), vec2(12.9898, 78.233)))* 43758.5453);\n}\n\nvoid main() {\n\tgl_FragColor = texture2D(tInput, vUv) + vec4( vec3( amount * random( vUv, timeClamp ) ), 1. );\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(86),u=a(330),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Sepia","pass"));return a.createInput("input Pass","pass"),a.createInput("amount","number"),a.isPostfxNode=!0,a.pass=new u.a,a.value=a.progressBar.percent=1,a}return l()(t,e),t.prototype.update=function(t){this.inputs[1].link?this.value=this.inputs[1].value:e.prototype.update.call(this,t),this.progressBar.percent=this.value,this.pass.amount=this.value},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this,"sepia");return t.value=this.progressBar.percent,t},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a.progressBar.percent=e.value,a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return n()(this,t),l()(this,e.call(this,"SepiaPass",a(331),{amount:{type:"f",value:o}}))}return u()(t,e),r()(t,[{key:"amount",get:function(){return this.uniforms.amount.value},set:function(e){this.uniforms.amount.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform float amount;\nvarying vec2 vUv;\n\nvoid main() {\n\tvec4 color = texture2D(tInput, vUv);\n\tfloat r = color.r;\n\tfloat g = color.g;\n\tfloat b = color.b;\n\t\n\tcolor.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\n\tcolor.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\n\tcolor.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\n\t\n\tgl_FragColor = color;\n}"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(333),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"SSAO"));return a.update=function(){a.pass.aoClamp=a.inputs[1].link?a.inputs[1].value:.25,a.pass.lumInfluence=a.inputs[2].link?a.inputs[2].value:.7},a.createInput("input Pass","pass"),a.createInput("aoClamp","number"),a.createInput("lumInfluence","number"),a.createOutput("output Pass","pass"),a.isPostfxNode=!0,a.pass=new u.a,a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"ssao")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(122),n=a.n(o),i=a(87),r=a.n(i),s=a(0),l=a.n(s),d=a(77),u=a.n(d),p=a(75),c=a.n(p),m=a(76),v=a.n(m),f=a(80),g=a(79),h=(function(e){function t(o){l()(this,t);var i={radius:4,onlyAO:!1,aoClamp:.25,lumInfluence:.7,cameraNear:g.a.camera.near,cameraFar:g.a.camera.far,tDepth:null},s={};return r()(i,o),n()(i).map((function(e){s[e]={value:i[e]}})),c()(this,e.call(this,"SSAOPass",a(337),s))}return v()(t,e),u()(t,[{key:"aoClamp",get:function(){return this.uniforms.aoClamp.value},set:function(e){this.uniforms.aoClamp.value=e}},{key:"lumInfluence",get:function(){return this.uniforms.lumInfluence.value},set:function(e){this.uniforms.lumInfluence.value=e}}]),t})(f.a);t.a=h},function(e,t,a){a(335),e.exports=a(10).Object.keys},function(e,t,a){var o=a(37),n=a(34);a(336)("keys",(function(){return function(e){return n(o(e))}}))},function(e,t,a){var o=a(30),n=a(10),i=a(19);e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],r={};r[e]=t(a),o(o.S+o.F*i((function(){a(1)})),"Object",r)}},function(e){e.exports="uniform sampler2D tInput;\nuniform sampler2D tDepth;\nuniform float radius;\nuniform bool onlyAO;\nuniform float aoClamp;\nuniform float lumInfluence;\nuniform vec2 resolution;\nuniform float cameraNear;\nuniform float cameraFar;\n\nvarying vec2 vUv;\n\n#define DL 2.399963229728653 // PI * ( 3.0 - sqrt( 5.0 ) )\n#define EULER 2.718281828459045\n\nconst int samples = 16;\nconst bool useNoise = false;\nconst float noiseAmount = 0.0004;\nconst float diffArea = 0.1;\nconst float gDisplace = 0.5;\n\n#include <packing>\n\nvec2 rand( vec2 coord ) {\n\tvec2 noise;\n\tif ( useNoise ) {\n\t\tfloat nx = dot ( coord, vec2( 12.9898, 78.233 ) );\n\t\tfloat ny = dot ( coord, vec2( 12.9898, 78.233 ) * 2.0 );\n\t\tnoise = clamp( fract ( 43758.5453 * sin( vec2( nx, ny ) ) ), 0.0, 1.0 );\n\t} \n\telse \n\t{\n\t\tfloat ff = fract( 1.0 - coord.s * ( resolution.x / 2.0 ) );\n\t\tfloat gg = fract( coord.t * ( resolution.y / 2.0 ) );\n\t\tnoise = vec2( 0.25, 0.75 ) * vec2( ff ) + vec2( 0.75, 0.25 ) * gg;\n\t}\n\treturn ( noise * 2.0  - 1.0 ) * noiseAmount;\n}\n\n\nfloat readDepth (vec2 coord) {\n\tfloat fragCoordZ = texture2D(tDepth, coord).x;\n\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\n\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\n}\n\n\nfloat compareDepths( in float depth1, in float depth2, inout int far ) {\n\tfloat garea = 8.0;                         // gauss bell width\n\tfloat diff = ( depth1 - depth2 ) * 100.0;  // depth difference (0-100)\n\n\t// reduce left bell width to avoid self-shadowing\n\tif ( diff < gDisplace ) {\n\t\tgarea = diffArea;\n\t} else {\n\t\tfar = 1;\n\t}\n\tfloat dd = diff - gDisplace;\n\tfloat gauss = pow( EULER, -2.0 * ( dd * dd ) / ( garea * garea ) );\n\treturn gauss;\n}\n\n\nfloat calcAO( float depth, float dw, float dh ) {\n\tvec2 vv = vec2( dw, dh );\n\tvec2 coord1 = vUv + radius * vv;\n\tvec2 coord2 = vUv - radius * vv;\n\n\tint far = 0;\n\tfloat temp1 = compareDepths( depth, readDepth( coord1 ), far );\n\n\t// DEPTH EXTRAPOLATION\n\tif ( far > 0 ) {\n\t\tfloat temp2 = compareDepths( readDepth( coord2 ), depth, far );\n\t\ttemp1 += ( 1.0 - temp1 ) * temp2;\n\t}\n\treturn temp1;\n}\n\nvoid main() {\n\tvec2 noise = rand(vUv);\n\tfloat depth = readDepth( vUv );\n\n\tfloat tt = clamp( depth, aoClamp, 1.0 );\n\n\tfloat w = ( 1.0 / resolution.x ) / tt + ( noise.x * ( 1.0 - noise.x ) );\n\tfloat h = ( 1.0 / resolution.y ) / tt + ( noise.y * ( 1.0 - noise.y ) );\n\n\tfloat ao = 0.0;\n\n\tfloat dz = 1.0 / float( samples );\n\tfloat l = 0.0;\n\tfloat z = 1.0 - dz / 2.0;\n\n\tfor ( int i = 0; i <= samples; i ++ ) {\n\t\tfloat r = sqrt( 1.0 - z );\n\t\tfloat pw = cos( l ) * r;\n\t\tfloat ph = sin( l ) * r;\n\t\tao += calcAO( depth, pw * w, ph * h );\n\t\tz = z - dz;\n\t\tl = l + DL;\n\t}\n\n\tao = 1.0 - ao / float( samples );\n\n\tvec3 color = texture2D( tInput, vUv ).rgb;\n\tvec3 lumcoeff = vec3( 0.299, 0.587, 0.114 );\n\tfloat lum = dot( color.rgb, lumcoeff );\n\tvec3 luminance = vec3( lum );\n\t\n\t// mix( color * ao, white, luminance )\n\tvec3 final = vec3( color * mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );  \n\n\t// if ( onlyAO ) {\n\t// \tfinal = vec3( mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );\n\t// }\n\t\n\t//depth attenuation ( less ao in background )\n\tfinal = mix(color,final,1.-smoothstep(0.,0.8,depth));\n\tgl_FragColor = vec4(final, 1.0 );\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(339),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Depth"));return a.update=function(){},a.value=1,a.createInput("input Pass","pass"),a.createOutput("output Pass","pass"),a.isPostfxNode=!0,a.pass=new u.a,a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"depth")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(122),n=a.n(o),i=a(87),r=a.n(i),s=a(0),l=a.n(s),d=a(75),u=a.n(d),p=a(76),c=a.n(p),m=a(80),v=a(79),f=(function(e){function t(o){l()(this,t);var i={cameraNear:v.a.camera.near,cameraFar:v.a.camera.far,tDepth:null},s={};return r()(i,o),n()(i).map((function(e){s[e]={value:i[e]}})),u()(this,e.call(this,"DepthPass",a(340),s))}return c()(t,e),t})(m.a);t.a=f},function(e){e.exports="#include <packing>\n\nvarying vec2 vUv;\nuniform sampler2D tInput;\nuniform sampler2D tDepth;\nuniform float cameraNear;\nuniform float cameraFar;\n\nfloat readDepth (sampler2D depthSampler, vec2 coord) {\n\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\n\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\n\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\n}\n\nvoid main() {\n\tvec3 diffuse = texture2D(tInput, vUv).rgb;\n\tfloat depth = readDepth(tDepth, vUv);\n\tgl_FragColor.rgb = vec3(depth);\n\tgl_FragColor.a = 1.0;\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(78),u=a(342),p=(function(e){function t(){n()(this,t);var a=r()(this,e.call(this,"Bloom"));return a.update=function(){a.pass.kernel=a.inputs[1].link?a.inputs[1].value:.5,a.pass.scale=a.inputs[2].link?parseFloat(a.inputs[2].value):1,a.pass.thresh=a.inputs[3].link?parseFloat(a.inputs[3].value):1},a.createInput("input Pass","pass"),a.createInput("kernel","number"),a.createInput("scale","number"),a.createInput("thresh","number"),a.createOutput("output Pass","pass"),a.isPostfxNode=!0,a.pass=new u.a,a}return l()(t,e),t.prototype.serialize=function(){return e.prototype.serialize.call(this,"bloom")},t.deserialize=function(e){var a=new t(e.name);return a.baseDeserialize(e),a},t})(d.a);t.a=p},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){return n()(this,t),l()(this,e.call(this,"Bloom2Pass",a(343),{kernel:{value:.005},scale:{value:1},thresh:{value:1}}))}return u()(t,e),r()(t,[{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"kernel",get:function(){return this.uniforms.kernel.value},set:function(e){this.uniforms.kernel.value=e/100}},{key:"thresh",get:function(){return this.uniforms.thresh.value},set:function(e){this.uniforms.thresh.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="varying vec2 vUv;\nuniform sampler2D tInput;\nuniform float kernel;\nuniform float scale;\nuniform float thresh;\n\nvoid main()\n{\n    vec4 sum = vec4(0);\n    int j=-2;\n    for( int i=-2; i<=2; i++) sum+=texture2D(tInput,vUv+vec2(i,j)*kernel);\n    j=-1;\n    for( int i=-2; i<=2; i++) sum+=texture2D(tInput,vUv+vec2(i,j)*kernel);\n    j=0;\n    for( int i=-2; i<=2; i++) sum+=texture2D(tInput,vUv+vec2(i,j)*kernel);\n    j=1;\n    for( int i=-2; i<=2; i++) sum+=texture2D(tInput,vUv+vec2(i,j)*kernel);\n    j=2;\n    for( int i=-2; i<=2; i++) sum+=texture2D(tInput,vUv+vec2(i,j)*kernel);\n    sum/=25.0;\n\n    vec4 s=texture2D(tInput, vUv);\n    gl_FragColor= s + sum * scale;\n}\n"},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(77),r=a.n(i),s=a(75),l=a.n(s),d=a(76),u=a.n(d),p=a(80),c=(function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.38,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.05;return n()(this,t),l()(this,e.call(this,"VignettePass",a(345),{amount:{type:"f",value:o},falloff:{type:"f",value:i}}))}return u()(t,e),r()(t,[{key:"amount",get:function(){return this.uniforms.amount.value},set:function(e){this.uniforms.amount.value=e}},{key:"falloff",get:function(){return this.uniforms.falloff.value},set:function(e){this.uniforms.falloff.value=e}}]),t})(p.a);t.a=c},function(e){e.exports="uniform sampler2D tInput;\nuniform float amount;\nuniform float falloff;\nvarying vec2 vUv;\n\nvoid main() {\n\tgl_FragColor = vec4(texture2D(tInput, vUv).rgb * smoothstep(0.8, falloff * 0.799, distance(vUv, vec2(0.5, 0.5)) * (amount + falloff)),1.);\n}\n"},function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(75),r=a.n(i),s=a(76),l=a.n(s),d=a(31),u=a(29),p=a(83),c=a(18),m=(function(){var t=1,a=new e.CylinderGeometry(1,1,t,16,2,!0,Math.PI/4),o=a.clone(),n=a.clone(),i=new e.Matrix4().makeTranslation(0,t/2,0);return a.applyMatrix(i),a})(),v=(function(t){function o(i,s,l,c){n()(this,o);var v=new e.Texture(d.a.images.myst_mask2);v.needsUpdate=!0;var f=new e.Texture(d.a.images["001"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping);f.needsUpdate=!0;var g=new e.Texture(d.a.images["002"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping);g.needsUpdate=!0;var h=new e.Texture(d.a.images["002"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping);h.needsUpdate=!0;var y=new e.RawShaderMaterial({vertexShader:a(124),fragmentShader:a(347),depthWrite:!1,uniforms:{opacity:{type:"f",value:.3},time:{type:"f",value:0},tresh:{type:"f",value:0},mask:{type:"t",value:v},texture1:{type:"t",value:f},texture2:{type:"t",value:g},texture3:{type:"t",value:h}},transparent:!0,blending:e.AdditiveBlending,side:e.DoubleSide}),b=r()(this,t.call(this,m,y));return b.onStart=function(){},b.onDarknessChange=function(e){TweenLite.killTweensOf(b,!1),1==e?TweenLite.to(b,1.7,{delay:b.delayIn,globalOpacity:1,ease:Power2.easeIn}):TweenLite.to(b,.8,{delay:.2,globalOpacity:0,ease:Cubic.easeInOut})},b.renderOrder=3,b.frustumCulled=!1,b.opacity=c,b.globalOpacity=0,b.baseX=i,b.baseZ=s,b.baseY=l,b.scale.set(b.baseX,b.baseY,b.baseZ),p.a.add(b,"scale",0,8e3),b.delayIn=.05,u.a.onDarknessChange.add(b.onDarknessChange),u.a.onStart.add(b.onStart),b}return l()(o,t),o.prototype.update=function(e){this.visible=0!=this.globalOpacity,this.time+=.3*e+50*c.a,this.material.uniforms.time.value+=e/1e3,this.material.uniforms.opacity.value=this.globalOpacity*this.opacity,this.material.uniforms.tresh.value=this.globalOpacity},o})(e.Mesh);t.a=v}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform float opacity;\nuniform float tresh;\nuniform float time;\nuniform sampler2D mask;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform sampler2D texture3;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\tvec3 color = texture2D(texture1,vec2(vUv.x,vUv.y-time)).rgb*.33;\n\tcolor += texture2D(texture2,vec2(vUv.x,vUv.y-time*0.3)).rgb*.33;\n\tcolor += texture2D(texture3,vec2(vUv.x,vUv.y-time*0.1)).rgb*.33;\n\tcolor *= texture2D(mask,vUv).rgb;\n\tfloat y = vUv.y+.4;\n\tgl_FragColor = vec4(color, smoothstep(y,y+.1,tresh)*opacity);\n}\n"},function(e,t,a){"use strict";var o=Math.PI;(function(e){var n=a(0),i=a.n(n),r=a(75),s=a.n(r),l=a(76),d=a.n(l),u=a(31),p=a(29),c=(function(){var t=1800,a=500,n=new e.PlaneGeometry(t,a),i=new e.PlaneGeometry(t,a),r=new e.PlaneGeometry(t,a),s=new e.Matrix4().makeTranslation(t/2,a/2,0),l=new e.Matrix4().makeRotationY(o/2);return n.applyMatrix(s),i.applyMatrix(new e.Matrix4().makeRotationX(o/3)),i.applyMatrix(s),r.applyMatrix(new e.Matrix4().makeRotationX(-o/3)),r.applyMatrix(s),n.applyMatrix(l),i.applyMatrix(l),r.applyMatrix(l),n.merge(i),n.merge(r),n})(),m=(function(t){function o(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;i()(this,o);var r=s()(this,t.call(this));r.onStart=function(){TweenLite.to(r,2,{delay:.8,globalOpacity:1,ease:Cubic.easeOut})},r.onDarknessChange=function(e){TweenLite.killTweensOf(r,!1),1==e?TweenLite.to(r,1,{globalOpacity:0,ease:Cubic.easeIn}):TweenLite.to(r,2,{delay:2,globalOpacity:1,ease:Cubic.easeOut})},r.str=n;var l=new e.Texture(u.a.images.light);l.needsUpdate=!0;var d=new e.Texture(u.a.images["002"],null,e.MirroredRepeatWrapping,e.MirroredRepeatWrapping);d.needsUpdate=!0;var m=new e.RawShaderMaterial({depthWrite:!1,depthTest:!1,uniforms:{map:{value:l},map2:{value:d},color:{value:new e.Color(8947967)},opacity:{value:0},time:{value:0}},vertexShader:a(124),fragmentShader:a(349),transparent:!0,blending:e.AdditiveBlending,side:e.DoubleSide});return r.mesh=new e.Mesh(c,m),r.add(r.mesh),r.frustumCulled=!1,r.time=1e4*Math.random(),r.randomOpacity=1556+750*Math.random(),r._opacity=.2,r.globalOpacity=0,p.a.onDarknessChange.add(r.onDarknessChange),p.a.onStart.add(r.onStart),r}return d()(o,t),o.prototype.update=function(e){this.mesh.visible=0!=this.globalOpacity,this.time+=e,this.mesh.material.uniforms.opacity.value=(.1+Math.abs(Math.sin(this.time/this.randomOpacity))*this._opacity)*this.globalOpacity*this.str,this.mesh.material.uniforms.time.value+=3e-4*e},o})(e.Group);t.a=m}).call(t,a(28))},function(e){e.exports="precision highp float;\n\nuniform float opacity;\nuniform vec3 color;\nuniform float time;\nuniform sampler2D map;\nuniform sampler2D map2;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\tvec3 rgb = texture2D(map,vUv).rgb;\n\trgb += texture2D(map2,vec2(vUv.x+time,vUv.y)).rgb*.7*rgb;\n\trgb *= color;\n\tgl_FragColor = vec4(rgb, opacity);\n}\n"},function(e,t,a){"use strict";(function(e){var t=a(0),o=a.n(t),n=a(75),i=a.n(n),r=a(76),s=a.n(r),l=(function(t){function a(){o()(this,a);var n=new e.BoxBufferGeometry(100,600,20,10,60,2),r=new e.MeshBasicMaterial({wireframe:!0,transparent:!0,opacity:0}),s=i()(this,t.call(this,n,r));return s.frustumCulled=!1,s}return s()(a,t),a.prototype.update=function(){},a})(e.Mesh)}).call(t,a(28))},function(e,t,a){"use strict";var o=a(0),n=a.n(o),i=a(81),r=a(5);t.a=new function e(t){var a=this;n()(this,e),this.isInactive=!1,this.inactiveTime=0,i.a.onMove.add((function(){a.inactiveTime=0})),i.a.onClick.add((function(){a.inactiveTime=0})),r.a.onUpdate.add((function(e){a.inactiveTime+=e,a.isInactive=a.inactiveTime>=t}))}(1e4)},function(e){e.exports={nodes:[{name:"toScreen",value:null,type:"toScreen",x:111,y:756,id:"tlhnXaUkSqCl6kxb"},{name:"GammaNode",value:.49,type:"gamma",x:42,y:416,id:"Z7hlUhC18AzaFINs"},{name:"ContrastNode",value:.44,type:"contrast",x:72,y:500,id:"lJn7FBMnpNd1stNt"},{name:"ComputeNode",value:null,type:"compute",x:112,y:672,id:"JmndMw2p7cmax656"},{name:"Vignette",value:.22,type:"vignette",x:116,y:592,id:"cQlWXv0DljI6StTT"}],links:[{inID:"tlhnXaUkSqCl6kxb",inSlot:0,outID:"JmndMw2p7cmax656",outSlot:0},{inID:"lJn7FBMnpNd1stNt",inSlot:0,outID:"Z7hlUhC18AzaFINs",outSlot:0},{inID:"JmndMw2p7cmax656",inSlot:0,outID:"cQlWXv0DljI6StTT",outSlot:0},{inID:"cQlWXv0DljI6StTT",inSlot:0,outID:"lJn7FBMnpNd1stNt",outSlot:0}]}},function(e){e.exports={nodes:[{name:"toScreen",value:null,type:"toScreen",x:111,y:756,id:"tlhnXaUkSqCl6kxb"},{name:"GammaNode",value:.49,type:"gamma",x:81,y:348,id:"Z7hlUhC18AzaFINs"},{name:"ContrastNode",value:.44,type:"contrast",x:113,y:426,id:"lJn7FBMnpNd1stNt"},{name:"Noise",value:.09,type:"noise",x:147,y:501,id:"LtZBW78wwwv2Sajy"},{name:"ComputeNode",value:null,type:"compute",x:112,y:672,id:"JmndMw2p7cmax656"},{name:"Vignette",value:.22,type:"vignette",x:116,y:592,id:"cQlWXv0DljI6StTT"},{name:"FXAA",value:1,type:"fxaa",x:277,y:710,id:"OLud5cSytLhDBQ05"},{name:"BWNode",value:0,type:"bw",x:291,y:621,id:"rX0Sh505L6gFH28J"}],links:[{inID:"tlhnXaUkSqCl6kxb",inSlot:0,outID:"JmndMw2p7cmax656",outSlot:0},{inID:"lJn7FBMnpNd1stNt",inSlot:0,outID:"Z7hlUhC18AzaFINs",outSlot:0},{inID:"LtZBW78wwwv2Sajy",inSlot:0,outID:"lJn7FBMnpNd1stNt",outSlot:0},{inID:"JmndMw2p7cmax656",inSlot:0,outID:"cQlWXv0DljI6StTT",outSlot:0},{inID:"cQlWXv0DljI6StTT",inSlot:0,outID:"LtZBW78wwwv2Sajy",outSlot:0}]}},function(e){e.exports={nodes:[{name:"toScreen",value:null,type:"toScreen",x:125,y:787,id:"tlhnXaUkSqCl6kxb"},{name:"GammaNode",value:1,type:"gamma",x:81,y:348,id:"Z7hlUhC18AzaFINs"},{name:"ContrastNode",value:1,type:"contrast",x:113,y:426,id:"lJn7FBMnpNd1stNt"},{name:"Noise",value:0,type:"noise",x:147,y:501,id:"LtZBW78wwwv2Sajy"},{name:"ComputeNode",value:null,type:"compute",x:112,y:672,id:"JmndMw2p7cmax656"},{name:"Vignette",value:.1,type:"vignette",x:116,y:592,id:"cQlWXv0DljI6StTT"},{name:"FXAA",value:1,type:"fxaa",x:119,y:729,id:"OLud5cSytLhDBQ05"},{name:"BWNode",value:0,type:"bw",x:291,y:621,id:"rX0Sh505L6gFH28J"}],links:[{inID:"tlhnXaUkSqCl6kxb",inSlot:0,outID:"OLud5cSytLhDBQ05",outSlot:0},{inID:"lJn7FBMnpNd1stNt",inSlot:0,outID:"Z7hlUhC18AzaFINs",outSlot:0},{inID:"LtZBW78wwwv2Sajy",inSlot:0,outID:"lJn7FBMnpNd1stNt",outSlot:0},{inID:"JmndMw2p7cmax656",inSlot:0,outID:"cQlWXv0DljI6StTT",outSlot:0},{inID:"cQlWXv0DljI6StTT",inSlot:0,outID:"LtZBW78wwwv2Sajy",outSlot:0},{inID:"OLud5cSytLhDBQ05",inSlot:0,outID:"JmndMw2p7cmax656",outSlot:0}]}}]));